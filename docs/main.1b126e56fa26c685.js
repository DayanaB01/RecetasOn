"use strict";(self.webpackChunkTurismoA=self.webpackChunkTurismoA||[]).push([[179],{338:()=>{function Ae(t){return"function"==typeof t}function _u(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const yd=_u(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function os(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class un{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof yd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{WD(o)}catch(s){e=e??[],s instanceof yd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)WD(e);else{if(e instanceof un){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&os(n,e)}remove(e){const{_finalizers:n}=this;n&&os(n,e),e instanceof un&&e._removeParent(this)}}un.EMPTY=(()=>{const t=new un;return t.closed=!0,t})();const zD=un.EMPTY;function qD(t){return t instanceof un||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function WD(t){Ae(t)?t():t.unsubscribe()}const ro={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vd={setTimeout(t,e,...n){const{delegate:r}=vd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=vd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function KD(t){vd.setTimeout(()=>{const{onUnhandledError:e}=ro;if(!e)throw t;e(t)})}function Lg(){}const KU=Ug("C",void 0,void 0);function Ug(t,e,n){return{kind:t,value:e,error:n}}let io=null;function Id(t){if(ro.useDeprecatedSynchronousErrorHandling){const e=!io;if(e&&(io={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=io;if(io=null,n)throw r}}else t()}class Bg extends un{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qD(e)&&e.add(this)):this.destination=tB}static create(e,n,r){return new yu(e,n,r)}next(e){this.isStopped?$g(function YU(t){return Ug("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$g(function QU(t){return Ug("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$g(KU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ZU=Function.prototype.bind;function jg(t,e){return ZU.call(t,e)}class XU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ed(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ed(r)}else Ed(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ed(n)}}}class yu extends Bg{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ro.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jg(e.next,o),error:e.error&&jg(e.error,o),complete:e.complete&&jg(e.complete,o)}):i=e}this.destination=new XU(i)}}function Ed(t){ro.useDeprecatedSynchronousErrorHandling?function JU(t){ro.useDeprecatedSynchronousErrorHandling&&io&&(io.errorThrown=!0,io.error=t)}(t):KD(t)}function $g(t,e){const{onStoppedNotification:n}=ro;n&&vd.setTimeout(()=>n(t,e))}const tB={closed:!0,next:Lg,error:function eB(t){throw t},complete:Lg},Hg="function"==typeof Symbol&&Symbol.observable||"@@observable";function pi(t){return t}function QD(...t){return YD(t)}function YD(t){return 0===t.length?pi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function rB(t){return t&&t instanceof Bg||function nB(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&qD(t)}(n)?n:new yu(n,r,i);return Id(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=JD(r))((i,o)=>{const s=new yu({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Hg](){return this}pipe(...n){return YD(n)(this)}toPromise(n){return new(n=JD(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function JD(t){var e;return null!==(e=t??ro.Promise)&&void 0!==e?e:Promise}const iB=_u(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Kn=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ZD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iB}next(n){Id(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Id(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Id(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?zD:(this.currentObservers=null,o.push(n),new un(()=>{this.currentObservers=null,os(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new je;return n.source=this,n}}return t.create=(e,n)=>new ZD(e,n),t})();class ZD extends Kn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:zD}}function XD(t){return Ae(t?.lift)}function ft(t){return e=>{if(XD(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(t,e,n,r,i){return new oB(t,e,n,r,i)}class oB extends Bg{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(t,e){return ft((n,r)=>{let i=0;n.subscribe(ct(r,o=>{r.next(t.call(e,o,i++))}))})}function qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function gi(t){return this instanceof gi?(this.v=t,this):new gi(t)}function rA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Kg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const iA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function oA(t){return Ae(t?.then)}function sA(t){return Ae(t[Hg])}function aA(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function uA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cA=function AB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lA(t){return Ae(t?.[cA])}function dA(t){return function nA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof gi?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield gi(n.read());if(i)return yield gi(void 0);yield yield gi(r)}}finally{n.releaseLock()}})}function hA(t){return Ae(t?.getReader)}function En(t){if(t instanceof je)return t;if(null!=t){if(sA(t))return function bB(t){return new je(e=>{const n=t[Hg]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(iA(t))return function SB(t){return new je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(oA(t))return function RB(t){return new je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,KD)})}(t);if(aA(t))return fA(t);if(lA(t))return function PB(t){return new je(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(hA(t))return function MB(t){return fA(dA(t))}(t)}throw uA(t)}function fA(t){return new je(e=>{(function xB(t,e){var n,r,i,o;return function eA(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=rA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function kr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Dt(t,e,n=1/0){return Ae(e)?Dt((r,i)=>pe((o,s)=>e(r,o,i,s))(En(t(r,i))),n):("number"==typeof e&&(n=e),ft((r,i)=>function NB(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let _=!1;En(n(g,l++)).subscribe(ct(e,I=>{i?.(I),o?f(I):e.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const I=u.shift();s?kr(e,s,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ss(t=1/0){return Dt(pi,t)}const ur=new je(t=>t.complete());function Qg(t){return t[t.length-1]}function pA(t){return Ae(Qg(t))?t.pop():void 0}function vu(t){return function kB(t){return t&&Ae(t.schedule)}(Qg(t))?t.pop():void 0}function wd(t,e=0){return ft((n,r)=>{n.subscribe(ct(r,i=>kr(r,t,()=>r.next(i),e),()=>kr(r,t,()=>r.complete(),e),i=>kr(r,t,()=>r.error(i),e)))})}function Td(t,e=0){return ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gA(t,e){if(!t)throw new Error("Iterable cannot be null");return new je(n=>{kr(n,e,()=>{const r=t[Symbol.asyncIterator]();kr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vt(t,e){return e?function $B(t,e){if(null!=t){if(sA(t))return function FB(t,e){return En(t).pipe(Td(e),wd(e))}(t,e);if(iA(t))return function UB(t,e){return new je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(oA(t))return function LB(t,e){return En(t).pipe(Td(e),wd(e))}(t,e);if(aA(t))return gA(t,e);if(lA(t))return function BB(t,e){return new je(n=>{let r;return kr(n,e,()=>{r=t[cA](),kr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(hA(t))return function jB(t,e){return gA(dA(t),e)}(t,e)}throw uA(t)}(t,e):En(t)}class kn extends Kn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Y(...t){return vt(t,vu(t))}function mA(t={}){const{connector:e=(()=>new Kn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return ft((g,_)=>{c++,!d&&!l&&h();const I=u=u??e();_.add(()=>{c--,0===c&&!d&&!l&&(a=Yg(p,i))}),I.subscribe(_),!s&&c>0&&(s=new yu({next:y=>I.next(y),error:y=>{d=!0,h(),a=Yg(f,n,y),I.error(y)},complete:()=>{l=!0,h(),a=Yg(f,r),I.complete()}}),En(g).subscribe(s))})(o)}}function Yg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new yu({next:()=>{r.unsubscribe(),t()}});return En(e(...n)).subscribe(r)}function cr(t,e){return ft((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ct(r,u=>{i?.unsubscribe();let c=0;const l=o++;En(t(u,l)).subscribe(i=ct(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function zB(t,e){return t===e}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function Cd(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Jg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const qB=Ee({__forward_ref__:Ee});function Re(t){return t.__forward_ref__=Re,t.toString=function(){return pt(this())},t}function K(t){return Zg(t)?t():t}function Zg(t){return"function"==typeof t&&t.hasOwnProperty(qB)&&t.__forward_ref__===Re}function Xg(t){return t&&!!t.\u0275providers}const _A="https://g.co/ng/security#xss";class b extends Error{constructor(e,n){super(function Dd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function em(t,e){throw new b(-201,!1)}function Vn(t,e){null==t&&function z(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ad(t){return yA(t,Sd)||yA(t,vA)}function yA(t,e){return t.hasOwnProperty(e)?t[e]:null}function bd(t){return t&&(t.hasOwnProperty(tm)||t.hasOwnProperty(ej))?t[tm]:null}const Sd=Ee({\u0275prov:Ee}),tm=Ee({\u0275inj:Ee}),vA=Ee({ngInjectableDef:Ee}),ej=Ee({ngInjectorDef:Ee});var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{});let nm;function cn(t){const e=nm;return nm=t,e}function EA(t,e,n){const r=Ad(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&oe.Optional?null:void 0!==e?e:void em(pt(t))}const Pe=globalThis;class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Iu={},am="__NG_DI_FLAG__",Rd="ngTempTokenPath",rj=/\n/gm,TA="__source";let as;function mi(t){const e=as;return as=t,e}function sj(t,e=oe.Default){if(void 0===as)throw new b(-203,!1);return null===as?EA(t,void 0,e):as.get(t,e&oe.Optional?null:void 0,e)}function $(t,e=oe.Default){return(function IA(){return nm}()||sj)(K(t),e)}function F(t,e=oe.Default){return $(t,Pd(e))}function Pd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function um(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,o=oe.Default;for(let s=0;s<r.length;s++){const a=r[s],u=aj(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push($(i,o))}else e.push($(r))}return e}function Eu(t,e){return t[am]=e,t.prototype[am]=e,t}function aj(t){return t[am]}function Vr(t){return{toString:t}.toString()}var Md=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Md||{}),Qn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qn||{});const lr={},ge=[],xd=Ee({\u0275cmp:Ee}),cm=Ee({\u0275dir:Ee}),lm=Ee({\u0275pipe:Ee}),DA=Ee({\u0275mod:Ee}),Fr=Ee({\u0275fac:Ee}),wu=Ee({__NG_ELEMENT_ID__:Ee}),AA=Ee({__NG_ENV_ID__:Ee});function bA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function dm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];RA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function SA(t){return 3===t||4===t||6===t}function RA(t){return 64===t.charCodeAt(0)}function Tu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||PA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function PA(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const MA="ng-template";function lj(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==bA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function xA(t){return 4===t.type&&t.value!==MA}function dj(t,e,n){return e===(4!==t.type||n?t.value:MA)}function hj(t,e,n){let r=4;const i=t.attrs||[],o=function gj(t){for(let e=0;e<t.length;e++)if(SA(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!dj(t,u,n)||""===u&&1===e.length){if(Yn(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!lj(t.attrs,c,n)){if(Yn(r))return!1;s=!0}continue}const d=fj(8&r?"class":u,i,xA(t),n);if(-1===d){if(Yn(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==bA(f,c,0)||2&r&&c!==h){if(Yn(r))return!1;s=!0}}}}else{if(!s&&!Yn(r)&&!Yn(u))return!1;if(s&&Yn(u))continue;s=!1,r=u|1&r}}return Yn(r)||s}function Yn(t){return 0==(1&t)}function fj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function mj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function NA(t,e,n=!1){for(let r=0;r<e.length;r++)if(hj(t,e[r],n))return!0;return!1}function OA(t,e){return t?":not("+e.trim()+")":e}function yj(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Yn(s)&&(e+=OA(o,i),i=""),r=s,o=o||!Yn(r);n++}return""!==i&&(e+=OA(o,i)),e}function Jn(t){return Vr(()=>{const e=VA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Md.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""};FA(n);const r=t.dependencies;return n.directiveDefs=Nd(r,!1),n.pipeDefs=Nd(r,!0),n.id=function Aj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function wj(t){return de(t)||At(t)}function Tj(t){return null!==t}function ln(t){return Vr(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kA(t,e){if(null==t)return lr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Q(t){return Vr(()=>{const e=VA(t);return FA(e),e})}function de(t){return t[xd]||null}function At(t){return t[cm]||null}function Qt(t){return t[lm]||null}function Tn(t,e){const n=t[DA]||null;if(!n&&!0===e)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return n}function VA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||lr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kA(t.inputs,e),outputs:kA(t.outputs)}}function FA(t){t.features?.forEach(e=>e(t))}function Nd(t,e){if(!t)return null;const n=e?Qt:wj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Tj)}const Ke=0,N=1,ne=2,$e=3,Zn=4,Cu=5,Lt=6,cs=7,et=8,_i=9,ls=10,X=11,Du=12,LA=13,ds=14,tt=15,Au=16,hs=17,dr=18,bu=19,UA=20,yi=21,Lr=22,Su=23,Ru=24,se=25,hm=1,BA=2,hr=7,fs=9,bt=11;function hn(t){return Array.isArray(t)&&"object"==typeof t[hm]}function Yt(t){return Array.isArray(t)&&!0===t[hm]}function fm(t){return 0!=(4&t.flags)}function so(t){return t.componentOffset>-1}function kd(t){return 1==(1&t.flags)}function Xn(t){return!!t.template}function pm(t){return 0!=(512&t[ne])}function ao(t,e){return t.hasOwnProperty(Fr)?t[Fr]:null}let St=null,Vd=!1;function Fn(t){const e=St;return St=t,e}const HA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function zA(t){if(!Mu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!KA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function WA(t){t.dirty=!0,function qA(t){if(void 0===t.liveConsumerNode)return;const e=Vd;Vd=!0;try{for(const n of t.liveConsumerNode)n.dirty||WA(n)}finally{Vd=e}}(t),t.consumerMarkedDirty?.(t)}function mm(t){return t&&(t.nextProducerIndex=0),Fn(t)}function _m(t,e){if(Fn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Mu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function KA(t){ps(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zA(n),r!==n.version))return!0}return!1}function QA(t){if(ps(t),Mu(t))for(let e=0;e<t.producerNode.length;e++)Fd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fd(t,e){if(function JA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ps(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Fd(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ps(i),i.producerIndexOfThis[r]=e}}function Mu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ps(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ZA=null;const nb=()=>{},Uj=(()=>({...HA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:nb}))();class Bj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ln(){return rb}function rb(t){return t.type.prototype.ngOnChanges&&(t.setInput=$j),jj}function jj(){const t=ob(this),e=t?.current;if(e){const n=t.previous;if(n===lr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $j(t,e,n,r){const i=this.declaredInputs[n],o=ob(t)||function Hj(t,e){return t[ib]=e}(t,{previous:lr,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new Bj(u&&u.currentValue,e,a===lr),t[r]=e}Ln.ngInherit=!0;const ib="__ngSimpleChanges__";function ob(t){return t[ib]||null}const fr=function(t,e,n){};function Me(t){for(;Array.isArray(t);)t=t[Ke];return t}function Ld(t,e){return Me(e[t])}function fn(t,e){return Me(e[t.index])}function ub(t,e){return t.data[e]}function Cn(t,e){const n=e[t];return hn(n)?n:n[Ke]}function Ii(t,e){return null==e?null:t[e]}function cb(t){t[hs]=0}function Qj(t){1024&t[ne]||(t[ne]|=1024,db(t,1))}function lb(t){1024&t[ne]&&(t[ne]&=-1025,db(t,-1))}function db(t,e){let n=t[$e];if(null===n)return;n[Cu]+=e;let r=n;for(n=n[$e];null!==n&&(1===e&&1===r[Cu]||-1===e&&0===r[Cu]);)n[Cu]+=e,r=n,n=n[$e]}const q={lFrame:Cb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pb(){return q.bindingsEnabled}function T(){return q.lFrame.lView}function he(){return q.lFrame.tView}function Rt(){let t=_b();for(;null!==t&&64===t.type;)t=t.parent;return t}function _b(){return q.lFrame.currentTNode}function pr(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function wm(){return q.lFrame.isParent}function _s(){return q.lFrame.bindingIndex++}function a$(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cm(e)}function Cm(t){q.lFrame.currentDirectiveIndex=t}function Am(t){q.lFrame.currentQueryIndex=t}function c$(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Lt]:null}function wb(t,e,n){if(n&oe.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&oe.Host||(i=c$(o),null===i||(o=o[ds],10&i.type))););if(null===i)return!1;e=i,t=o}const r=q.lFrame=Tb();return r.currentTNode=e,r.lView=t,!0}function bm(t){const e=Tb(),n=t[N];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Tb(){const t=q.lFrame,e=null===t?null:t.child;return null===e?Cb(t):e}function Cb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Db(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ab=Db;function Sm(){const t=Db();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zt(){return q.lFrame.selectedIndex}function uo(t){q.lFrame.selectedIndex=t}function qe(){const t=q.lFrame;return ub(t.tView,t.selectedIndex)}let Sb=!0;function Ud(){return Sb}function Ei(t){Sb=t}function Bd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function jd(t,e,n){Rb(t,e,3,n)}function $d(t,e,n,r){(3&t[ne])===n&&Rb(t,e,n,r)}function Rm(t,e){let n=t[ne];(3&n)===e&&(n&=8191,n+=1,t[ne]=n)}function Rb(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[hs]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[hs]+=65536),(a<o||-1==o)&&(_$(t,n,e,u),t[hs]=(4294901760&t[hs])+u+2),u++}function Pb(t,e){fr(4,t,e);const n=Fn(null);try{e.call(t)}finally{Fn(n),fr(5,t,e)}}function _$(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ne]>>13<t[hs]>>16&&(3&t[ne])===e&&(t[ne]+=8192,Pb(a,o)):Pb(a,o)}const ys=-1;class Nu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Mm(t){return t!==ys}function Ou(t){return 32767&t}function ku(t,e){let n=function E$(t){return t>>16}(t),r=e;for(;n>0;)r=r[ds],n--;return r}let xm=!0;function Hd(t){const e=xm;return xm=t,e}const Mb=255,xb=5;let w$=0;const gr={};function Gd(t,e){const n=Nb(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Nm(r.data,t),Nm(e,null),Nm(r.blueprint,null));const i=zd(t,e),o=t.injectorIndex;if(Mm(i)){const s=Ou(i),a=ku(i,e),u=a[N].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Nm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Nb(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function zd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Bb(i),null===r)return ys;if(n++,i=i[ds],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ys}function Om(t,e,n){!function T$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(wu)&&(r=n[wu]),null==r&&(r=n[wu]=w$++);const i=r&Mb;e.data[t+(i>>xb)]|=1<<i}(t,e,n)}function Ob(t,e,n){if(n&oe.Optional||void 0!==t)return t;em()}function kb(t,e,n,r){if(n&oe.Optional&&void 0===r&&(r=null),!(n&(oe.Self|oe.Host))){const i=t[_i],o=cn(void 0);try{return i?i.get(e,r,n&oe.Optional):EA(e,r,n&oe.Optional)}finally{cn(o)}}return Ob(r,0,n)}function Vb(t,e,n,r=oe.Default,i){if(null!==t){if(2048&e[ne]&&!(r&oe.Self)){const s=function R$(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ne]&&!(512&s[ne]);){const a=Fb(o,s,n,r|oe.Self,gr);if(a!==gr)return a;let u=o.parent;if(!u){const c=s[UA];if(c){const l=c.get(n,gr,r);if(l!==gr)return l}u=Bb(s),s=s[ds]}o=u}return i}(t,e,n,r,gr);if(s!==gr)return s}const o=Fb(t,e,n,r,gr);if(o!==gr)return o}return kb(e,n,r,i)}function Fb(t,e,n,r,i){const o=function A$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(wu)?t[wu]:void 0;return"number"==typeof e?e>=0?e&Mb:S$:e}(n);if("function"==typeof o){if(!wb(e,t,r))return r&oe.Host?Ob(i,0,r):kb(e,n,r,i);try{let s;if(s=o(r),null!=s||r&oe.Optional)return s;em()}finally{Ab()}}else if("number"==typeof o){let s=null,a=Nb(t,e),u=ys,c=r&oe.Host?e[tt][Lt]:null;for((-1===a||r&oe.SkipSelf)&&(u=-1===a?zd(t,e):e[a+8],u!==ys&&Ub(r,!1)?(s=e[N],a=Ou(u),e=ku(u,e)):a=-1);-1!==a;){const l=e[N];if(Lb(o,a,l.data)){const d=D$(a,e,n,s,r,c);if(d!==gr)return d}u=e[a+8],u!==ys&&Ub(r,e[N].data[a+8]===c)&&Lb(o,a,e)?(s=l,a=Ou(u),e=ku(u,e)):a=-1}}return i}function D$(t,e,n,r,i,o){const s=e[N],a=s.data[t+8],l=function qd(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&Xn(f)&&f.type===n)return u}return null}(a,s,n,null==r?so(a)&&xm:r!=s&&0!=(3&a.type),i&oe.Host&&o===a);return null!==l?co(e,s,l,a):gr}function co(t,e,n,r){let i=t[n];const o=e.data;if(function y$(t){return t instanceof Nu}(i)){const s=i;s.resolving&&function WB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(o[n]));const a=Hd(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?cn(s.injectImpl):null;wb(t,r,oe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function m$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=rb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&cn(c),Hd(a),s.resolving=!1,Ab()}}return i}function Lb(t,e,n){return!!(n[e+(t>>xb)]&1<<t)}function Ub(t,e){return!(t&oe.Self||t&oe.Host&&e)}class Xt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Vb(this._tNode,this._lView,e,Pd(r),n)}}function S$(){return new Xt(Rt(),T())}function Pt(t){return Vr(()=>{const e=t.prototype.constructor,n=e[Fr]||km(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Fr]||km(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function km(t){return Zg(t)?()=>{const e=km(K(t));return e&&e()}:ao(t)}function Bb(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Lt]:null}const Is="__parameters__";function ws(t,e,n){return Vr(()=>{const r=function Vm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Is)?u[Is]:Object.defineProperty(u,Is,{value:[]})[Is];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Cs(t,e){t.forEach(n=>Array.isArray(n)?Cs(n,e):e(n))}function $b(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dn(t,e,n){let r=Ds(t,e);return r>=0?t[1|r]=n:(r=~r,function V$(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Fm(t,e){const n=Ds(t,e);if(n>=0)return t[1|n]}function Ds(t,e){return function Hb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const An=Eu(ws("Optional"),8),Yd=Eu(ws("SkipSelf"),4);function th(t){return 128==(128&t.flags)}var wi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wi||{});const $m=new Map;let sH=0;const Gm="__ngContext__";function Ut(t,e){hn(e)?(t[Gm]=e[bu],function uH(t){$m.set(t[bu],t)}(e)):t[Gm]=e}let zm;function qm(t,e){return zm(t,e)}function ju(t){const e=t[$e];return Yt(e)?e[$e]:e}function cS(t){return dS(t[Du])}function lS(t){return dS(t[Zn])}function dS(t){for(;null!==t&&!Yt(t);)t=t[Zn];return t}function Ss(t,e,n,r,i){if(null!=r){let o,s=!1;Yt(r)?o=r:hn(r)&&(s=!0,r=r[Ke]);const a=Me(r);0===t&&null!==n?null==i?gS(e,n,a):lo(e,n,a,i||null,!0):1===t&&null!==n?lo(e,n,a,i||null,!0):2===t?function uh(t,e,n){const r=sh(t,e);r&&function bH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function PH(t,e,n,r,i){const o=n[hr];o!==Me(n)&&Ss(e,t,r,o,i);for(let a=bt;a<n.length;a++){const u=n[a];Hu(u[N],u,t,e,r,o)}}(e,t,o,n,i)}}function ih(t,e,n){return t.createElement(e,n)}function fS(t,e){const n=t[fs],r=n.indexOf(e);lb(e),n.splice(r,1)}function oh(t,e){if(t.length<=bt)return;const n=bt+e,r=t[n];if(r){const i=r[Au];null!==i&&i!==t&&fS(i,r),e>0&&(t[n-1][Zn]=r[Zn]);const o=Kd(t,bt+e);!function vH(t,e){Hu(t,e,e[X],2,null,null),e[Ke]=null,e[Lt]=null}(r[N],r);const s=o[dr];null!==s&&s.detachView(o[N]),r[$e]=null,r[Zn]=null,r[ne]&=-129}return r}function Km(t,e){if(!(256&e[ne])){const n=e[X];e[Su]&&QA(e[Su]),e[Ru]&&QA(e[Ru]),n.destroyNode&&Hu(t,e,n,3,null,null),function wH(t){let e=t[Du];if(!e)return Qm(t[N],t);for(;e;){let n=null;if(hn(e))n=e[Du];else{const r=e[bt];r&&(n=r)}if(!n){for(;e&&!e[Zn]&&e!==t;)hn(e)&&Qm(e[N],e),e=e[$e];null===e&&(e=t),hn(e)&&Qm(e[N],e),n=e&&e[Zn]}e=n}}(e)}}function Qm(t,e){if(!(256&e[ne])){e[ne]&=-129,e[ne]|=256,function AH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Nu)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];fr(4,a,u);try{u.call(a)}finally{fr(5,a,u)}}else{fr(4,i,o);try{o.call(i)}finally{fr(5,i,o)}}}}}(t,e),function DH(t,e){const n=t.cleanup,r=e[cs];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[cs]=null);const i=e[yi];if(null!==i){e[yi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[N].type&&e[X].destroy();const n=e[Au];if(null!==n&&Yt(e[$e])){n!==e[$e]&&fS(n,e);const r=e[dr];null!==r&&r.detachView(t)}!function cH(t){$m.delete(t[bu])}(e)}}function Ym(t,e,n){return function pS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ke];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Qn.None||o===Qn.Emulated)return null}return fn(r,n)}}(t,e.parent,n)}function lo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gS(t,e,n){t.appendChild(e,n)}function mS(t,e,n,r,i){null!==r?lo(t,e,n,r,i):gS(t,e,n)}function sh(t,e){return t.parentNode(e)}let Jm,t_,lh,vS=function yS(t,e,n){return 40&t.type?fn(t,n):null};function ah(t,e,n,r){const i=Ym(t,r,e),o=e[X],a=function _S(t,e,n){return vS(t,e,n)}(r.parent||e[Lt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)mS(o,i,n[u],a,!1);else mS(o,i,n,a,!1);void 0!==Jm&&Jm(o,r,e,n,i)}function $u(t,e){if(null!==e){const n=e.type;if(3&n)return fn(e,t);if(4&n)return Zm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return $u(t,r);{const i=t[e.index];return Yt(i)?Zm(-1,i):Me(i)}}if(32&n)return qm(e,t)()||Me(t[e.index]);{const r=ES(t,e);return null!==r?Array.isArray(r)?r[0]:$u(ju(t[tt]),r):$u(t,e.next)}}return null}function ES(t,e){return null!==e?t[tt][Lt].projection[e.projection]:null}function Zm(t,e){const n=bt+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return $u(r,i)}return e[hr]}function Xm(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Ut(Me(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Xm(t,e,n.child,r,i,o,!1),Ss(e,t,i,a,o);else if(32&u){const c=qm(n,r);let l;for(;l=c();)Ss(e,t,i,l,o);Ss(e,t,i,a,o)}else 16&u?TS(t,e,r,n,i,o):Ss(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Hu(t,e,n,r,i,o){Xm(n,r,t.firstChild,e,i,o,!1)}function TS(t,e,n,r,i,o){const s=n[tt],u=s[Lt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ss(e,t,i,u[c],o);else{let c=u;const l=s[$e];th(r)&&(c.flags|=128),Xm(t,e,c,l,i,o,!0)}}function CS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function DS(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&dm(t,e,r),null!==i&&CS(t,e,i),null!==o&&function xH(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function SS(t){return function n_(){if(void 0===lh&&(lh=null,Pe.trustedTypes))try{lh=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lh}()?.createScriptURL(t)||t}class RS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_A})`}}function Ti(t){return t instanceof RS?t.changingThisBreaksApplicationSecurity:t}function Gu(t,e){const n=function $H(t){return t instanceof RS&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${_A})`)}return n===e}const qH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ms=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ms||{});function VS(t){const e=qu();return e?e.sanitize(Ms.URL,t)||"":Gu(t,"URL")?Ti(t):function r_(t){return(t=String(t)).match(qH)?t:"unsafe:"+t}(Z(t))}function FS(t){const e=qu();if(e)return SS(e.sanitize(Ms.RESOURCE_URL,t)||"");if(Gu(t,"ResourceURL"))return SS(Ti(t));throw new b(904,!1)}function qu(){const t=T();return t&&t[ls].sanitizer}const Wu=new V("ENVIRONMENT_INITIALIZER"),US=new V("INJECTOR",-1),BS=new V("INJECTOR_DEF_TYPES");class a_{get(e,n=Iu){if(n===Iu){const r=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw r.name="NullInjectorError",r}return n}}function oG(...t){return{\u0275providers:$S(0,t),\u0275fromNgModule:!0}}function $S(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Cs(e,s=>{const a=s;hh(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&HS(i,o),n}function HS(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];u_(i,o=>{e(o,r)})}}function hh(t,e,n,r){if(!(t=K(t)))return!1;let i=null,o=bd(t);const s=!o&&de(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=bd(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)hh(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Cs(o.imports,l=>{hh(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&HS(c,e)}if(!a){const c=ao(i)||(()=>new i);e({provide:i,useFactory:c,deps:ge},i),e({provide:BS,useValue:i,multi:!0},i),e({provide:Wu,useValue:()=>$(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;u_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function u_(t,e){for(let n of t)Xg(n)&&(n=n.\u0275providers),Array.isArray(n)?u_(n,e):e(n)}const sG=Ee({provide:String,useValue:Ee});function c_(t){return null!==t&&"object"==typeof t&&sG in t}function ho(t){return"function"==typeof t}const l_=new V("Set Injector scope."),fh={},uG={};let d_;function ph(){return void 0===d_&&(d_=new a_),d_}class Bn{}class xs extends Bn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f_(e,s=>this.processProvider(s)),this.records.set(US,Ns(void 0,this)),i.has("environment")&&this.records.set(Bn,Ns(void 0,this));const o=this.records.get(l_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(BS.multi,ge,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=mi(this),r=cn(void 0);try{return e()}finally{mi(n),cn(r)}}get(e,n=Iu,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AA))return e[AA](this);r=Pd(r);const o=mi(this),s=cn(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function fG(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Ad(e);u=c&&this.injectableDefInScope(c)?Ns(h_(e),fh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&oe.Self?ph():this.parent).get(e,n=r&oe.Optional&&n===Iu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Rd]=a[Rd]||[]).unshift(pt(e)),o)throw a;return function uj(t,e,n,r){const i=t[Rd];throw e[TA]&&i.unshift(e[TA]),t.message=function cj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):pt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Rd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{cn(s),mi(o)}}resolveInjectorInitializers(){const e=mi(this),n=cn(void 0);try{const i=this.get(Wu.multi,ge,oe.Self);for(const o of i)o()}finally{mi(e),cn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=ho(e=K(e))?e:K(e&&e.provide);const r=function lG(t){return c_(t)?Ns(void 0,t.useValue):Ns(qS(t),fh)}(e);if(ho(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ns(void 0,fh,!0),i.factory=()=>um(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===fh&&(n.value=uG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function hG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=K(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function h_(t){const e=Ad(t),n=null!==e?e.factory:ao(t);if(null!==n)return n;if(t instanceof V)throw new b(204,!1);if(t instanceof Function)return function cG(t){const e=t.length;if(e>0)throw function Lu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function XB(t){return t&&(t[Sd]||t[vA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function qS(t,e,n){let r;if(ho(t)){const i=K(t);return ao(i)||h_(i)}if(c_(t))r=()=>K(t.useValue);else if(function zS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...um(t.deps||[]));else if(function GS(t){return!(!t||!t.useExisting)}(t))r=()=>$(K(t.useExisting));else{const i=K(t&&(t.useClass||t.provide));if(!function dG(t){return!!t.deps}(t))return ao(i)||h_(i);r=()=>new i(...um(t.deps))}return r}function Ns(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function f_(t,e){for(const n of t)Array.isArray(n)?f_(n,e):n&&Xg(n)?f_(n.\u0275providers,e):e(n)}const gh=new V("AppId",{providedIn:"root",factory:()=>pG}),pG="ng",WS=new V("Platform Initializer"),fo=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),KS=new V("CSP nonce",{providedIn:"root",factory:()=>function Ps(){if(void 0!==t_)return t_;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let QS=(t,e,n)=>null;function E_(t,e,n=!1){return QS(t,e,n)}class CG{}class ZS{}class AG{resolveComponentFactory(e){throw function DG(t){const e=Error(`No component factory found for ${pt(t)}.`);return e.ngComponent=t,e}(e)}}let Eh=(()=>{class t{static{this.NULL=new AG}}return t})();function bG(){return Vs(Rt(),T())}function Vs(t,e){return new bn(fn(t,e))}let bn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=bG}}return t})();class e0{}let $r=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function RG(){const t=T(),n=Cn(Rt().index,t);return(hn(n)?n:t)[X]}()}}return t})(),PG=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}}return t})();class Fs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const t0=new Fs("16.2.12"),C_={};function s0(t,e=null,n=null,r){const i=a0(t,e,n,r);return i.resolveInjectorInitializers(),i}function a0(t,e=null,n=null,r,i=new Set){const o=[n||ge,oG(t)];return r=r||("object"==typeof t?void 0:pt(t)),new xs(o,e||ph(),r||null,i)}let Bt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Iu}static{this.NULL=new a_}static create(n,r){if(Array.isArray(n))return s0({name:""},r,n,"");{const i=n.name??"";return s0({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=H({token:t,providedIn:"any",factory:()=>$(US)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function A_(t){return t.ngOriginalError}class Hr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&A_(e);for(;n&&A_(n);)n=A_(n);return n||null}}function S_(t){return e=>{setTimeout(t,void 0,e)}}const Qe=class FG extends Kn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=S_(o),i&&(i=S_(i)),s&&(s=S_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof un&&e.add(a),a}};function c0(...t){}class Ie{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function LG(){const t="function"==typeof Pe.requestAnimationFrame;let e=Pe[t?"requestAnimationFrame":"setTimeout"],n=Pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function jG(t){const e=()=>{!function BG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,P_(t),t.isCheckStableRunning=!0,R_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),P_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function HG(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return l0(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),d0(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return l0(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),d0(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,P_(t),R_(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ie.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Ie.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,UG,c0,c0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const UG={};function R_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function P_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function l0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function d0(t){t._nesting--,R_(t)}class $G{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const h0=new V("",{providedIn:"root",factory:f0});function f0(){const t=F(Ie);let e=!0;return function HB(...t){const e=vu(t),n=function VB(t,e){return"number"==typeof Qg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?En(r[0]):ss(n)(vt(r,e)):ur}(new je(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new je(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(mA()))}function Gr(t){return t instanceof Function?t():t}let M_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Yu(t){for(;t;){t[ne]|=64;const e=ju(t);if(pm(t)&&!e)return t;t=e}return null}const y0=new V("",{providedIn:"root",factory:()=>!1});let Th=null;function w0(t,e){return t[e]??D0()}function T0(t,e){const n=D0();n.producerNode?.length&&(t[e]=Th,n.lView=t,Th=C0())}const XG={...HA,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yu(t.lView)},lView:null};function C0(){return Object.create(XG)}function D0(){return Th??=C0(),Th}const te={};function po(t){A0(he(),T(),Zt()+t,!1)}function A0(t,e,n,r){if(!r)if(3==(3&e[ne])){const o=t.preOrderCheckHooks;null!==o&&jd(e,o,n)}else{const o=t.preOrderHooks;null!==o&&$d(e,o,0,n)}uo(n)}function A(t,e=oe.Default){const n=T();return null===n?$(t,e):Vb(Rt(),n,K(t),e)}function Ch(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[Ke]=i,d[ne]=140|r,(null!==c||t&&2048&t[ne])&&(d[ne]|=2048),cb(d),d[$e]=d[ds]=t,d[et]=n,d[ls]=s||t&&t[ls],d[X]=a||t&&t[X],d[_i]=u||t&&t[_i]||null,d[Lt]=o,d[bu]=function aH(){return sH++}(),d[Lr]=l,d[UA]=c,d[tt]=2==e.type?t[tt]:d,d}function Bs(t,e,n,r,i){let o=t.data[e];if(null===o)o=function x_(t,e,n,r,i){const o=_b(),s=wm(),u=t.data[e]=function az(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function ms(){return null!==q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function s$(){return q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function xu(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return pr(o,!0),o}function Ju(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function S0(t,e,n,r,i){const o=w0(e,Su),s=Zt(),a=2&r;try{uo(-1),a&&e.length>se&&A0(t,e,se,!1),fr(a?2:0,i);const c=a?o:null,l=mm(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{_m(c,l)}}finally{a&&null===e[Su]&&T0(e,Su),uo(s),fr(a?3:1,i)}}function N_(t,e,n){if(fm(e)){const r=Fn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Fn(r)}}}function O_(t,e,n){pb()&&(function pz(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;so(n)&&function Ez(t,e,n){const r=fn(e,t),i=R0(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Dh(t,Ch(t,i,null,s,r,e,null,t[ls].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Gd(n,e),Ut(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=co(e,t,a,n);Ut(c,e),null!==s&&wz(0,a-i,c,u,0,s),Xn(u)&&(Cn(n.index,e)[et]=co(e,t,a,n))}}(t,e,n,fn(n,e)),64==(64&n.flags)&&O0(t,e,n))}function k_(t,e,n=fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function R0(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=V_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function V_(t,e,n,r,i,o,s,a,u,c,l){const d=se+r,h=d+i,f=function tz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(d,h),p="function"==typeof c?c():c;return f[N]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let P0=t=>null;function M0(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?x0(n,e,i,o):r.hasOwnProperty(i)&&x0(n,e,r[i],o)}return n}function x0(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function F_(t,e,n,r){if(pb()){const i=null===r?null:{"":-1},o=function mz(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(NA(e,s.selectors,!1))if(r||(r=[]),Xn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),L_(t,e,a.length)}else r.unshift(s),L_(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&N0(t,e,n,s,i,a),i&&function _z(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new b(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Tu(n.mergedAttrs,n.attrs)}function N0(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Om(Gd(n,e),t,r[c].type);!function vz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Ju(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Tu(n.mergedAttrs,l.hostAttrs),Iz(t,n,e,u,l),yz(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function uz(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=M0(d.inputs,l,u,h?h.inputs:null),c=M0(d.outputs,l,c,p);const g=null===u||null===s||xA(e)?null:Tz(u,l,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function O0(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function u$(){return q.lFrame.currentDirectiveIndex}();try{uo(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Cm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&gz(u,c)}}finally{uo(-1),Cm(s)}}function gz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function L_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xn(e)&&(n[""]=t)}}function Iz(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ao(i.type)),s=new Nu(o,Xn(i),A);t.blueprint[r]=s,n[r]=s,function hz(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function fz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Ju(t,n,i.hostVars,te),i)}function mr(t,e,n,r,i,o){const s=fn(t,e);!function U_(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Z(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[X],s,o,t.value,n,r,i)}function wz(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)k0(r,n,s[a++],s[a++],s[a++])}function k0(t,e,n,r,i){const o=Fn(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Fn(o)}}function Tz(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function V0(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function F0(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Am(n[r]),s.contentQueries(2,e[o],o)}}}function Dh(t,e){return t[Du]?t[LA][Zn]=e:t[Du]=e,t[LA]=e,e}function B_(t,e,n){Am(0);const r=Fn(null);try{e(t,n)}finally{Fn(r)}}function j0(t,e){const n=t[_i],r=n?n.get(Hr,null):null;r&&r.handleError(e)}function j_(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];k0(t.data[s],e[s],r,a,i)}}function Cz(t,e){const n=Cn(e,t),r=n[N];!function Dz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ke];null!==i&&null===n[Lr]&&(n[Lr]=E_(i,n[_i])),$_(r,n,n[et])}function $_(t,e,n){bm(e);try{const r=t.viewQuery;null!==r&&B_(1,r,n);const i=t.template;null!==i&&S0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&F0(t,e),t.staticViewQueries&&B_(2,t.viewQuery,n);const o=t.components;null!==o&&function Az(t,e){for(let n=0;n<e.length;n++)Cz(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,Sm()}}let $0=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function Lj(t,e,n){const r=Object.create(Uj);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>WA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!KA(r))return;r.hasRun=!0;const s=mm(r);try{r.cleanupFn(),r.cleanupFn=nb,r.fn(i)}finally{_m(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Ah(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Jg(i,a):2==o&&(r=Jg(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Zu(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Me(o)),Yt(o)&&H0(o,r);const s=n.type;if(8&s)Zu(t,e,n.child,r);else if(32&s){const a=qm(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=ES(e,n);if(Array.isArray(a))r.push(...a);else{const u=ju(e[tt]);Zu(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function H0(t,e){for(let n=bt;n<t.length;n++){const r=t[n],i=r[N].firstChild;null!==i&&Zu(r[N],r,i,e)}t[hr]!==t[Ke]&&e.push(t[hr])}function bh(t,e,n,r=!0){const i=e[ls],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{G0(t,e,t.template,n)}catch(u){throw r&&j0(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function G0(t,e,n,r){const i=e[ne];if(256!=(256&i)){e[ls].effectManager?.flush(),bm(e);try{cb(e),function vb(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&S0(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&jd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&$d(e,c,0,null),Rm(e,0)}if(function Rz(t){for(let e=cS(t);null!==e;e=lS(e)){if(!e[BA])continue;const n=e[fs];for(let r=0;r<n.length;r++){Qj(n[r])}}}(e),z0(e,2),null!==t.contentQueries&&F0(t,e),s){const c=t.contentCheckHooks;null!==c&&jd(e,c)}else{const c=t.contentHooks;null!==c&&$d(e,c,1),Rm(e,1)}!function ez(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=w0(e,Ru);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)uo(~o);else{const s=o,a=n[++i],u=n[++i];a$(a,s),r.dirty=!1;const c=mm(r);try{u(2,e[s])}finally{_m(r,c)}}}}finally{null===e[Ru]&&T0(e,Ru),uo(-1)}}(t,e);const a=t.components;null!==a&&W0(e,a,0);const u=t.viewQuery;if(null!==u&&B_(2,u,r),s){const c=t.viewCheckHooks;null!==c&&jd(e,c)}else{const c=t.viewHooks;null!==c&&$d(e,c,2),Rm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ne]&=-73,lb(e)}finally{Sm()}}}function z0(t,e){for(let n=cS(t);null!==n;n=lS(n))for(let r=bt;r<n.length;r++)q0(n[r],e)}function Pz(t,e,n){q0(Cn(e,t),n)}function q0(t,e){if(!function Wj(t){return 128==(128&t[ne])}(t))return;const n=t[N],r=t[ne];if(80&r&&0===e||1024&r||2===e)G0(n,t,n.template,t[et]);else if(t[Cu]>0){z0(t,1);const i=n.components;null!==i&&W0(t,i,1)}}function W0(t,e,n){for(let r=0;r<e.length;r++)Pz(t,e[r],n)}class Xu{get rootNodes(){const e=this._lView,n=e[N];return Zu(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return 256==(256&this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$e];if(Yt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(oh(e,r),Kd(n,r))}this._attachedToViewContainer=!1}Km(this._lView[N],this._lView)}onDestroy(e){!function hb(t,e){if(256==(256&t[ne]))throw new b(911,!1);null===t[yi]&&(t[yi]=[]),t[yi].push(e)}(this._lView,e)}markForCheck(){Yu(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){this._lView[ne]|=128}detectChanges(){bh(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EH(t,e){Hu(t,e,e[X],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class Mz extends Xu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;bh(e[N],e,e[et],!1)}checkNoChanges(){}get context(){return null}}class K0 extends Eh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new ec(n,this.ngModule)}}function Q0(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Nz{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pd(r);const i=this.injector.get(e,C_,r);return i!==C_||n===C_?i:this.parentInjector.get(e,n,r)}}class ec extends ZS{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Q0(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Q0(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function vj(t){return t.map(yj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Bn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Nz(e,o):e,a=s.get(e0,null);if(null===a)throw new b(407,!1);const d={rendererFactory:a,sanitizer:s.get(PG,null),effectManager:s.get($0,null),afterRenderEventManager:s.get(M_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function nz(t,e,n,r){const o=r.get(y0,!1)||n===Qn.ShadowDom,s=t.selectRootElement(e,o);return function rz(t){P0(t)}(s),s}(h,r,this.componentDef.encapsulation,s):ih(h,f,function xz(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=E_(p,s,!0));const w=V_(0,null,null,1,0,null,null,null,null,null,null),S=Ch(null,w,null,I,null,null,d,h,s,null,y);let k,W;bm(S);try{const me=this.componentDef;let ut,fi=null;me.findHostDirectiveDefs?(ut=[],fi=new Map,me.findHostDirectiveDefs(me,ut,fi),ut.push(me)):ut=[me];const mu=function kz(t,e){const n=t[N],r=se;return t[r]=e,Bs(n,r,2,"#host",null)}(S,p),bse=function Vz(t,e,n,r,i,o,s){const a=i[N];!function Fz(t,e,n,r){for(const i of t)e.mergedAttrs=Tu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ah(e,e.mergedAttrs,!0),null!==n&&DS(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=E_(e,i[_i]));const c=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Ch(i,R0(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&L_(a,t,r.length-1),Dh(i,d),i[t.index]=d}(mu,p,me,ut,S,d,h);W=ub(w,se),p&&function Uz(t,e,n,r){if(r)dm(t,n,["ng-version",t0.full]);else{const{attrs:i,classes:o}=function Ij(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Yn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&dm(t,n,i),o&&o.length>0&&CS(t,n,o.join(" "))}}(h,me,p,r),void 0!==n&&function Bz(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(W,this.ngContentSelectors,n),k=function Lz(t,e,n,r,i,o){const s=Rt(),a=i[N],u=fn(s,i);N0(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Ut(co(i,a,s.directiveStart+l,s),i);O0(a,i,s),u&&Ut(u,i);const c=co(i,a,s.directiveStart+s.componentOffset,s);if(t[et]=i[et]=c,null!==o)for(const l of o)l(c,e);return N_(a,s,t),c}(bse,me,ut,fi,S,[jz]),$_(w,S,null)}finally{Sm()}return new Oz(this.componentType,k,Vs(W,S),S,W)}}class Oz extends CG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Mz(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;j_(o[N],o,i,e,n),this.previousInputValues.set(e,n),Yu(Cn(this._tNode.index,o))}}get injector(){return new Xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jz(){const t=Rt();Bd(T()[N],t)}function we(t){let e=function Y0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Xn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Sh(t.inputs),s.inputTransforms=Sh(t.inputTransforms),s.declaredInputs=Sh(t.declaredInputs),s.outputs=Sh(t.outputs);const a=i.hostBindings;a&&zz(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Hz(t,u),c&&Gz(t,c),Cd(t.inputs,i.inputs),Cd(t.declaredInputs,i.declaredInputs),Cd(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Cd(s.inputTransforms,i.inputTransforms)),Xn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function $z(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tu(i.hostAttrs,n=Tu(n,i.hostAttrs))}}(r)}function Sh(t){return t===lr?{}:t===ge?[]:t}function Hz(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Gz(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function zz(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function eR(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Rh(t){return!!function H_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function yr(t,e,n,r){const i=T();return jt(i,_s(),e)&&(he(),mr(qe(),i,t,e,n,r)),yr}let pR=function gR(t,e,n,r){return Ei(!0),e[X].createComment("")};function Ys(t,e,n){const r=T();return jt(r,_s(),e)&&function Sn(t,e,n,r,i,o,s,a){const u=fn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(j_(t,n,l,r,i),so(e)&&function lz(t,e){const n=Cn(e,t);16&n[ne]||(n[ne]|=64)}(n,e.index)):3&e.type&&(r=function cz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(he(),qe(),r,t,e,r[X],n,!1),Ys}function Q_(t,e,n,r,i){const s=i?"class":"style";j_(t,n,e.inputs[s],s,r)}function U(t,e,n,r){const i=T(),o=he(),s=se+t,a=i[X],u=o.firstCreatePass?function E4(t,e,n,r,i,o){const s=e.consts,u=Bs(e,t,2,r,Ii(s,i));return F_(e,n,u,Ii(s,o)),null!==u.attrs&&Ah(u,u.attrs,!1),null!==u.mergedAttrs&&Ah(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=mR(o,i,u,a,e,t);i[s]=c;const l=kd(u);return pr(u,!0),DS(a,c,u),32!=(32&u.flags)&&Ud()&&ah(o,i,c,u),0===function Jj(){return q.lFrame.elementDepthCount}()&&Ut(c,i),function Zj(){q.lFrame.elementDepthCount++}(),l&&(O_(o,i,u),N_(o,u,i)),null!==r&&k_(i,u),U}function L(){let t=Rt();wm()?function Tm(){q.lFrame.isParent=!1}():(t=t.parent,pr(t,!1));const e=t;(function e$(t){return q.skipHydrationRootTNode===t})(e)&&function i$(){q.skipHydrationRootTNode=null}(),function Xj(){q.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(Bd(n,t),fm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function v$(t){return 0!=(8&t.flags)}(e)&&Q_(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function I$(t){return 0!=(16&t.flags)}(e)&&Q_(n,e,T(),e.stylesWithoutHost,!1),L}function Ve(t,e,n,r){return U(t,e,n,r),L(),Ve}let mR=(t,e,n,r,i,o)=>(Ei(!0),ih(r,i,function bb(){return q.lFrame.currentNamespace}()));function oc(t){return!!t&&"function"==typeof t.then}function IR(t){return!!t&&"function"==typeof t.subscribe}function Mt(t,e,n,r){const i=T(),o=he(),s=Rt();return function wR(t,e,n,r,i,o,s){const a=kd(r),c=t.firstCreatePass&&function U0(t){return t.cleanup||(t.cleanup=[])}(t),l=e[et],d=function L0(t){return t[cs]||(t[cs]=[])}(e);let h=!0;if(3&r.type||s){const g=fn(r,e),_=s?s(g):g,I=d.length,y=s?S=>s(Me(S[r.index])):r.index;let w=null;if(!s&&a&&(w=function b4(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[cs],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,h=!1;else{o=CR(r,e,l,o,!1);const S=n.listen(_,i,o);d.push(o,S),c&&c.push(i,y,I,I+1)}}else o=CR(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const k=e[p[_]][p[_+1]].subscribe(o),W=d.length;d.push(o,k),c&&c.push(i,r.index,W,-(W+1))}}}(o,i,i[X],s,t,e,r),Mt}function TR(t,e,n,r){try{return fr(6,e,n),!1!==n(r)}catch(i){return j0(t,i),!1}finally{fr(7,e,n)}}function CR(t,e,n,r,i){return function o(s){if(s===Function)return r;Yu(t.componentOffset>-1?Cn(t.index,e):e);let u=TR(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=TR(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function DR(t=1){return function l$(t){return(q.lFrame.contextLView=function d$(t,e){for(;t>0;)e=e[ds],t--;return e}(t,q.lFrame.contextLView))[et]}(t)}function Oh(t,e){return t<<17|e<<2}function Ci(t){return t>>17&32767}function X_(t){return 2|t}function mo(t){return(131068&t)>>2}function ey(t,e){return-131069&t|e<<2}function ty(t){return 1|t}function kR(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ci(o):mo(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];V4(t[a],e)&&(u=!0,t[a+1]=r?ty(l):X_(l)),a=r?Ci(l):mo(l)}u&&(t[n+1]=r?X_(o):ty(o))}function V4(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ds(t,e)>=0}function kh(t,e){return function er(t,e,n,r){const i=T(),o=he(),s=function Br(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function GR(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Zt()],s=function HR(t,e){return e>=t.expandoStartIndex}(t,n);(function KR(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function z4(t,e,n,r){const i=function Dm(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=sc(n=ny(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ny(i,t,e,n,r),null===o){let u=function q4(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mo(r))return t[Ci(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ny(null,t,e,u[1],r),u=sc(u,e.attrs,r),function W4(t,e,n,r){t[Ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function K4(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=sc(r,t[o].hostAttrs,n);return sc(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function O4(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ci(s),u=mo(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ds(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Ci(t[a+1]);t[r+1]=Oh(h,a),0!==h&&(t[h+1]=ey(t[h+1],r)),t[a+1]=function x4(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Oh(a,0),0!==a&&(t[a+1]=ey(t[a+1],r)),a=r;else t[r+1]=Oh(u,0),0===a?a=r:t[u+1]=ey(t[u+1],r),u=r;c&&(t[r+1]=X_(t[r+1])),kR(t,l,r,!0),kR(t,l,r,!1),function k4(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ds(o,e)>=0&&(n[r+1]=ty(n[r+1]))}(e,l,t,r,o),s=Oh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==te&&jt(i,s,e)&&function qR(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function N4(t){return 1==(1&t)}(c)?WR(u,e,n,i,mo(c),s):void 0;Vh(l)||(Vh(o)||function M4(t){return 2==(2&t)}(c)&&(o=WR(u,null,n,i,a,s)),function MH(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:wi.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wi.Important),t.setStyle(n,r,i,o))}}(r,s,Ld(Zt(),n),i,o))}(o,o.data[Zt()],i,i[X],t,i[s+1]=function Z4(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=pt(Ti(t)))),t}(e,n),r,s)}(t,e,null,!0),kh}function ny(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=sc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function sc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Dn(t,s,!!n||e[++o]))}return void 0===t?null:t}function WR(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===te&&(h=d?ge:void 0);let f=d?Fm(h,r):l===r?h:void 0;if(c&&!Vh(f)&&(f=Fm(u,r)),Vh(f)&&(a=f,s))return a;const p=t[i+1];i=s?Ci(p):mo(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Fm(u,r))}return a}function Vh(t){return void 0!==t}function G(t,e=""){const n=T(),r=he(),i=t+se,o=r.firstCreatePass?Bs(r,i,1,e,null):r.data[i],s=QR(r,n,o,e,t);n[i]=s,Ud()&&ah(r,n,s,o),pr(o,!1)}let QR=(t,e,n,r,i)=>(Ei(!0),function rh(t,e){return t.createText(e)}(e[X],r));function Zs(t){return ry("",t,""),Zs}function ry(t,e,n){const r=T(),i=function $s(t,e,n,r){return jt(t,_s(),n)?e+Z(n)+r:te}(r,t,e,n);return i!==te&&function zr(t,e,n){const r=Ld(e,t);!function hS(t,e,n){t.setValue(e,n)}(t[X],r,n)}(r,Zt(),i),ry}const ea="en-US";let _P=ea;function sy(t,e,n,r,i){if(t=K(t),Array.isArray(t))for(let o=0;o<t.length;o++)sy(t[o],e,n,r,i);else{const o=he(),s=T(),a=Rt();let u=ho(t)?t:K(t.provide);const c=qS(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(ho(t)||!t.multi){const f=new Nu(c,i,A),p=uy(u,e,i?l:l+h,d);-1===p?(Om(Gd(a,s),o,u),ay(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=uy(u,e,l+h,d),p=uy(u,e,l,l+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){Om(Gd(a,s),o,u);const I=function v3(t,e,n,r,i){const o=new Nu(t,n,A);return o.multi=[],o.index=e,o.componentProviders=0,$P(o,i,r&&!n),o}(i?y3:_3,n.length,i,r,c);!i&&_&&(n[p].providerFactory=I),ay(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)}else ay(o,t,f>-1?f:p,$P(n[i?p:f],c,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function ay(t,e,n,r){const i=ho(e),o=function aG(t){return!!t.useClass}(e);if(i||o){const u=(o?K(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function $P(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function uy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _3(t,e,n,r){return cy(this.multi,[])}function y3(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=co(n,n[N],this.providerFactory.index,r);o=a.slice(0,s),cy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],cy(i,o);return o}function cy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function He(t,e=[]){return n=>{n.providersResolver=(r,i)=>function m3(t,e,n){const r=he();if(r.firstCreatePass){const i=Xn(t);sy(n,r.data,r.blueprint,i,!0),sy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class yo{}class HP{}class ly extends yo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K0(this);const i=Tn(e);this._bootstrapComponents=Gr(i.bootstrap),this._r3Injector=a0(e,n,[{provide:yo,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class dy extends HP{constructor(e){super(),this.moduleType=e}create(e){return new ly(this.moduleType,e,[])}}class GP extends yo{constructor(e){super(),this.componentFactoryResolver=new K0(this),this.instance=null;const n=new xs([...e.providers,{provide:yo,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],e.parent||ph(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function hy(t,e,n=null){return new GP({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let w3=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=$S(0,n.type),i=r.length>0?hy([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t($(Bn))})}}return t})();function zP(t){t.getStandaloneInjector=e=>e.get(w3).getOrCreateStandaloneInjector(t)}function Y3(t,e,n,r=!0){const i=e[N];if(function TH(t,e,n,r){const i=bt+r,o=n.length;r>0&&(n[i-1][Zn]=e),r<o-bt?(e[Zn]=n[i],$b(n,bt+r,e)):(n.push(e),e[Zn]=null),e[$e]=n;const s=e[Au];null!==s&&n!==s&&function CH(t,e){const n=t[fs];e[tt]!==e[$e][$e][tt]&&(t[BA]=!0),null===n?t[fs]=[e]:n.push(e)}(s,e);const a=e[dr];null!==a&&a.insertView(t),e[ne]|=128}(i,e,t,n),r){const o=Zm(n,t),s=e[X],a=sh(s,t[hr]);null!==a&&function IH(t,e,n,r,i,o){r[Ke]=i,r[Lt]=e,Hu(t,r,n,1,i,o)}(i,t[Lt],s,e,a,o)}}let qr=(()=>{class t{static{this.__NG_ELEMENT_ID__=X3}}return t})();const J3=qr,Z3=class extends J3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Q3(t,e,n,r){const i=e.tView,a=Ch(t,i,n,4096&t[ne]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Au]=t[e.index];const c=t[dr];return null!==c&&(a[dr]=c.createEmbeddedView(i)),$_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Xu(i)}};function X3(){return function jh(t,e){return 4&t.type?new Z3(e,t,Vs(t,e)):null}(Rt(),T())}let nr=(()=>{class t{static{this.__NG_ELEMENT_ID__=oW}}return t})();function oW(){return function cM(t,e){let n;const r=e[t.index];return Yt(r)?n=r:(n=V0(r,e,null,t),e[t.index]=n,Dh(e,n)),lM(n,e,t,r),new aM(n,t,e)}(Rt(),T())}const sW=nr,aM=class extends sW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vs(this._hostTNode,this._hostLView)}get injector(){return new Xt(this._hostTNode,this._hostLView)}get parentInjector(){const e=zd(this._hostTNode,this._hostLView);if(Mm(e)){const n=ku(e,this._hostLView),r=Ou(e);return new Xt(n[N].data[r+8],n)}return new Xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=uM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Fu(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const u=s?e:new ec(de(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const _=(s?c:this.parentInjector).get(Bn,null);_&&(o=_)}de(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Kj(t){return Yt(t[$e])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[$e],l=new aM(c,c[Lt],c[$e]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return Y3(a,i,s,!r),e.attachToViewContainerRef(),$b(gy(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=uM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=oh(this._lContainer,n);r&&(Kd(gy(this._lContainer),n),Km(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=oh(this._lContainer,n);return r&&null!=Kd(gy(this._lContainer),n)?new Xu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uM(t){return t[8]}function gy(t){return t[8]||(t[8]=[])}let lM=function dM(t,e,n,r){if(t[hr])return;let i;i=8&n.type?Me(r):function aW(t,e){const n=t[X],r=n.createComment(""),i=fn(e,t);return lo(n,sh(n,i),r,function SH(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[hr]=i};const Ay=new V("Application Initializer");let by=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(Ay,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(oc(o))n.push(o);else if(IR(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Wr=new V("LocaleId",{providedIn:"root",factory:()=>F(Wr,oe.Optional|oe.SkipSelf)||function LW(){return typeof $localize<"u"&&$localize.locale||ea}()});let FM=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class jW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let LM=(()=>{class t{compileModuleSync(n){return new dy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Gr(Tn(n).declarations).reduce((s,a)=>{const u=de(a);return u&&s.push(new ec(u)),s},[]);return new jW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const $M=new V(""),zh=new V("");let xy,Py=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xy||(function c9(t){xy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)($(Ie),$(My),$(zh))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),My=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return xy?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Di=null;const HM=new V("AllowMultipleToken"),Ny=new V("PlatformDestroyListeners"),Oy=new V("appBootstrapListener");class zM{constructor(e,n){this.name=e,this.token=n}}function WM(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(o=[])=>{let s=ky();if(!s||s.injector.get(HM,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function h9(t){if(Di&&!Di.get(HM,!1))throw new b(400,!1);(function GM(){!function Nj(t){ZA=t}(()=>{throw new b(600,!1)})})(),Di=t;const e=t.get(QM);(function qM(t){t.get(WS,null)?.forEach(n=>n())})(t)}(function KM(t=[],e){return Bt.create({name:e,providers:[{provide:l_,useValue:"platform"},{provide:Ny,useValue:new Set([()=>Di=null])},...t]})}(a,r))}return function p9(t){const e=ky();if(!e)throw new b(401,!1);return e}()}}function ky(){return Di?.get(QM)??null}let QM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function g9(t="zone.js",e){return"noop"===t?new $G:"zone.js"===t?new Ie(e):t}(r?.ngZone,function YM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function E3(t,e,n){return new ly(t,e,n)}(n.moduleType,this.injector,function tx(t){return[{provide:Ie,useFactory:t},{provide:Wu,multi:!0,useFactory:()=>{const e=F(_9,{optional:!0});return()=>e.initialize()}},{provide:ex,useFactory:m9},{provide:h0,useFactory:f0}]}(()=>i)),s=o.injector.get(Hr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{qh(this._modules,o),a.unsubscribe()})}),function JM(t,e,n){try{const r=n();return oc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(by);return a.runInitializers(),a.donePromise.then(()=>(function yP(t){Vn(t,"Expected localeId to be defined"),"string"==typeof t&&(_P=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Wr,ea)||ea),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=ZM({},r);return function l9(t,e,n){const r=new dy(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(ra);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ny,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)($(Bt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function ZM(t,e){return Array.isArray(e)?e.reduce(ZM,t):{...t,...e}}let ra=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(ex),this.zoneIsStable=F(h0),this.componentTypes=[],this.components=[],this.isStable=F(FM).hasPendingTasks.pipe(cr(n=>n?Y(!1):this.zoneIsStable),function GB(t,e=pi){return t=t??zB,ft((n,r)=>{let i,o=!0;n.subscribe(ct(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),mA()),this._injector=F(Bn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof ZS;if(!this._injector.get(by).done)throw!i&&function us(t){const e=de(t)||At(t)||Qt(t);return null!==e&&e.standalone}(n),new b(405,!1);let s;s=i?n:this._injector.get(Eh).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function d9(t){return t.isBoundToModule}(s)?void 0:this._injector.get(yo),c=s.create(Bt.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get($M,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),qh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Oy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ex=new V("",{providedIn:"root",factory:()=>F(Hr).handleError.bind(void 0)});function m9(){const t=F(Ie),e=F(Hr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let _9=(()=>{class t{constructor(){this.zone=F(Ie),this.applicationRef=F(ra)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let Wh=(()=>{class t{static{this.__NG_ELEMENT_ID__=v9}}return t})();function v9(t){return function I9(t,e,n){if(so(t)&&!n){const r=Cn(t.index,e);return new Xu(r,r)}return 47&t.type?new Xu(e[tt],e):null}(Rt(),T(),16==(16&t))}class ox{constructor(){}supports(e){return Rh(e)}create(e){return new A9(e)}}const D9=(t,e)=>e;class A9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||D9}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<ax(r,i,o)?n:r,a=ax(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Rh(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Zz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new b9(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new sx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class b9{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class S9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new S9,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ax(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cx(){return new Yh([new ox])}let Yh=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:cx})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||cx()),deps:[[t,new Yd,new An]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new b(901,!1)}}return t})();const N9=WM(null,"core",[]);let O9=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)($(ra))}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({})}}return t})();function ia(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let jy=null;function Ai(){return jy}class K9{}const $n=new V("DocumentToken");let $y=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:function(){return F(Y9)},providedIn:"platform"})}}return t})();const Q9=new V("Location Initialized");let Y9=(()=>{class t extends $y{constructor(){super(),this._doc=F($n),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ai().getBaseHref(this._doc)}onPopState(n){const r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:function(){return new t},providedIn:"platform"})}}return t})();function Hy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function vx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let Io=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:function(){return F(Ex)},providedIn:"root"})}}return t})();const Ix=new V("appBaseHref");let Ex=(()=>{class t extends Io{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F($n).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Hy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Kr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Kr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)($($y),$(Ix,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),J9=(()=>{class t extends Io{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Hy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Kr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Kr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)($($y),$(Ix,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Gy=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function e5(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(vx(wx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(function X9(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,wx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Kr}static{this.joinWithSlash=Hy}static{this.stripTrailingSlash=vx}static{this.\u0275fac=function(r){return new(r||t)($(Io))}}static{this.\u0275prov=H({token:t,factory:function(){return function Z9(){return new Gy($(Io))}()},providedIn:"root"})}}return t})();function wx(t){return t.replace(/\/index.html$/,"")}class j5{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nx=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new j5(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Ox(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Ox(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(A(nr),A(qr),A(Yh))}}static{this.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Ox(t,e){t.context.$implicit=e.item}let p6=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({})}}return t})();function Ux(t){return"server"===t}let y6=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new v6($($n),window)})}}return t})();class v6{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function I6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class G6 extends K9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class av extends G6{static makeCurrent(){!function W9(t){jy||(jy=t)}(new av)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function z6(){return Ic=Ic||document.querySelector("base"),Ic?Ic.getAttribute("href"):null}();return null==n?null:function q6(t){hf=hf||document.createElement("a"),hf.setAttribute("href",t);const e=hf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function L5(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let hf,Ic=null,K6=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();const uv=new V("EventManagerPlugins");let Gx=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)($(uv),$(Ie))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();class zx{constructor(e){this._doc=e}}const cv="ng-app-id";let qx=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ux(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${cv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(cv),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(cv,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)($($n),$(gh),$(KS,8),$(fo))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();const lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dv=/%COMP%/g,Z6=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Kx(t,e){return e.map(n=>n.replace(dv,t))}let Qx=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Ux(a),this.defaultRenderer=new hv(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qn.ShadowDom&&(r={...r,encapsulation:Qn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Jx?i.applyToHost(n):i instanceof fv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Qn.Emulated:o=new Jx(u,c,r,this.appId,l,s,a,d);break;case Qn.ShadowDom:return new n8(u,c,n,r,s,a,this.nonce,d);default:o=new fv(u,c,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)($(Gx),$(qx),$(gh),$(Z6),$($n),$(fo),$(Ie),$(KS))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();class hv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(lv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Yx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Yx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=lv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=lv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(wi.DashCase|wi.Important)?e.style.setProperty(n,r,i&wi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ai().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Yx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class n8 extends hv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Kx(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fv extends hv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Kx(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jx extends fv{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function X6(t){return"_ngcontent-%COMP%".replace(dv,t)}(c),this.hostAttr=function e8(t){return"_nghost-%COMP%".replace(dv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let r8=(()=>{class t extends zx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)($($n))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();const Zx=["alt","control","meta","shift"],i8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},o8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let s8=(()=>{class t extends zx{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ai().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Zx.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=i8[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Zx.forEach(s=>{s!==i&&(0,o8[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||t)($($n))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();const eN=[{provide:fo,useValue:"browser"},{provide:WS,useValue:function a8(){av.makeCurrent()},multi:!0},{provide:$n,useFactory:function c8(){return function VH(t){t_=t}(document),document},deps:[]}],l8=WM(N9,"browser",eN),d8=new V(""),tN=[{provide:zh,useClass:class W6{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new b(5103,!1);return o},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ai().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:$M,useClass:Py,deps:[Ie,My,zh]},{provide:Py,useClass:Py,deps:[Ie,My,zh]}],nN=[{provide:l_,useValue:"root"},{provide:Hr,useFactory:function u8(){return new Hr},deps:[]},{provide:uv,useClass:r8,multi:!0,deps:[$n,Ie,fo]},{provide:uv,useClass:s8,multi:!0,deps:[$n]},Qx,qx,Gx,{provide:e0,useExisting:Qx},{provide:class E6{},useClass:K6,deps:[]},[]];let h8=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:gh,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)($(d8,12))}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({providers:[...nN,...tN],imports:[p6,O9]})}}return t})(),rN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)($($n))}}static{this.\u0275prov=H({token:t,factory:function(r){let i=null;return i=r?new r:function p8(){return new rN($($n))}(),i},providedIn:"root"})}}return t})();typeof window<"u"&&window;const v8_firebase={apiKey:"AIzaSyBMhFgKP5Ku2L-kgNS90dmhRRg-2Sgq07o",authDomain:"turismoa-29010.firebaseapp.com",projectId:"turismoa-29010",storageBucket:"turismoa-29010.appspot.com",messagingSenderId:"34046931683",appId:"1:34046931683:web:fa50cf49e179457c410bd6"};function aN(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){aN(o,r,i,s,a,"next",u)}function a(u){aN(o,r,i,s,a,"throw",u)}s(void 0)})}}const uN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},cN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new T8;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class T8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ff=function(t){return function(t){const e=uN(t);return cN.encodeByteArray(e,!0)}(t).replace(/\./g,"")},pf=function(t){try{return cN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},gf=()=>{try{return function A8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},dN=t=>{var e,n;return null===(n=null===(e=gf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},hN=()=>{var t;return null===(t=gf())||void 0===t?void 0:t.config},fN=t=>{var e;return null===(e=gf())||void 0===e?void 0:e[`_${t}`]};class pN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function gN(){try{return"object"==typeof indexedDB}catch{return!1}}class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function B8(t,e){return t.replace(j8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Jr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const j8=/\{\$([^}]+)}/g;function _f(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(_N(o)&&_N(s)){if(!_f(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _N(t){return null!==t&&"object"==typeof t}function yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class G8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function z8(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=mv),void 0===i.error&&(i.error=mv),void 0===i.complete&&(i.complete=mv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mv(){}function _n(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wo="[DEFAULT]";class J8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function X8(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===wo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class e7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const yv=[];var le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{});const yN={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},t7=le.INFO,n7={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},r7=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=n7[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class vv{constructor(e){this.name=e,this._logLevel=t7,this._logHandler=r7,this._userLogHandler=null,yv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const i7=(t,e)=>e.some(n=>t instanceof n);let vN,IN;const EN=new WeakMap,Iv=new WeakMap,wN=new WeakMap,Ev=new WeakMap,wv=new WeakMap;let Tv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Iv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function d7(t){return"function"==typeof t?function l7(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function s7(){return IN||(IN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Cv(this),e),Si(EN.get(this))}:function(...e){return Si(t.apply(Cv(this),e))}:function(e,...n){const r=t.call(Cv(this),e,...n);return wN.set(r,e.sort?e.sort():[e]),Si(r)}}(t):(t instanceof IDBTransaction&&function u7(t){if(Iv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Iv.set(t,e)}(t),i7(t,function o7(){return vN||(vN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Tv):t)}function Si(t){if(t instanceof IDBRequest)return function a7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Si(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&EN.set(n,t)}).catch(()=>{}),wv.set(e,t),e}(t);if(Ev.has(t))return Ev.get(t);const e=d7(t);return e!==t&&(Ev.set(t,e),wv.set(e,t)),e}const Cv=t=>wv.get(t),f7=["get","getKey","getAll","getAllKeys","count"],p7=["put","add","delete","clear"],Dv=new Map;function TN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Dv.get(e))return Dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=p7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!f7.includes(n))return;const o=function(){var s=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Dv.set(e,o),o}!function c7(t){Tv=t(Tv)}(t=>({...t,get:(e,n,r)=>TN(e,n)||t.get(e,n,r),has:(e,n)=>!!TN(e,n)||t.has(e,n)}));class g7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function m7(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Av="@firebase/app",To=new vv("@firebase/app"),vf="[DEFAULT]",$7={[Av]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Co=new Map,If=new Map;function H7(t,e){try{t.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sa(t){const e=t.name;if(If.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,t);for(const n of Co.values())H7(n,t);return!0}function Ef(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Zr=new Ec("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class z7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const aa="10.8.0";function DN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:vf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=hN()),!n)throw Zr.create("no-options");const o=Co.get(i);if(o){if(_f(n,o.options)&&_f(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}const s=new e7(i);for(const u of If.values())s.addComponent(u);const a=new z7(n,r,s);return Co.set(i,a),a}function bv(t=vf){const e=Co.get(t);if(!e&&t===vf&&hN())return DN();if(!e)throw Zr.create("no-app",{appName:t});return e}function AN(){return Array.from(Co.values())}function Pn(t,e,n){var r;let i=null!==(r=$7[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void To.warn(a.join(" "))}sa(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const q7="firebase-heartbeat-database",W7=1,Cc="firebase-heartbeat-store";let Rv=null;function bN(){return Rv||(Rv=function h7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Si(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Si(s.result),u.oldVersion,u.newVersion,Si(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(q7,W7,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Cc)}catch(n){console.warn(n)}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),Rv}function Pv(){return(Pv=m(function*(t){try{const n=(yield bN()).transaction(Cc),r=yield n.objectStore(Cc).get(RN(t));return yield n.done,r}catch(e){if(e instanceof Jr)To.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});To.warn(n.message)}}})).apply(this,arguments)}function SN(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*(t,e){try{const r=(yield bN()).transaction(Cc,"readwrite");yield r.objectStore(Cc).put(e,RN(t)),yield r.done}catch(n){if(n instanceof Jr)To.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n?.message});To.warn(r.message)}}})).apply(this,arguments)}function RN(t){return`${t.name}!${t.options.appId}`}class J7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PN();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=PN(),{heartbeatsToSend:i,unsentEntries:o}=function Z7(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),MN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ff(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function PN(){return(new Date).toISOString().substring(0,10)}class X7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!gN()&&function L8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function K7(t){return Pv.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return SN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return SN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function MN(t){return ff(JSON.stringify({version:2,heartbeats:t})).length}!function eK(t){sa(new Eo("platform-logger",e=>new g7(e),"PRIVATE")),sa(new Eo("heartbeat",e=>new J7(e),"PRIVATE")),Pn(Av,"0.9.27",t),Pn(Av,"0.9.27","esm2017"),Pn("fire-js","")}(""),Pn("firebase","10.8.0","app");class rK extends un{constructor(e,n){super()}schedule(e,n=0){return this}}const wf={setInterval(t,e,...n){const{delegate:r}=wf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=wf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class xN extends rK{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return wf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&wf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,os(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const NN={now:()=>(NN.delegate||Date).now(),delegate:void 0};class Dc{constructor(e,n=Dc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Dc.now=NN.now;class ON extends Dc{constructor(e,n=Dc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const sK=new class oK extends ON{}(class iK extends xN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),aK=new ON(xN);function xt(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?ft((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ct(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):pi}const Tf=new Fs("ANGULARFIRE2_VERSION");function kN(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const xv=(t,e)=>{const n=e?[e]:AN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class VN{constructor(){return xv(uK)}}const uK="app-check";function ua(){}class FN{zone;delegate;constructor(e,n=sK){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class cK{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua)),n.pipe(xt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nv=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new FN(Zone.current)),this.insideAngular=n.run(()=>new FN(Zone.current,aK)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)($(Ie))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ca(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Do(t){return ca().ngZone.run(()=>t())}function dK(t){return function hK(t){return function(n){return(n=n.lift(new cK(t.ngZone))).pipe(Td(t.outsideAngular),wd(t.insideAngular))}}(ca())(t)}const fK=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Do(()=>t.apply(void 0,r))},Ri=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Do(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua))),r[o]=fK(r[o],n));const i=function lK(t){return ca().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof je){const o=ca();return i.pipe(Td(o.outsideAngular),wd(o.insideAngular))}return Do(()=>i)}return i instanceof je?i.pipe(dK):i instanceof Promise?Do(()=>new Promise((o,s)=>i.then(a=>Do(()=>o(a)),a=>Do(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Do(()=>i)};class Ac{constructor(e){return e}}class Ov{constructor(){return AN()}}const kv=new V("angularfire2._apps"),gK={provide:Ac,useFactory:function pK(t){return t&&1===t.length?t[0]:new Ac(bv())},deps:[[new An,kv]]},mK={provide:Ov,deps:[[new An,kv]]};function _K(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ac(r)}}let yK=(()=>{class t{constructor(n){Pn("angularfire",Tf.full,"core"),Pn("angularfire",Tf.full,"app"),Pn("angular",t0.full,n.toString())}static \u0275fac=function(r){return new(r||t)($(fo))};static \u0275mod=ln({type:t});static \u0275inj=Kt({providers:[gK,mK]})}return t})();function vK(t,...e){return{ngModule:yK,providers:[{provide:kv,useFactory:_K(t),multi:!0,deps:[Ie,Bt,Nv,...e]}]}}const IK=Ri(DN,!0);const EK=function LN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},UN=new Ec("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cf=new vv("@firebase/auth");function Df(t,...e){Cf.logLevel<=le.ERROR&&Cf.error(`Auth (${aa}): ${t}`,...e)}function yn(t,...e){throw Vv(t,...e)}function Er(t,...e){return Vv(t,...e)}function Vv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UN.create(t,...e)}function R(t,e,...n){if(!t)throw Vv(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Df(e),new Error(e)}function Pi(t,e){t||wr(e)}function bc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function jN(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function TK(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Fv(){return"http:"===jN()||"https:"===jN()}()||function O8(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=function x8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}()||function k8(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return TK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lv(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class $N{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},AK=new Sc(3e4,6e4);function Fe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Le(t,e,n,r){return Uv.apply(this,arguments)}function Uv(){return(Uv=m(function*(t,e,n,r,i={}){return HN(t,i,m(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=yf(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),$N.fetch()(GN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function HN(t,e,n){return Bv.apply(this,arguments)}function Bv(){return(Bv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DK),e);try{const i=new SK(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Rc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Rc(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Rc(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Rc(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function BN(t,e,n){const r=Object.assign(Object.assign({},EK()),{[e]:n});return new Ec("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);yn(t,l)}}catch(i){if(i instanceof Jr)throw i;yn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Xr(t,e,n,r){return jv.apply(this,arguments)}function jv(){return(jv=m(function*(t,e,n,r,i={}){const o=yield Le(t,e,n,r,i);return"mfaPendingCredential"in o&&yn(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function GN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lv(t.config,i):`${t.config.apiScheme}://${i}`}function bK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),AK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Er(t,e,r);return i.customData._tokenResponse=n,i}function qN(t){return void 0!==t&&void 0!==t.enterprise}class WN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bK(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function KN(t,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=m(function*(t,e){return Le(t,"GET","/v2/recaptchaConfig",Fe(t,e))})).apply(this,arguments)}function Gv(){return(Gv=m(function*(t,e){return Le(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function qv(){return(qv=m(function*(t,e){return Le(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wv(){return(Wv=m(function*(t,e=!1){const n=_n(t),r=yield n.getIdToken(e),i=Af(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Pc(Kv(i.auth_time)),issuedAtTime:Pc(Kv(i.iat)),expirationTime:Pc(Kv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Kv(t){return 1e3*Number(t)}function Af(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const i=pf(n);return i?JSON.parse(i):(Df("Failed to decode base64 JWT payload"),null)}catch(i){return Df("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ei(t,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Jr&&function kK({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class VK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class QN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mc(t){return Yv.apply(this,arguments)}function Yv(){return Yv=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ei(t,function xK(t,e){return qv.apply(this,arguments)}(n,{idToken:r}));R(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function UK(t){return t.map(e=>{var{providerId:n}=e,r=qg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function LK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new QN(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Yv.apply(this,arguments)}function Jv(){return(Jv=m(function*(t){const e=_n(t);yield Mc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Zv(){return(Zv=m(function*(t,e){const n=yield HN(t,{},m(function*(){const r=yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=GN(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$N.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function Xv(){return(Xv=m(function*(t,e){return Le(t,"POST","/v2/accounts:revokeToken",Fe(t,e))})).apply(this,arguments)}class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function OK(t){const e=Af(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function BK(t,e){return Zv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new xc;return r&&(R("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(R("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return wr("not implemented")}}function Mi(t,e){R("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ao{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new QN(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ei(n,n.stsTokenManager.getToken(n.auth,e));return R(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function NK(t){return Wv.apply(this,arguments)}(this,e)}reload(){return function FK(t){return Jv.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Mc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ei(e,function PK(t,e){return Gv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:S,isAnonymous:k,providerData:W,stsTokenManager:me}=n;R(w&&me,e,"internal-error");const ut=xc.fromJSON(this.name,me);R("string"==typeof w,e,"internal-error"),Mi(d,e.name),Mi(h,e.name),R("boolean"==typeof S,e,"internal-error"),R("boolean"==typeof k,e,"internal-error"),Mi(f,e.name),Mi(p,e.name),Mi(g,e.name),Mi(_,e.name),Mi(I,e.name),Mi(y,e.name);const fi=new Ao({uid:w,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ut,createdAt:I,lastLoginAt:y});return W&&Array.isArray(W)&&(fi.providerData=W.map(mu=>Object.assign({},mu))),_&&(fi._redirectEventId=_),fi}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new xc;i.updateFromServerResponse(n);const o=new Ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Mc(o),o})()}}const YN=new Map;function ti(t){Pi(t instanceof Function,"Expected a class definition");let e=YN.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YN.set(t,e),e)}const JN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function bf(t,e,n){return`firebase:${t}:${e}:${n}`}class da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=bf(this.userKey,i.apiKey,o),this.fullPersistenceKey=bf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ao._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new da(ti(JN),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||ti(JN);const s=bf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=Ao._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new da(o,e,r)):new da(o,e,r)})()}}function ZN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r1(e))return"Blackberry";if(i1(e))return"Webos";if(eI(e))return"Safari";if((e.includes("chrome/")||e1(e))&&!e.includes("edge/"))return"Chrome";if(n1(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function XN(t=Je()){return/firefox\//i.test(t)}function eI(t=Je()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e1(t=Je()){return/crios\//i.test(t)}function t1(t=Je()){return/iemobile/i.test(t)}function n1(t=Je()){return/android/i.test(t)}function r1(t=Je()){return/blackberry/i.test(t)}function i1(t=Je()){return/webos/i.test(t)}function Sf(t=Je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o1(t=Je()){return Sf(t)||n1(t)||i1(t)||r1(t)||/windows phone/i.test(t)||t1(t)}function s1(t,e=[]){let n;switch(t){case"Browser":n=ZN(Je());break;case"Worker":n=`${ZN(Je())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}class zK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function tI(){return(tI=m(function*(t,e={}){return Le(t,"GET","/v2/passwordPolicy",Fe(t,e))})).apply(this,arguments)}class KK{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class QK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a1(this),this.idTokenSubscription=new a1(this),this.beforeStateQueue=new zK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(m(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield da.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return R(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Mc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function CK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?_n(e):null;return r&&R(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ti(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return m(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return m(function*(){const n=yield function qK(t){return tI.apply(this,arguments)}(e),r=new KK(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return m(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function jK(t,e){return Xv.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ti(e)||n._popupRedirectResolver;R(r,n,"argument-error"),n.redirectPersistenceManager=yield da.create(n,[ti(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function wK(t,...e){Cf.logLevel<=le.WARN&&Cf.warn(`Auth (${aa}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function rt(t){return _n(t)}class a1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function H8(t,e){const n=new G8(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nc={loadJS:()=>m(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nI(t){return Nc.loadJS(t)}function u1(t){return`__${t}${Math.floor(1e6*Math.random())}`}class c1{constructor(e){this.type="recaptcha-enterprise",this.auth=rt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function o(){return o=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){KN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new WN(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;qN(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&qN(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));let l=function ZK(){return Nc.recaptchaEnterpriseScript}();0!==l.length&&(l+=c),nI(l).then(()=>{s(c,a,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})})()}}function l1(t,e,n){return rI.apply(this,arguments)}function rI(){return(rI=m(function*(t,e,n,r=!1){const i=new c1(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function Oc(t,e,n,r){return iI.apply(this,arguments)}function iI(){return iI=m(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield l1(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=m(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield l1(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),iI.apply(this,arguments)}function d1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class f1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}function cQ(t,e){return uI.apply(this,arguments)}function uI(){return(uI=m(function*(t,e){return Le(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function dQ(t,e){return lI.apply(this,arguments)}function lI(){return(lI=m(function*(t,e){return Xr(t,"POST","/v1/accounts:signInWithPassword",Fe(t,e))})).apply(this,arguments)}function mI(){return(mI=m(function*(t,e){return Xr(t,"POST","/v1/accounts:signInWithEmailLink",Fe(t,e))})).apply(this,arguments)}function _I(){return(_I=m(function*(t,e){return Xr(t,"POST","/v1/accounts:signInWithEmailLink",Fe(t,e))})).apply(this,arguments)}class kc extends f1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){switch(n.signInMethod){case"password":return Oc(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",dQ);case"emailLink":return function mQ(t,e){return mI.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:yn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return Oc(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cQ);case"emailLink":return function _Q(t,e){return _I.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:yn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ni(t,e){return yI.apply(this,arguments)}function yI(){return(yI=m(function*(t,e){return Xr(t,"POST","/v1/accounts:signInWithIdp",Fe(t,e))})).apply(this,arguments)}class Lc{constructor(e){var n,r,i,o,s,a;const u=wc(Tc(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function CQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);R(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function DQ(t){const e=wc(Tc(t)).link,n=e?wc(Tc(e)).deep_link_id:null,r=wc(Tc(t)).deep_link_id;return(r?wc(Tc(r)).link:null)||r||n||e||t}(e);try{return new Lc(n)}catch{return null}}}let g1=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return kc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Lc.parseLink(r);return R(i,"argument-error"),kc._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class xi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class AQ extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function m1(t,e){return CI.apply(this,arguments)}function CI(){return(CI=m(function*(t,e){return Xr(t,"POST","/v1/accounts:signUp",Fe(t,e))})).apply(this,arguments)}class zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const o=yield Ao._fromIdTokenResponse(e,r,i),s=_1(r);return new zn({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=_1(r);return new zn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function _1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Mf extends Jr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mf(e,n,r,i)}}function y1(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Mf._fromErrorAndOperation(t,o,e,r):o})}function SI(){return(SI=m(function*(t,e,n=!1){const r=yield ei(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return zn._forOperation(t,"link",r)})).apply(this,arguments)}function PI(){return(PI=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield ei(t,y1(r,i,e,t),n);R(o.idToken,r,"internal-error");const s=Af(o.idToken);R(s,r,"internal-error");const{sub:a}=s;return R(t.uid===a,r,"user-mismatch"),zn._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&yn(r,"user-mismatch"),o}})).apply(this,arguments)}function E1(t,e){return MI.apply(this,arguments)}function MI(){return(MI=m(function*(t,e,n=!1){const r="signIn",i=yield y1(t,r,e),o=yield zn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function NI(){return(NI=m(function*(t,e){return E1(rt(t),e)})).apply(this,arguments)}function jI(t){return $I.apply(this,arguments)}function $I(){return($I=m(function*(t){const e=rt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function NQ(t,e,n){return KI.apply(this,arguments)}function KI(){return(KI=m(function*(t,e,n){const r=rt(t),s=yield Oc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m1).catch(u=>{throw"auth/password-does-not-meet-requirements"===u.code&&jI(t),u}),a=yield zn._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}function OQ(t,e,n){return function xI(t,e){return NI.apply(this,arguments)}(_n(t),g1.credential(e,n)).catch(function(){var r=m(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&jI(t),i});return function(i){return r.apply(this,arguments)}}())}function T1(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function HQ(t){return _n(t).signOut()}const Of="__sak";class C1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JQ=(()=>{class t extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function KQ(){const t=Je();return eI(t)||Sf(t)}()&&function GK(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function HK(){return function V8(){const t=Je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return m(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),D1=(()=>{class t extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let XQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function ZQ(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function lE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class eY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const l=lE("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function dt(){return window}function dE(){return typeof dt().WorkerGlobalScope<"u"&&"function"==typeof dt().importScripts}function hE(){return(hE=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const A1="firebaseLocalStorageDb",kf="firebaseLocalStorage",b1="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(t,e){return t.transaction([kf],e?"readwrite":"readonly").objectStore(kf)}function fE(){const t=indexedDB.open(A1,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kf,{keyPath:b1})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(kf)?e(r):(r.close(),yield function sY(){const t=indexedDB.deleteDatabase(A1);return new Bc(t).toPromise()}(),e(yield fE()))}))})}function S1(t,e,n){return pE.apply(this,arguments)}function pE(){return(pE=m(function*(t,e,n){const r=Vf(t,!0).put({[b1]:e,value:n});return new Bc(r).toPromise()})).apply(this,arguments)}function gE(){return(gE=m(function*(t,e){const n=Vf(t,!1).get(e),r=yield new Bc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function R1(t,e){const n=Vf(t,!0).delete(e);return new Bc(n).toPromise()}const lY=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield fE()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return dE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=XQ._getInstance(function iY(){return dE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function nY(){return hE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new eY(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function rY(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield fE();return yield S1(n,Of,"1"),yield R1(n,Of),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(o=>S1(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(o=>function aY(t,e){return gE.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>R1(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(s=>{const a=Vf(s,!1).getAll();return new Bc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();u1("rcb"),new Sc(3e4,6e4);class CE extends f1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DY(t){return E1(t.auth,new CE(t),t.bypassAuthState)}function AY(t){const{auth:e,user:n}=t;return R(n,e,"internal-error"),function I1(t,e){return PI.apply(this,arguments)}(n,new CE(t),t.bypassAuthState)}function bY(t){return DE.apply(this,arguments)}function DE(){return(DE=m(function*(t){const{auth:e,user:n}=t;return R(n,e,"internal-error"),function bI(t,e){return SI.apply(this,arguments)}(n,new CE(t),t.bypassAuthState)})).apply(this,arguments)}class SY{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DY;case"linkViaPopup":case"linkViaRedirect":return bY;case"reauthViaPopup":case"reauthViaRedirect":return AY;default:yn(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Sc(2e3,1e4);const RY="pendingRedirect",jc=new Map;class PY extends SY{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=jc.get(n.auth._key());if(!r){try{const o=(yield function MY(t,e){return PE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}jc.set(n.auth._key(),r)}return n.bypassAuthState||jc.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function PE(){return(PE=m(function*(t,e){const n=function x1(t){return bf(RY,t.config.apiKey,t.name)}(e),r=function M1(t){return ti(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function xY(t,e){jc.set(t._key(),e)}function N1(t,e){return FE.apply(this,arguments)}function FE(){return(FE=m(function*(t,e,n=!1){const r=rt(t),i=function So(t,e){return e?ti(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new PY(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class FY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function LY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V1(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!V1(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(k1(e))}saveEventToCache(e){this.cachedEventUids.add(k1(e)),this.lastProcessedEventTime=Date.now()}}function k1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function V1({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function UE(){return(UE=m(function*(t,e={}){return Le(t,"GET","/v1/projects",e)})).apply(this,arguments)}const BY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jY=/^https?/;function BE(){return BE=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function UY(t){return UE.apply(this,arguments)}(t);for(const n of e)try{if(HY(n))return}catch{}yn(t,"unauthorized-domain")}),BE.apply(this,arguments)}function HY(t){const e=bc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!jY.test(n))return!1;if(BY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const GY=new Sc(3e4,6e4);function F1(){const t=dt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Lf=null;const WY=new Sc(5e3,15e3),KY="__/auth/iframe",QY="emulator/auth/iframe",YY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZY(t){const e=t.config;R(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,QY):`https://${t.config.authDomain}/${KY}`,r={apiKey:e.apiKey,appName:t.name,v:aa},i=JY.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yf(r).slice(1)}`}function jE(){return jE=m(function*(t){const e=yield function qY(t){return Lf=Lf||function zY(t){return new Promise((e,n)=>{var r,i,o;function s(){F1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F1(),n(Er(t,"network-request-failed"))},timeout:GY.get()})}if(null!==(i=null===(r=dt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=dt().gapi)||void 0===o||!o.load){const a=u1("iframefcb");return dt()[a]=()=>{gapi.load?s():n(Er(t,"network-request-failed"))},nI(`${function XK(){return Nc.gapiScript}()}?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw Lf=null,e})}(t),Lf}(t),n=dt().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:ZY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YY,dontclear:!0},r=>new Promise(function(){var i=m(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Er(t,"network-request-failed"),u=dt().setTimeout(()=>{s(a)},WY.get());function c(){dt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),jE.apply(this,arguments)}const eJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class L1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const aJ="__/auth/handler",uJ="emulator/auth/handler",cJ=encodeURIComponent("fac");function U1(t,e,n,r,i,o){return $E.apply(this,arguments)}function $E(){return($E=m(function*(t,e,n,r,i,o){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:aa,eventId:i};if(e instanceof xi){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function $8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof AQ){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${cJ}=${encodeURIComponent(u)}`:"";return`${function lJ({config:t}){return t.emulator?Lv(t,uJ):`https://${t.authDomain}/${aJ}`}(t)}?${yf(a).slice(1)}${c}`})).apply(this,arguments)}const HE="webStorageSupport",hJ=class dJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=N1,this._overrideRedirectResult=xY}_openPopup(e,n,r,i){var o=this;return m(function*(){var s;Pi(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield U1(e,n,r,bc(),i);return function oJ(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},eJ),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Je().toLowerCase();n&&(a=e1(c)?"_blank":n),XN(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function $K(t=Je()){var e;return Sf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function sJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new L1(null);const d=window.open(e||"",a,l);R(d,t,"popup-blocked");try{d.focus()}catch{}return new L1(d)}(e,a,lE())})()}_openRedirect(e,n,r,i){var o=this;return m(function*(){return yield o._originValidation(e),function tY(t){dt().location.href=t}(yield U1(e,n,r,bc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function XY(t){return jE.apply(this,arguments)}(e),i=new FY(e);return r.register("authEvent",o=>(R(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(HE,{type:HE},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[HE];void 0!==s&&n(!!s),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function $Y(t){return BE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o1()||eI()||Sf()}};var $1="@firebase/auth";class fJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _J=fN("authIdTokenMaxAge")||300;let G1=null;const yJ=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>_J)return;const o=r?.token;G1!==o&&(G1=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function vJ(t=bv()){const e=Ef(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function rQ(t,e){const n=Ef(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(_f(n.getOptions(),e??{}))return i;yn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:hJ,persistence:[lY,JQ,D1]}),r=fN("authTokenSyncURL");if(r){const o=yJ(r);(function $Q(t,e,n){_n(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),T1(n,s=>o(s))}const i=dN("auth");return i&&function oQ(t,e,n){const r=rt(t);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=d1(e),{host:s,port:a}=function sQ(t){const e=d1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:h1(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:h1(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function aQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function z1(t){return new je(function(e){return{unsubscribe:T1(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}(function YK(t){Nc=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Er("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function IJ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function gJ(t){sa(new Eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(t)},c=new QK(r,i,o,u);return function iQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sa(new Eo("auth-internal",e=>{const n=rt(e.getProvider("auth").getImmediate());return new fJ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn($1,"1.6.0",function pJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Pn($1,"1.6.0","esm2017")}("Browser");class $c{constructor(e){return e}}class W1{constructor(){return xv("auth")}}const zE=new V("angularfire2.auth-instances");function wJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $c(r)}}const TJ={provide:W1,deps:[[new An,zE]]},CJ={provide:$c,useFactory:function EJ(t,e){const n=kN("auth",t,e);return n&&new $c(n)},deps:[[new An,zE],Ac]};let DJ=(()=>{class t{constructor(){Pn("angularfire",Tf.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ln({type:t});static \u0275inj=Kt({providers:[CJ,TJ]})}return t})();function AJ(t,...e){return{ngModule:DJ,providers:[{provide:zE,useFactory:wJ(t),multi:!0,deps:[Ie,Bt,Nv,Ov,[new An,VN],...e]}]}}const bJ=Ri(z1,!0),SJ=Ri(NQ,!0),RJ=Ri(vJ,!0),PJ=Ri(OQ,!0),MJ=Ri(HQ,!0);var x,xJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},or={},qE=qE||{},ee=xJ||self;function Bf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Hc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var WE="closure_uid_"+(1e9*Math.random()>>>0),OJ=0;function kJ(t,e,n){return t.call.apply(t.bind,arguments)}function VJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $t(t,e,n){return($t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kJ:VJ).apply(null,arguments)}function jf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ni(){this.s=this.s,this.o=this.o}Ni.prototype.s=!1,Ni.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function NJ(t){Object.prototype.hasOwnProperty.call(t,WE)&&t[WE]||(t[WE]=++OJ)}(this)},Ni.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const K1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function KE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Bf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var LJ=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ee.addEventListener("test",n,e),ee.removeEventListener("test",n,e)}catch{}return t}();function Gc(t){return/^[\s\xa0]*$/.test(t)}function $f(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Tr(t){return-1!=$f().indexOf(t)}function QE(t){return QE[" "](t),t}QE[" "]=function(){};var JE,t,BJ=Tr("Opera"),ha=Tr("Trident")||Tr("MSIE"),Y1=Tr("Edge"),YE=Y1||ha,J1=Tr("Gecko")&&!(-1!=$f().toLowerCase().indexOf("webkit")&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),jJ=-1!=$f().toLowerCase().indexOf("webkit")&&!Tr("Edge");function Z1(){var t=ee.document;return t?t.documentMode:void 0}e:{var ZE="",XE=(t=$f(),J1?/rv:([^\);]+)(\)|;)/.exec(t):Y1?/Edge\/([\d\.]+)/.exec(t):ha?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):jJ?/WebKit\/(\S+)/.exec(t):BJ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(XE&&(ZE=XE?XE[1]:""),ha){var ew=Z1();if(null!=ew&&ew>parseFloat(ZE)){JE=String(ew);break e}}JE=ZE}var $J=ee.document&&ha&&(Z1()||parseInt(JE,10))||void 0;function zc(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(J1){e:{try{QE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:HJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zc.$.h.call(this)}}It(zc,Ht);var HJ={2:"touch",3:"pen",4:"mouse"};zc.prototype.h=function(){zc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qc="closure_listenable_"+(1e6*Math.random()|0),GJ=0;function zJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++GJ,this.fa=this.ia=!1}function Hf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function eO(t){const e={};for(const n in t)e[n]=t[n];return e}const tO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<tO.length;o++)n=tO[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gf(t){this.src=t,this.g={},this.h=0}function rw(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=K1(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Hf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function iw(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}Gf.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=iw(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new zJ(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var ow="closure_lm_"+(1e6*Math.random()|0),sw={};function rO(t,e,n,r,i){if(r&&r.once)return oO(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)rO(t,e[o],n,r,i);return null}return n=lw(n),t&&t[qc]?t.O(e,n,Hc(r)?!!r.capture:!!r,i):iO(t,e,n,!1,r,i)}function iO(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Hc(i)?!!i.capture:!!i,a=uw(t);if(a||(t[ow]=a=new Gf(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function WJ(){const e=KJ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)LJ||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(aO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function oO(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)oO(t,e[o],n,r,i);return null}return n=lw(n),t&&t[qc]?t.P(e,n,Hc(r)?!!r.capture:!!r,i):iO(t,e,n,!0,r,i)}function sO(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sO(t,e[o],n,r,i);else r=Hc(r)?!!r.capture:!!r,n=lw(n),t&&t[qc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=iw(o=t.g[e],n,r,i))&&(Hf(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=uw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=iw(e,n,r,i)),(n=-1<t?e[t]:null)&&aw(n))}function aw(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[qc])rw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uw(e))?(rw(n,t),0==n.h&&(n.src=null,e[ow]=null)):Hf(t)}}}function aO(t){return t in sw?sw[t]:sw[t]="on"+t}function KJ(t,e){if(t.fa)t=!0;else{e=new zc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&aw(t),t=n.call(r,e)}return t}function uw(t){return(t=t[ow])instanceof Gf?t:null}var cw="__closure_events_fn_"+(1e9*Math.random()>>>0);function lw(t){return"function"==typeof t?t:(t[cw]||(t[cw]=function(e){return t.handleEvent(e)}),t[cw])}function Et(){Ni.call(this),this.i=new Gf(this),this.S=this,this.J=null}function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var i=e;nO(e=new Ht(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=zf(s,r,!0,e)&&i}if(i=zf(s=e.g=t,r,!0,e)&&i,i=zf(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=zf(s=e.g=n[o],r,!1,e)&&i}function zf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&rw(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}It(Et,Ni),Et.prototype[qc]=!0,Et.prototype.removeEventListener=function(t,e,n,r){sO(this,t,e,n,r)},Et.prototype.N=function(){if(Et.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hf(n[r]);delete t.g[e],t.h--}}this.J=null},Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Et.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var dw=ee.JSON.stringify;function YJ(){var t=hw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var uO=new class QJ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ZJ,t=>t.reset());class ZJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function XJ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function eZ(t){ee.setTimeout(()=>{throw t},0)}let Wc,Kc=!1,hw=new class JJ{constructor(){this.h=this.g=null}add(e,n){const r=uO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},cO=()=>{const t=ee.Promise.resolve(void 0);Wc=()=>{t.then(tZ)}};var tZ=()=>{for(var t;t=YJ();){try{t.h.call(t.g)}catch(n){eZ(n)}var e=uO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Kc=!1};function qf(t,e){Et.call(this),this.h=t||1,this.g=e||ee,this.j=$t(this.qb,this),this.l=Date.now()}function fw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function pw(t,e,n){if("function"==typeof t)n&&(t=$t(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=$t(t.handleEvent,t)}return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function lO(t){t.g=pw(()=>{t.g=null,t.i&&(t.i=!1,lO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}It(qf,Et),(x=qf.prototype).ga=!1,x.T=null,x.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(fw(this),this.start()))}},x.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},x.N=function(){qf.$.N.call(this),fw(this),delete this.g};class nZ extends Ni{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lO(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qc(t){Ni.call(this),this.h=t,this.g={}}It(Qc,Ni);var dO=[];function hO(t,e,n,r){Array.isArray(n)||(n&&(dO[0]=n.toString()),n=dO);for(var i=0;i<n.length;i++){var o=rO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function fO(t){nw(t.g,function(e,n){this.g.hasOwnProperty(n)&&aw(e)},t),t.g={}}function Wf(){this.g=!0}function fa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sZ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return dw(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Qc.prototype.N=function(){Qc.$.N.call(this),fO(this)},Qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wf.prototype.Ea=function(){this.g=!1},Wf.prototype.info=function(){};var Ro={},pO=null;function Kf(){return pO=pO||new Et}function gO(t){Ht.call(this,Ro.Ta,t)}function Yc(t){const e=Kf();Nt(e,new gO(e))}function mO(t,e){Ht.call(this,Ro.STAT_EVENT,t),this.stat=e}function rn(t){const e=Kf();Nt(e,new mO(e,t))}function _O(t,e){Ht.call(this,Ro.Ua,t),this.size=e}function Jc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}Ro.Ta="serverreachability",It(gO,Ht),Ro.STAT_EVENT="statevent",It(mO,Ht),Ro.Ua="timingevent",It(_O,Ht);var Qf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gw(){}function IO(){}gw.prototype.h=null;var yw,Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mw(){Ht.call(this,"d")}function _w(){Ht.call(this,"c")}function Yf(){}function Xc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qc(this),this.P=aZ,this.V=new qf(t=YE?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EO}function EO(){this.i=null,this.g="",this.h=!1}It(mw,Ht),It(_w,Ht),It(Yf,gw),Yf.prototype.g=function(){return new XMLHttpRequest},Yf.prototype.i=function(){return{}},yw=new Yf;var aZ=45e3,wO={},vw={};function Iw(t,e,n){t.L=1,t.A=ep(ri(e)),t.u=n,t.S=!0,TO(t,null)}function TO(t,e){t.G=Date.now(),el(t),t.B=ri(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),NO(n.i,"t",r),t.o=0,n=t.l.J,t.h=new EO,t.g=rk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new nZ($t(t.Pa,t,t.g),t.O)),hO(t.U,t.g,"readystatechange",t.nb),e=t.I?eO(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Yc(),function rZ(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function CO(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function DO(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=uZ(t,n),i==vw){4==e&&(t.s=4,rn(14),r=!1),fa(t.j,t.m,null,"[Incomplete Response]");break}if(i==wO){t.s=4,rn(15),fa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}fa(t.j,t.m,i,null),Ew(t,i)}CO(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sw(e),e.M=!0,rn(11))):(fa(t.j,t.m,n,"[Invalid Chunked Response]"),Po(t),tl(t))}function uZ(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?vw:(n=Number(e.substring(n,r)),isNaN(n)?wO:(r+=1)+n>e.length?vw:(e=e.slice(r,r+n),t.o=r+n,e))}function el(t){t.Y=Date.now()+t.P,AO(t,t.P)}function AO(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Jc($t(t.lb,t),e)}function Jf(t){t.C&&(ee.clearTimeout(t.C),t.C=null)}function tl(t){0==t.l.H||t.J||XO(t.l,t)}function Po(t){Jf(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,fw(t.V),fO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ew(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||ww(n.i,t)))if(!t.K&&ww(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;sp(n),ip(n)}bw(n),rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jc($t(n.ib,n),6e3));if(1>=VO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xo(n,11)}else if((t.K||n.g==t)&&sp(n),!Gc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Tw(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ue(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=nk(r,r.J?r.pa:null,r.Y),s.K){FO(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(Jf(a),el(a)),r.g=s}else JO(r);0<n.j.length&&op(n)}else"stop"!=c[0]&&"close"!=c[0]||xo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xo(n,7):Aw(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Yc()}catch{}}function bO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Bf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function lZ(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function cZ(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Bf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(x=Xc.prototype).setTimeout=function(t){this.P=t},x.nb=function(t){t=t.target;const e=this.M;e&&3==Cr(t)?e.l():this.Pa(t)},x.Pa=function(t){try{if(t==this.g)e:{const l=Cr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||YE||this.g&&(this.h.h||this.g.ja()||zO(this.g)))){this.J||4!=l||7==e||Yc(),Jf(this);var n=this.g.da();this.ca=n;t:if(CO(this)){var r=zO(this.g);t="";var i=r.length,o=4==Cr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Po(this),tl(this);var s="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function iZ(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,rn(12),Po(this),tl(this);break e}fa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ew(this,n)}this.S?(DO(this,l,s),YE&&this.i&&3==l&&(hO(this.U,this.V,"tick",this.mb),this.V.start())):(fa(this.j,this.m,s,null),Ew(this,s)),4==l&&Po(this),this.i&&!this.J&&(4==l?XO(this.l,this):(this.i=!1,el(this)))}else(function SZ(t){const e={};t=(t.g&&2<=Cr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Gc(t[r]))continue;var n=XJ(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function qJ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),Po(this),tl(this)}}}catch{}},x.mb=function(){if(this.g){var t=Cr(this.g),e=this.g.ja();this.o<e.length&&(Jf(this),DO(this,t,e),this.i&&4!=t&&el(this))}},x.cancel=function(){this.J=!0,Po(this)},x.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function oZ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Yc(),rn(17)),Po(this),this.s=2,tl(this)):AO(this,this.Y-t)};var SO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mo){this.h=t.h,Zf(this,t.j),this.s=t.s,this.g=t.g,Xf(this,t.m),this.l=t.l;var e=t.i,n=new il;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),RO(this,n),this.o=t.o}else t&&(e=String(t).match(SO))?(this.h=!1,Zf(this,e[1]||"",!0),this.s=nl(e[2]||""),this.g=nl(e[3]||"",!0),Xf(this,e[4]),this.l=nl(e[5]||"",!0),RO(this,e[6]||"",!0),this.o=nl(e[7]||"")):(this.h=!1,this.i=new il(null,this.h))}function ri(t){return new Mo(t)}function Zf(t,e,n){t.j=n?nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RO(t,e,n){e instanceof il?(t.i=e,function _Z(t,e){e&&!t.j&&(Oi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MO(this,r),NO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=rl(e,gZ)),t.i=new il(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function ep(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hZ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hZ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rl(e,PO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(rl(e,PO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(rl(n,"/"==n.charAt(0)?pZ:fZ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rl(n,mZ)),t.join("")};var PO=/[#\/\?@]/g,fZ=/[#\?:]/g,pZ=/[#\?]/g,gZ=/[#\?@]/g,mZ=/#/g;function il(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oi(t){t.g||(t.g=new Map,t.h=0,t.i&&function dZ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function MO(t,e){Oi(t),e=pa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xO(t,e){return Oi(t),e=pa(t,e),t.g.has(e)}function NO(t,e,n){MO(t,e),0<n.length&&(t.i=null,t.g.set(pa(t,e),KE(n)),t.h+=n.length)}function pa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OO(t){this.l=t||vZ,t=ee.PerformanceNavigationTiming?0<(t=ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(x=il.prototype).add=function(t,e){Oi(this),this.i=null,t=pa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},x.forEach=function(t,e){Oi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},x.ta=function(){Oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},x.Z=function(t){Oi(this);let e=[];if("string"==typeof t)xO(this,t)&&(e=e.concat(this.g.get(pa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},x.set=function(t,e){return Oi(this),this.i=null,xO(this,t=pa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},x.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},x.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var vZ=10;function kO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function VO(t){return t.h?1:t.g?t.g.size:0}function ww(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Tw(t,e){t.g?t.g.add(e):t.h=e}function FO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function LO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return KE(t.i)}OO.prototype.cancel=function(){if(this.i=LO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var IZ=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function EZ(){this.g=new IZ}function wZ(t,e,n){const r=n||"";try{bO(t,function(i,o){let s=i;Hc(i)&&(s=dw(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function tp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ol(t){this.l=t.ec||null,this.j=t.ob||!1}function np(t,e){Et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(ol,gw),ol.prototype.g=function(){return new np(this.l,this.j)},ol.prototype.i=function(t){return function(){return t}}({}),It(np,Et);var Cw=0;function UO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function sl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,al(t)}function al(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(x=np.prototype).open=function(t,e){if(this.readyState!=Cw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,al(this)},x.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sl(this)),this.readyState=Cw},x.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},x.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sl(this):al(this),3==this.readyState&&UO(this)}},x.Za=function(t){this.g&&(this.response=this.responseText=t,sl(this))},x.Ya=function(t){this.g&&(this.response=t,sl(this))},x.ka=function(){this.g&&sl(this)},x.setRequestHeader=function(t,e){this.v.append(t,e)},x.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},x.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(np.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var CZ=ee.JSON.parse;function Ze(t){Et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=BO,this.L=this.M=!1}It(Ze,Et);var BO="",DZ=/^https?$/i,AZ=["POST","PUT"];function jO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$O(t),rp(t)}function $O(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}function HO(t){if(t.h&&typeof qE<"u"&&(!t.C[1]||4!=Cr(t)||2!=t.da()))if(t.v&&4==Cr(t))pw(t.La,0,t);else if(Nt(t,"readystatechange"),4==Cr(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(SO)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!DZ.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<Cr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",$O(t)}}finally{rp(t)}}}function rp(t,e){if(t.g){GO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function GO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function Cr(t){return t.g?t.g.readyState:0}function zO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case BO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qO(t){let e="";return nw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Dw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function ul(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function WO(t){this.Ga=0,this.j=[],this.l=new Wf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ul("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ul("baseRetryDelayMs",5e3,t),this.hb=ul("retryDelaySeedMs",1e4,t),this.eb=ul("forwardChannelMaxRetries",2,t),this.xa=ul("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OO(t&&t.concurrentRequestLimit),this.Ja=new EZ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Aw(t){if(KO(t),3==t.H){var e=t.W++,n=ri(t.I);if(Ue(n,"SID",t.K),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),cl(t,n),(e=new Xc(t,t.l,e)).L=2,e.A=ep(ri(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ee.Image&&((new Image).src=e.A,n=!0),n||(e.g=rk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),el(e)}tk(t)}function ip(t){t.g&&(Sw(t),t.g.cancel(),t.g=null)}function KO(t){ip(t),t.u&&(ee.clearTimeout(t.u),t.u=null),sp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ee.clearTimeout(t.m),t.m=null)}function op(t){if(!kO(t.i)&&!t.m){t.m=!0;var e=t.Na;Wc||cO(),Kc||(Wc(),Kc=!0),hw.add(e,t),t.C=0}}function QO(t,e){var n;n=e?e.m:t.W++;const r=ri(t.I);Ue(r,"SID",t.K),Ue(r,"RID",n),Ue(r,"AID",t.V),cl(t,r),t.o&&t.s&&Dw(r,t.o,t.s),n=new Xc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Tw(t.i,n),Iw(n,r,e)}function cl(t,e){t.na&&nw(t.na,function(n,r){Ue(e,r,n)}),t.h&&bO({},function(n,r){Ue(e,r,n)})}function YO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$t(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{wZ(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Wc||cO(),Kc||(Wc(),Kc=!0),hw.add(e,t),t.A=0}}function bw(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Jc($t(t.Ma,t),ek(t,t.A)),t.A++,0))}function Sw(t){null!=t.B&&(ee.clearTimeout(t.B),t.B=null)}function ZO(t){t.g=new Xc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ri(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.K),Ue(e,"AID",t.V),Ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ue(e,"TO",t.qa),Ue(e,"TYPE","xmlhttp"),cl(t,e),t.o&&t.s&&Dw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ep(ri(e)),n.u=null,n.S=!0,TO(n,t)}function sp(t){null!=t.v&&(ee.clearTimeout(t.v),t.v=null)}function XO(t,e){var n=null;if(t.g==e){sp(t),Sw(t),t.g=null;var r=2}else{if(!ww(t.i,e))return;n=e.F,FO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;Nt(r=Kf(),new _O(r,n)),op(t)}else JO(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function RZ(t,e){return!(VO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Jc($t(t.Na,t,e),ek(t,t.C)),t.C++,0)))}(t,e)||2==r&&bw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xo(t,5);break;case 4:xo(t,10);break;case 3:xo(t,6);break;default:xo(t,2)}}function ek(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=$t(t.pb,t);n||(n=new Mo("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Zf(n,"https"),ep(n)),function TZ(t,e){const n=new Wf;if(ee.Image){const r=new Image;r.onload=jf(tp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jf(tp,n,r,"TestLoadImage: error",!1,e),r.onabort=jf(tp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jf(tp,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else rn(2);t.H=0,t.h&&t.h.za(e),tk(t),KO(t)}function tk(t){if(t.H=0,t.ma=[],t.h){const e=LO(t.i);(0!=e.length||0!=t.j.length)&&(Q1(t.ma,e),Q1(t.ma,t.j),t.i.i.length=0,KE(t.j),t.j.length=0),t.h.ya()}}function nk(t,e,n){var r=n instanceof Mo?ri(n):new Mo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Xf(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Mo(null);r&&Zf(o,r),e&&(o.g=e),i&&Xf(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Ue(r,n,e),Ue(r,"VER",t.ra),cl(t,r),r}function rk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ze(t.Ha&&!t.va?new ol({ob:n}):t.va)).Oa(t.J),e}function ik(){}function ap(){if(ha&&!(10<=Number($J)))throw Error("Environmental error: no available transport.")}function Mn(t,e){Et.call(this),this.g=new WO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ga(this)}function ok(t){mw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function sk(){_w.call(this),this.status=1}function ga(t){this.g=t}function sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Rw(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(x=Ze.prototype).Oa=function(t){this.M=t},x.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yw.g(),this.C=function vO(t){return t.h||(t.h=t.i())}(this.u?this.u:yw),this.g.onreadystatechange=$t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void jO(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=ee.FormData&&t instanceof ee.FormData,!(0<=K1(AZ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GO(this),0<this.B&&((this.L=function bZ(t){return ha&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$t(this.ua,this)):this.A=pw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){jO(this,o)}},x.ua=function(){typeof qE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},x.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),rp(this))},x.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rp(this,!0)),Ze.$.N.call(this)},x.La=function(){this.s||(this.G||this.v||this.l?HO(this):this.kb())},x.kb=function(){HO(this)},x.isActive=function(){return!!this.g},x.da=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}},x.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},x.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),CZ(e)}},x.Ia=function(){return this.m},x.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(x=WO.prototype).ra=8,x.H=1,x.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Xc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=eO(o),nO(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YO(this,i,e),Ue(n=ri(this.I),"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),cl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(qO(o)))+"&"+e:this.o&&Dw(n,this.o,o)),Tw(this.i,i),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),i.aa=!0,Iw(i,n,null)):Iw(i,n,e),this.H=2}}else 3==this.H&&(t?QO(this,t):0==this.j.length||kO(this.i)||QO(this))},x.Ma=function(){if(this.u=null,ZO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jc($t(this.jb,this),t)}},x.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rn(10),ip(this),ZO(this))},x.ib=function(){null!=this.v&&(this.v=null,ip(this),bw(this),rn(19))},x.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rn(2)):(this.l.info("Failed to ping google.com"),rn(1))},x.isActive=function(){return!!this.h&&this.h.isActive(this)},(x=ik.prototype).Ba=function(){},x.Aa=function(){},x.za=function(){},x.ya=function(){},x.isActive=function(){return!0},x.Va=function(){},ap.prototype.g=function(t,e){return new Mn(t,e)},It(Mn,Et),Mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nk(t,null,t.Y),op(t)},Mn.prototype.close=function(){Aw(this.g)},Mn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=dw(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&op(e)},Mn.prototype.N=function(){this.g.h=null,delete this.j,Aw(this.g),delete this.g,Mn.$.N.call(this)},It(ok,mw),It(sk,_w),It(ga,ik),ga.prototype.Ba=function(){Nt(this.g,"a")},ga.prototype.Aa=function(t){Nt(this.g,new ok(t))},ga.prototype.za=function(t){Nt(this.g,new sk)},ga.prototype.ya=function(){Nt(this.g,"b")},It(sr,function PZ(){this.blockSize=-1}),sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},sr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)Rw(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Rw(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Rw(this,r),i=0;break}}this.h=i,this.i+=e},sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var MZ={};function Pw(t){return-128<=t&&128>t?function UJ(t,e){var n=MZ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Te([0|e],0>e?-1:0)}):new Te([0|t],0>t?-1:0)}function Dr(t){if(isNaN(t)||!isFinite(t))return ma;if(0>t)return Ot(Dr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Mw;return new Te(e,0)}var Mw=4294967296,ma=Pw(0),xw=Pw(1),uk=Pw(16777216);function ii(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function qn(t){return-1==t.h}function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Te(n,~t.h).add(xw)}function up(t,e){return t.add(Ot(e))}function cp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ll(t,e){this.g=t,this.h=e}function lp(t,e){if(ii(e))throw Error("division by zero");if(ii(t))return new ll(ma,ma);if(qn(t))return e=lp(Ot(t),e),new ll(Ot(e.g),Ot(e.h));if(qn(e))return e=lp(t,Ot(e)),new ll(Ot(e.g),e.h);if(30<t.g.length){if(qn(t)||qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xw,r=e;0>=r.X(t);)n=ck(n),r=ck(r);var i=_a(n,1),o=_a(r,1);for(r=_a(r,2),n=_a(n,2);!ii(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=_a(r,1),n=_a(n,1)}return e=up(t,i.R(e)),new ll(i,e)}for(i=ma;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Dr(n)).R(e);qn(s)||0<s.X(t);)s=(o=Dr(n-=r)).R(e);ii(o)&&(o=xw),i=i.add(o),t=up(t,s)}return new ll(i,t)}function ck(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Te(n,t.h)}function _a(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Te(i,t.h)}(x=Te.prototype).ea=function(){if(qn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Mw+r)*e,e*=Mw}return t},x.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ii(this))return"0";if(qn(this))return"-"+Ot(this).toString(t);for(var e=Dr(Math.pow(t,6)),n=this,r="";;){var i=lp(n,e).g,o=((0<(n=up(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ii(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},x.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},x.X=function(t){return qn(t=up(this,t))?-1:ii(t)?0:1},x.abs=function(){return qn(this)?Ot(this):this},x.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Te(n,-2147483648&n[n.length-1]?-1:0)},x.R=function(t){if(ii(this)||ii(t))return ma;if(qn(this))return qn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(qn(t))return Ot(this.R(Ot(t)));if(0>this.X(uk)&&0>t.X(uk))return Dr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,cp(n,2*r+2*i),n[2*r+2*i+1]+=o*u,cp(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,cp(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,cp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Te(n,0)},x.gb=function(t){return lp(this,t).h},x.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Te(n,this.h&t.h)},x.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Te(n,this.h|t.h)},x.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Te(n,this.h^t.h)},ap.prototype.createWebChannel=ap.prototype.g,Mn.prototype.send=Mn.prototype.u,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Qf.NO_ERROR=0,Qf.TIMEOUT=8,Qf.HTTP_ERROR=6,yO.COMPLETE="complete",IO.EventType=Zc,Zc.OPEN="a",Zc.CLOSE="b",Zc.ERROR="c",Zc.MESSAGE="d",Et.prototype.listen=Et.prototype.O,Ze.prototype.listenOnce=Ze.prototype.P,Ze.prototype.getLastError=Ze.prototype.Sa,Ze.prototype.getLastErrorCode=Ze.prototype.Ia,Ze.prototype.getStatus=Ze.prototype.da,Ze.prototype.getResponseJson=Ze.prototype.Wa,Ze.prototype.getResponseText=Ze.prototype.ja,Ze.prototype.send=Ze.prototype.ha,Ze.prototype.setWithCredentials=Ze.prototype.Oa,sr.prototype.digest=sr.prototype.l,sr.prototype.reset=sr.prototype.reset,sr.prototype.update=sr.prototype.j,Te.prototype.add=Te.prototype.add,Te.prototype.multiply=Te.prototype.R,Te.prototype.modulo=Te.prototype.gb,Te.prototype.compare=Te.prototype.X,Te.prototype.toNumber=Te.prototype.ea,Te.prototype.toString=Te.prototype.toString,Te.prototype.getBits=Te.prototype.D,Te.fromNumber=Dr,Te.fromString=function ak(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ot(ak(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Dr(Math.pow(e,8)),r=ma,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Dr(Math.pow(e,o)),r=r.R(o).add(Dr(s))):r=(r=r.R(n)).add(Dr(s))}return r};var xZ=or.createWebChannelTransport=function(){return new ap},NZ=or.getStatEventTarget=function(){return Kf()},Nw=or.ErrorCode=Qf,OZ=or.EventType=yO,kZ=or.Event=Ro,lk=or.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dp=(or.FetchXmlHttpFactory=ol,or.WebChannel=IO),VZ=or.XhrIo=Ze,FZ=or.Md5=sr,ya=or.Integer=Te;const dk="@firebase/firestore";class wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");let va="10.8.0";const ki=new vv("@firebase/firestore");function Ia(){return ki.logLevel}function C(t,...e){if(ki.logLevel<=le.DEBUG){const n=e.map(Ow);ki.debug(`Firestore (${va}): ${t}`,...n)}}function it(t,...e){if(ki.logLevel<=le.ERROR){const n=e.map(Ow);ki.error(`Firestore (${va}): ${t}`,...n)}}function xn(t,...e){if(ki.logLevel<=le.WARN){const n=e.map(Ow);ki.warn(`Firestore (${va}): ${t}`,...n)}}function Ow(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+t;throw it(e),new Error(e)}function B(t,e){t||O()}function P(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _t{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class UZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BZ{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _t,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(m(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _t)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new hk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new wt(e)}}class jZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $Z{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jZ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,C("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.R=n.token,new fk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function GZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=GZ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function Ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new We(0,0))}static max(){return new j(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dl{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===dl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ae extends dl{construct(e,n,r){return new ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const zZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends dl{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return zZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new D(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new D(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ae.fromString(e))}static fromName(e){return new M(ae.fromString(e).popFirst(5))}static empty(){return new M(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ae(e.slice()))}}function _k(t){return new Nn(t.readTime,t.key,-1)}class Nn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nn(j.min(),M.empty(),-1)}static max(){return new Nn(j.max(),M.empty(),-1)}}function Vw(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const yk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vi(t){return Fw.apply(this,arguments)}function Fw(){return Fw=m(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==yk)throw t;C("LocalStore","Unexpectedly lost primary lease")}),Fw.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class hp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new _t,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new hl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Lw(r.target.error);this.V.reject(new hl(e,i))}}static open(e,n,r,i){try{return new hp(n,e.transaction(i,r))}catch(o){throw new hl(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(C("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new YZ(n)}}class Wn{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Wn.S(Je())&&it("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return C("SimpleDb","Removing database:",e),ko(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!gN())return!1;if(Wn.C())return!0;const e=Je(),n=Wn.S(e),r=0<n&&n<10,i=Wn.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return m(function*(){return n.db||(C("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new hl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new D(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new D(E.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new hl(e,a))},o.onupgradeneeded=s=>{C("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{C("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return m(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const u=hp.open(o.db,e,s?"readonly":"readwrite",r),c=i(u).next(l=>(u.g(),l)).catch(l=>(u.abort(l),v.reject(l))).toPromise();return c.catch(()=>{}),yield u.m,c}catch(u){const c=u,l="FirebaseError"!==c.name&&a<3;if(C("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),o.close(),!l)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class QZ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ko(this.k.delete())}}class hl extends D{constructor(e,n){super(E.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fi(t){return"IndexedDbTransactionError"===t.name}class YZ{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(C("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(C("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ko(r)}add(e){return C("SimpleDb","ADD",this.store.name,e,e),ko(this.store.add(e))}get(e){return ko(this.store.get(e)).next(n=>(void 0===n&&(n=null),C("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return C("SimpleDb","DELETE",this.store.name,e),ko(this.store.delete(e))}count(){return C("SimpleDb","COUNT",this.store.name),ko(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new v((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,u)=>{s.push(u)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new v((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){C("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new v((r,i)=>{n.onerror=o=>{const s=Lw(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new v((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new QZ(a),c=n(a.primaryKey,a.value,u);if(c instanceof v){const l=c.catch(d=>(u.done(),v.reject(d)));r.push(l)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>v.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ko(t){return new v((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=Lw(r.target.error);n(i)}})}let vk=!1;function Lw(t){const e=Wn.S(Je());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vk||(vk=!0,setTimeout(()=>{throw r},0)),r}}return t}let On=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function fl(t){return null==t}function pl(t){return 0===t&&1/t==-1/0}function bk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pp(this.root,e,this.comparator,!0)}}class pp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1,kt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,r,i,o){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class be{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rk(this.data.getIterator())}getIteratorFrom(e){return new Rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new be(this.comparator);return n.data=e,n}}class Rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new vn([])}unionWith(e){let n=new be(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Pk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Pk("Invalid base64 string: "+o):o}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const _X=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(B(!!t),"string"==typeof t){let e=0;const n=_X.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function oi(t){return"string"==typeof t?yt.fromBase64String(t):yt.fromUint8Array(t)}function gp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mp(t){const e=t.mapValue.fields.__previous_value__;return gp(e)?mp(e):e}function gl(t){const e=Ui(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}class yX{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Vo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const Bi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gp(t)?4:Ok(t)?9007199254740991:10:O()}function br(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gl(t).isEqual(gl(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ui(i.timestampValue),a=Ui(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,oi(t.bytesValue).isEqual(oi(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Xe(i.geoPointValue.latitude)===Xe(o.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Xe(i.integerValue)===Xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Xe(i.doubleValue),a=Xe(o.doubleValue);return s===a?pl(s)===pl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bk(s)!==bk(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!br(s[u],a[u])))return!1;return!0}(t,e);default:return O()}var o}function ml(t,e){return void 0!==(t.values||[]).find(n=>br(n,e))}function $i(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Xe(o.integerValue||o.doubleValue),u=Xe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Mk(t.timestampValue,e.timestampValue);case 4:return Mk(gl(t),gl(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(o,s){const a=oi(o),u=oi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=J(a[c],u[c]);if(0!==l)return l}return J(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=J(Xe(o.latitude),Xe(s.latitude));return 0!==a?a:J(Xe(o.longitude),Xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=$i(a[c],u[c]);if(l)return l}return J(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Bi.mapValue&&s===Bi.mapValue)return 0;if(o===Bi.mapValue)return 1;if(s===Bi.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=J(u[d],l[d]);if(0!==h)return h;const f=$i(a[u[d]],c[l[d]]);if(0!==f)return f}return J(u.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function Mk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=Ui(t),r=Ui(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function Da(t){return Bw(t)}function Bw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oi(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Bw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Bw(n.fields[s])}`;return i+"}"}(t.mapValue):O()}function jw(t){return!!t&&"integerValue"in t}function _l(t){return!!t&&"arrayValue"in t}function xk(t){return!!t&&"nullValue"in t}function Nk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vp(t){return!!t&&"mapValue"in t}function yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ok(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=yl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());vp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Vt(yl(this.value))}}function Fk(t){const e=[];return Li(t.fields,(n,r)=>{const i=new Ge([n]);if(vp(r)){const o=Fk(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new vn(e)}class Be{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Be(e,0,j.min(),j.min(),j.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new Be(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Be(e,2,n,j.min(),j.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new Be(e,3,n,j.min(),j.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hi{constructor(e,n){this.position=e,this.inclusive=n}}function Lk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?M.comparator(M.fromName(s.referenceValue),n.key):$i(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Uk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}class vl{constructor(e,n="asc"){this.field=e,this.dir=n}}function EX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Bk{}class ue extends Bk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new wX(e,n,r):"array-contains"===n?new DX(e,r):"in"===n?new qk(e,r):"not-in"===n?new AX(e,r):"array-contains-any"===n?new bX(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new TX(e,r):new CX(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison($i(n,this.value)):null!==n&&ji(this.value)===ji(n)&&this.matchesComparison($i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ce extends Bk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ce(e,n)}matches(e){return Aa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Aa(t){return"and"===t.op}function Hw(t){return function jk(t){for(const e of t.filters)if(e instanceof Ce)return!1;return!0}(t)&&Aa(t)}function Gw(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+Da(t.value);if(Hw(t))return t.filters.map(e=>Gw(e)).join(",");{const e=t.filters.map(n=>Gw(n)).join(",");return`${t.op}(${e})`}}function $k(t,e){return t instanceof ue?(r=t,(i=e)instanceof ue&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)):t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&$k(s,i.filters[a]),!0)}(t,e):void O();var r,i}function Gk(t){return t instanceof ue?`${(n=t).field.canonicalString()} ${n.op} ${Da(n.value)}`:t instanceof Ce?function(n){return n.op.toString()+" {"+n.getFilters().map(Gk).join(" ,")+"}"}(t):"Filter";var n}class wX extends ue{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class TX extends ue{constructor(e,n){super(e,"in",n),this.keys=zk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CX extends ue{constructor(e,n){super(e,"not-in",n),this.keys=zk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class DX extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _l(n)&&ml(n.arrayValue,this.value)}}class qk extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ml(this.value.arrayValue,n)}}class AX extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ml(this.value.arrayValue,n)}}class bX extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_l(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}class SX{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function zw(t,e=null,n=[],r=[],i=null,o=null,s=null){return new SX(t,e,n,r,i,o,s)}function Lo(t){const e=P(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Da(r)).join(",")),e.ce=n}return e.ce}function Il(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$k(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uk(t.startAt,e.startAt)&&Uk(t.endAt,e.endAt)}function Ip(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class si{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function ba(t){return new si(t)}function Yk(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Sa(t){const e=P(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new be(Ge.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new vl(o,r))}),n.has(Ge.keyField().canonicalString())||e.le.push(new vl(Ge.keyField(),r))}return e.le}function on(t){const e=P(t);return e.he||(e.he=function Jk(t,e){if("F"===t.limitType)return zw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new vl(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Hi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hi(t.startAt.position,t.startAt.inclusive):null;return zw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Sa(t))),e.he}function wp(t,e,n){return new si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function El(t,e){return Il(on(t),on(e))&&t.limitType===e.limitType}function Zk(t){return`${Lo(on(t))}|lt:${t.limitType}`}function Ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Gk(i)).join(", ")}]`),fl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Da(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Da(i)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function wl(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):M.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Sa(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=Lk(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Sa(r),i)||r.endAt&&!function(s,a,u){const c=Lk(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Sa(r),i)));var r,i}function eV(t){return(e,n)=>{let r=!1;for(const i of Sa(t)){const o=RX(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function RX(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?$i(u,c):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class ai{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Sk(this.inner)}size(){return this.innerSize}}const PX=new Oe(M.comparator);function In(){return PX}const tV=new Oe(M.comparator);function Tl(...t){let e=tV;for(const n of t)e=e.insert(n.key,n);return e}function nV(t){let e=tV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sr(){return Cl()}function rV(){return Cl()}function Cl(){return new ai(t=>t.toString(),(t,e)=>t.isEqual(e))}const MX=new Oe(M.comparator),xX=new be(M.comparator);function re(...t){let e=xX;for(const n of t)e=e.add(n);return e}const NX=new be(J);function iV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pl(e)?"-0":e}}function oV(t){return{integerValue:""+t}}function sV(t,e){return function Ik(t){return"number"==typeof t&&Number.isInteger(t)&&!pl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?oV(e):iV(t,e)}class Tp{constructor(){this._=void 0}}function OX(t,e,n){return t instanceof Pa?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gp(o)&&(o=mp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Uo?uV(t,e):t instanceof Bo?cV(t,e):function(i,o){const s=aV(i,o),a=lV(s)+lV(i.Ie);return jw(s)&&jw(i.Ie)?oV(a):iV(i.serializer,a)}(t,e)}function kX(t,e,n){return t instanceof Uo?uV(t,e):t instanceof Bo?cV(t,e):n}function aV(t,e){return t instanceof Ma?jw(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Pa extends Tp{}class Uo extends Tp{constructor(e){super(),this.elements=e}}function uV(t,e){const n=dV(e);for(const r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bo extends Tp{constructor(e){super(),this.elements=e}}function cV(t,e){let n=dV(e);for(const r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}class Ma extends Tp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lV(t){return Xe(t.integerValue||t.doubleValue)}function dV(t){return _l(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class FX{constructor(e,n){this.version=e,this.transformResults=n}}class ze{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ze}static exists(e){return new ze(void 0,e)}static updateTime(e){return new ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Dp{}function hV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Na(t.key,ze.none()):new xa(t.key,t.data,ze.none());{const n=t.data,r=Vt.empty();let i=new be(Ge.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ui(t.key,r,new vn(i.toArray()),ze.none())}}function LX(t,e,n){t instanceof xa?function(i,o,s){const a=i.value.clone(),u=gV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(i,o,s){if(!Cp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=gV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(pV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Al(t,e,n,r){return t instanceof xa?function(o,s,a,u){if(!Cp(o.precondition,s))return a;const c=o.value.clone(),l=mV(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(o,s,a,u){if(!Cp(o.precondition,s))return a;const c=mV(o.fieldTransforms,u,s),l=s.data;return l.setAll(pV(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Cp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function UX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=aV(r.transform,i||null);null!=o&&(null===n&&(n=Vt.empty()),n.set(r.field,o))}return n||null}function fV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Ea(r,i,(o,s)=>function VX(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Uo&&i instanceof Uo||r instanceof Bo&&i instanceof Bo?Ea(r.elements,i.elements,br):r instanceof Ma&&i instanceof Ma?br(r.Ie,i.Ie):r instanceof Pa&&i instanceof Pa);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class xa extends Dp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ui extends Dp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gV(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,kX(s,a,n[i]))}return r}function mV(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,OX(o,s,e))}return r}class Na extends Dp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qw extends Dp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&LX(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=hV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>fV(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>fV(n,r))}}class Jw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=MX;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Jw(e,n,r,i)}}class Zw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jX{constructor(e,n){this.count=e,this.unchangedNames=n}}var ht,fe;function yV(t){if(void 0===t)return it("GRPC error has no .code"),E.UNKNOWN;switch(t){case ht.OK:return E.OK;case ht.CANCELLED:return E.CANCELLED;case ht.UNKNOWN:return E.UNKNOWN;case ht.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ht.INTERNAL:return E.INTERNAL;case ht.UNAVAILABLE:return E.UNAVAILABLE;case ht.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ht.NOT_FOUND:return E.NOT_FOUND;case ht.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ht.ABORTED:return E.ABORTED;case ht.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ht.DATA_LOSS:return E.DATA_LOSS;default:return O()}}(fe=ht||(ht={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";const $X=new ya([4294967295,4294967295],0);function IV(t){const e=function vV(){return new TextEncoder}().encode(t),n=new FZ;return n.update(e),new Uint8Array(n.digest())}function EV(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ya([n,r],0),new ya([i,o],0)]}class Xw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new bl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ya.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ya.fromNumber(r)));return 1===i.compare($X)&&(i=new ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=IV(e),[r,i]=EV(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Xw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=IV(e),[r,i]=EV(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sl{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sl(j.min(),i,new Oe(J),In(),re())}}class Rl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rl(r,n,re(),re(),re())}}class bp{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class wV{constructor(e,n){this.targetId=e,this.fe=n}}class TV{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class CV{constructor(){this.ge=0,this.pe=AV(),this.ye=yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=re(),n=re(),r=re();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Rl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=AV()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,B(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class HX{constructor(e){this.Le=e,this.ke=new Map,this.qe=In(),this.Qe=DV(),this.Ke=new Oe(J)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Ip(o))if(0===r){const s=new M(o.path);this.We(n,s,Be.newNoDocument(s,j.min()))}else B(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=oi(r).toUint8Array()}catch(u){if(u instanceof Pk)return xn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Xw(s,i,o)}catch(u){return xn(u instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Ip(a.target)){const u=new M(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,Be.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=re();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Sl(e,n,this.Ke,this.qe,r);return this.qe=In(),this.Qe=DV(),this.Ke=new Oe(J),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new CV,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new be(J),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new CV),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DV(){return new Oe(M.comparator)}function AV(){return new Oe(M.comparator)}const GX={asc:"ASCENDING",desc:"DESCENDING"},zX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qX={and:"AND",or:"OR"};class WX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eT(t,e){return t.useProto3Json||fl(e)?e:{value:e}}function Oa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KX(t,e){return Oa(t,e.toTimestamp())}function ot(t){return B(!!t),j.fromTimestamp(function(n){const r=Ui(n);return new We(r.seconds,r.nanos)}(t))}function tT(t,e){return nT(t,e).canonicalString()}function nT(t,e){const n=(i=t,new ae(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function SV(t){const e=ae.fromString(t);return B(LV(e)),e}function Pl(t,e){return tT(t.databaseId,e.path)}function Rr(t,e){const n=SV(e);if(n.get(1)!==t.databaseId.projectId)throw new D(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(MV(n))}function RV(t,e){return tT(t.databaseId,e)}function rT(t){return new ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MV(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xV(t,e,n){return{name:Pl(t,e),fields:n.value.mapValue.fields}}function OV(t,e){return{documents:[RV(t,e.path)]}}function oT(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RV(t,i);const o=function(c){if(0!==c.length)return FV(Ce.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Gi((h=l).field),direction:XX(h.dir)};var h})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=eT(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i};var c}function kV(t){let e=function PV(t){const e=SV(t);return 4===e.length?ae.emptyPath():MV(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){const h=VV(d);return h instanceof Ce&&Hw(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(h=>{return new vl(ka((p=h).field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,fl(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new Hi((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new Hi(d.values||[],!d.before)}(n.endAt)),function Qk(t,e,n,r,i,o,s,a){return new si(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function VV(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ka(n.unaryFilter.field);return ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ka(n.unaryFilter.field);return ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ka(n.unaryFilter.field);return ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ka(n.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?ue.create(ka((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ce.create(n.compositeFilter.filters.map(r=>VV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O();var n}function XX(t){return GX[t]}function eee(t){return zX[t]}function tee(t){return qX[t]}function Gi(t){return{fieldPath:t.canonicalString()}}function ka(t){return Ge.fromServerFormat(t.fieldPath)}function FV(t){return t instanceof ue?function(n){if("=="===n.op){if(Nk(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NAN"}};if(xk(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Nk(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NAN"}};if(xk(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gi(n.field),op:eee(n.op),value:n.value}}}(t):t instanceof Ce?function(n){const r=n.getFilters().map(i=>FV(i));return 1===r.length?r[0]:{compositeFilter:{op:tee(n.op),filters:r}}}(t):O()}function nee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ci{constructor(e,n,r,i,o=j.min(),s=j.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UV{constructor(e){this.ct=e}}function sT(t){const e=kV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wp(e,e.limit,"L"):e}class Go{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),pl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(oi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Ok(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):O()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),M.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Go.bt=new Go;class lee{constructor(){this._n=new hT}addToCollectionParentIndex(e,n){return this._n.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Nn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class hT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new be(ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new be(ae.comparator)).toArray()}}new Uint8Array(0);class zt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(41943040,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);class qo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qo(0)}static Bn(){return new qo(-1)}}class mee{constructor(){this.changes=new ai(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Be.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Al(r.mutation,i,vn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Sr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Tl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Sr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=In();const s=Cl(),a=Cl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ui)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),Al(l.mutation,c,l.mutation.getFieldMask(),We.now())):s.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new vee(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cl();let i=new Oe((s,a)=>s-a),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||vn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=rV();l.forEach(h=>{if(!o.has(h)){const f=hV(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return M.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function qw(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):v.resolve(Sr());let a=-1,u=o;return s.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,re())).next(l=>({batchId:a,changes:nV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Tl();return this.indexManager.getCollectionParents(e,o).next(a=>v.forEach(a,u=>{const c=(d=n,h=u.child(o),new si(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Be.newInvalidDocument(l)))});let a=Tl();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&Al(l.mutation,c,vn.empty(),We.now()),wl(n,c)&&(a=a.insert(u,c))}),a})}}class Iee{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return v.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:ot(i.createTime)}),v.resolve();var i}getNamedQuery(e,n){return v.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:sT(i.bundledQuery),readTime:ot(i.readTime)}),v.resolve();var i}}class Eee{constructor(){this.overlays=new Oe(M.comparator),this.hr=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sr();return v.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Sr(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Sr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Sr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zw(n,r));let o=this.hr.get(n);void 0===o&&(o=re(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class fT{constructor(){this.Pr=new be(Ct.Ir),this.Tr=new be(Ct.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ct(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new M(new ae([])),r=new Ct(n,e),i=new Ct(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new M(new ae([])),r=new Ct(n,e),i=new Ct(n,e+1);let o=re();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ct(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return M.comparator(e.key,n.key)||J(e.pr,n.pr)}static Er(e,n){return J(e.pr,n.pr)||M.comparator(e.key,n.key)}}class wee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new be(Ct.Ir)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new Yw(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(s)}lookupMutationBatch(e,n){return v.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return v.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),v.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(J);return n.forEach(i=>{const o=new Ct(i,0),s=new Ct(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),v.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const s=new Ct(new M(o),0);let a=new be(J);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),v.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return v.forEach(n.mutations,i=>{const o=new Ct(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ct(n,0),i=this.wr.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Tee{constructor(e){this.vr=e,this.docs=new Oe(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Be.newInvalidDocument(n))}getEntries(e,n){let r=In();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Be.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=In();const s=n.path,a=new M(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Vw(_k(l),r)<=0||(i.has(l.key)||wl(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return v.resolve(o)}getAllFromCollectionGroup(e,n,r,i){O()}Fr(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cee(this)}getSize(e){return v.resolve(this.size)}}class Cee extends mee{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class Dee{constructor(e){this.persistence=e,this.Mr=new ai(n=>Lo(n),Il),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fT,this.targetCount=0,this.Br=qo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),v.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.qn(n),v.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(o).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),v.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Nr.containsKey(n))}}class pT{constructor(e,n){this.Lr={},this.overlays={},this.kr=new On(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Dee(this),this.indexManager=new lee,this.remoteDocumentCache=new Tee(r=>this.referenceDelegate.Kr(r)),this.serializer=new UV(n),this.$r=new Iee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Eee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new wee(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new Aee(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return v.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Aee extends KZ{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.zr=new fT,this.jr=null}static Hr(e){return new kp(e)}get Jr(){if(this.jr)return this.jr;throw O()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),v.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Jr,r=>{const i=M.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,j.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return v.or([()=>v.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class yT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=re(),i=re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yT(e,n.fromCache,r,i)}}class See{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pF{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function F8(){return!function N8(){var t;const e=null===(t=gf())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:Wn.v(Je())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new See;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ia()<=le.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),v.resolve()):(Ia()<=le.DEBUG&&C("QueryEngine","Query:",Ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ia()<=le.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):v.resolve())}ji(e,n){if(Yk(n))return v.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=wp(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=re(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,wp(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return Yk(n)||i.isEqual(j.min())?v.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?v.resolve(null):(Ia()<=le.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ra(n)),this.es(e,s,n,function mk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new We(n+1,0):new We(n,r));return new Nn(i,M.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,n){let r=new be(eV(e));return n.forEach((i,o)=>{wl(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ia()<=le.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.zi.getDocumentsMatchingQuery(e,n,Nn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Ree{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Oe(J),this.rs=new ai(o=>Lo(o),Il),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hF(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function mF(t,e){return vT.apply(this,arguments)}function vT(){return vT=m(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=re();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}),vT.apply(this,arguments)}function _F(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function xee(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ja(t,e,n){return IT.apply(this,arguments)}function IT(){return IT=m(function*(t,e,n){const r=P(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Fi(s))throw s;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),IT.apply(this,arguments)}function Lp(t,e,n){const r=P(t);let i=j.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=P(u),h=d.rs.get(l);return void 0!==h?v.resolve(d.ns.get(h)):d.Qr.getTargetData(c,l)}(r,s,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:j.min(),n?o:re())).next(a=>(function EF(t,e,n){let r=t.ss.get(e)||j.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}(r,function Xk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,hs:o})))}class DT{constructor(){this.activeTargetIds=function Kw(){return NX}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CF{constructor(){this.no=new DT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new DT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kee{io(e){}shutdown(){}}class DF{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jp=null;function bT(){return null===jp?jp=268435456+Math.round(2147483648*Math.random()):jp++,"0x"+jp.toString(16)}const Vee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fee{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const qt="WebChannelConnection";class Lee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=bT(),u=this.bo(n,r.toUriEncodedString());C("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(n,u,c,i).then(l=>(C("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw xn("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+va,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${Vee[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=bT();return new Promise((s,a)=>{const u=new VZ;u.setWithCredentials(!0),u.listenOnce(OZ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nw.NO_ERROR:const l=u.getResponseJson();C(qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Nw.TIMEOUT:C(qt,`RPC '${e}' ${o} timed out`),a(new D(E.DEADLINE_EXCEEDED,"Request time out"));break;case Nw.HTTP_ERROR:const d=u.getStatus();if(C(qt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(_){const I=_.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(I)>=0?I:E.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(E.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{C(qt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);C(qt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=bT(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xZ(),a=NZ(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");C(qt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new Fee({lo:_=>{f?C(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(C(qt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(qt,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),g=(_,I,y)=>{_.listen(I,w=>{try{y(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(d,dp.EventType.OPEN,()=>{f||C(qt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,dp.EventType.CLOSE,()=>{f||(f=!0,C(qt,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,dp.EventType.ERROR,_=>{f||(f=!0,xn(qt,`RPC '${e}' stream ${i} transport errored:`,_),p.Vo(new D(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,dp.EventType.MESSAGE,_=>{var I;if(!f){const y=_.data[0];B(!!y);const S=y.error||(null===(I=y[0])||void 0===I?void 0:I.error);if(S){C(qt,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let W=function(fi){const mu=ht[fi];if(void 0!==mu)return yV(mu)}(k),me=S.message;void 0===W&&(W=E.INTERNAL,me="Unknown error status: "+k+" with message "+S.message),f=!0,p.Vo(new D(W,me)),d.close()}else C(qt,`RPC '${e}' stream ${i} received:`,y),p.mo(y)}}),g(a,kZ.STAT_EVENT,_=>{_.stat===lk.PROXY?C(qt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===lk.NOPROXY&&C(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function $p(){return typeof document<"u"?document:null}function Ul(t){return new WX(t,!0)}class ST{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class bF{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ST(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return m(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return m(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return m(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(it(n.toString()),it("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new D(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo(m(function*(){e.state=0,e.start()}))}__(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uee extends bF{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function YX(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:O(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(B(void 0===l||"string"==typeof l),yt.fromBase64String(l||"")):(B(void 0===l||l instanceof Uint8Array),yt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?E.UNKNOWN:yV(c.code);return new D(l,c.message||"")}(s);n=new TV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Rr(t,r.document.name),o=ot(r.document.updateTime),s=r.document.createTime?ot(r.document.createTime):j.min(),a=new Vt({mapValue:{fields:r.document.fields}}),u=Be.newFoundDocument(i,o,s,a);n=new bp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Rr(t,r.document),o=r.readTime?ot(r.readTime):j.min(),s=Be.newNoDocument(i,o);n=new bp([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Rr(t,r.document);n=new bp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new jX(i,o);n=new wV(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return j.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?ot(s.readTime):j.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=rT(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Ip(u)?{documents:OV(o,u)}:{query:oT(o,u).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bV(o,s.resumeToken);const c=eT(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(j.min())>0){a.readTime=Oa(o,s.snapshotVersion.toTimestamp());const c=eT(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function ZX(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=rT(this.serializer),n.removeTarget=e,this.t_(n)}}class Bee extends bF{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function JX(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(i,o){let s=ot(i.updateTime?i.updateTime:o);return s.isEqual(j.min())&&(s=ot(o)),new FX(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ot(e.commitTime);return this.listener.T_(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=rT(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ml(t,e){let n;if(e instanceof xa)n={update:xV(t,e.key,e.value)};else if(e instanceof Na)n={delete:Pl(t,e.key)};else if(e instanceof ui)n={update:xV(t,e.key,e.data),updateMask:nee(e.fieldMask)};else{if(!(e instanceof Qw))return O();n={verify:Pl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ma)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:KX(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:O()),n;var o}(this.serializer,r))};this.t_(n)}}class jee extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new D(E.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,nT(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(E.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,nT(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(E.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Hee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(it(n),this.g_=!1):C("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Gee{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget(m(function*(){var u;Ki(s)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const d=P(l);d.v_.add(4),yield $a(d),d.x_.set("Unknown"),d.v_.delete(4),yield Bl(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.x_=new Hee(r,i)}}function Bl(t){return PT.apply(this,arguments)}function PT(){return PT=m(function*(t){if(Ki(t))for(const e of t.F_)yield e(!0)}),PT.apply(this,arguments)}function $a(t){return MT.apply(this,arguments)}function MT(){return MT=m(function*(t){for(const e of t.F_)yield e(!1)}),MT.apply(this,arguments)}function Hp(t,e){const n=P(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),OT(n)?NT(n):Ga(n).Jo()&&xT(n,e))}function jl(t,e){const n=P(t),r=Ga(n);n.C_.delete(e),r.Jo()&&SF(n,e),0===n.C_.size&&(r.Jo()?r.Xo():Ki(n)&&n.x_.set("Unknown"))}function xT(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ga(t).c_(e)}function SF(t,e){t.O_.Oe(e),Ga(t).l_(e)}function NT(t){t.O_=new HX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ga(t).start(),t.x_.p_()}function OT(t){return Ki(t)&&!Ga(t).Ho()&&t.C_.size>0}function Ki(t){return 0===P(t).v_.size}function RF(t){t.O_=void 0}function zee(t){return kT.apply(this,arguments)}function kT(){return kT=m(function*(t){t.C_.forEach((e,n)=>{xT(t,e)})}),kT.apply(this,arguments)}function qee(t,e){return VT.apply(this,arguments)}function VT(){return VT=m(function*(t,e){RF(t),OT(t)?(t.x_.S_(e),NT(t)):t.x_.set("Unknown")}),VT.apply(this,arguments)}function Wee(t,e,n){return FT.apply(this,arguments)}function FT(){return FT=m(function*(t,e,n){if(t.x_.set("Online"),e instanceof TV&&2===e.state&&e.cause)try{yield(r=m(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.C_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.C_.delete(u),o.O_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gp(t,r)}else if(e instanceof bp?t.O_.$e(e):e instanceof wV?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(j.min()))try{const r=yield _F(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.C_.get(c);l&&o.C_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.C_.get(u);if(!l)return;o.C_.set(u,l.withResumeToken(yt.EMPTY_BYTE_STRING,l.snapshotVersion)),SF(o,u);const d=new ci(l.target,u,c,l.sequenceNumber);xT(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Gp(t,r)}var r}),FT.apply(this,arguments)}function Gp(t,e,n){return LT.apply(this,arguments)}function LT(){return LT=m(function*(t,e,n){if(!Fi(e))throw e;t.v_.add(1),yield $a(t),t.x_.set("Offline"),n||(n=()=>_F(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Bl(t)}))}),LT.apply(this,arguments)}function PF(t,e){return e().catch(n=>Gp(t,n,e))}function Ha(t){return UT.apply(this,arguments)}function UT(){return UT=m(function*(t){const e=P(t),n=Qi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Kee(e);)try{const i=yield xee(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,Qee(e,i)}catch(i){yield Gp(e,i)}MF(e)&&xF(e)}),UT.apply(this,arguments)}function Kee(t){return Ki(t)&&t.D_.length<10}function Qee(t,e){t.D_.push(e);const n=Qi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function MF(t){return Ki(t)&&!Qi(t).Ho()&&t.D_.length>0}function xF(t){Qi(t).start()}function Yee(t){return BT.apply(this,arguments)}function BT(){return BT=m(function*(t){Qi(t).d_()}),BT.apply(this,arguments)}function Jee(t){return jT.apply(this,arguments)}function jT(){return jT=m(function*(t){const e=Qi(t);for(const n of t.D_)e.I_(n.mutations)}),jT.apply(this,arguments)}function Zee(t,e,n){return $T.apply(this,arguments)}function $T(){return $T=m(function*(t,e,n){const r=t.D_.shift(),i=Jw.from(r,e,n);yield PF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ha(t)}),$T.apply(this,arguments)}function Xee(t,e){return HT.apply(this,arguments)}function HT(){return HT=m(function*(t,e){var n;e&&Qi(t).P_&&(yield(n=m(function*(i,o){if(function _V(t){switch(t){default:return O();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(a=o.code)&&a!==E.ABORTED){const s=i.D_.shift();Qi(i).Zo(),yield PF(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Ha(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),MF(t)&&xF(t)}),HT.apply(this,arguments)}function NF(t,e){return GT.apply(this,arguments)}function GT(){return GT=m(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=Ki(n);n.v_.add(3),yield $a(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Bl(n)}),GT.apply(this,arguments)}function qT(){return qT=m(function*(t,e){const n=P(t);e?(n.v_.delete(2),yield Bl(n)):e||(n.v_.add(2),yield $a(n),n.x_.set("Unknown"))}),qT.apply(this,arguments)}function Ga(t){return t.N_||(t.N_=function(n,r,i){const o=P(n);return o.R_(),new Uee(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:zee.bind(null,t),To:qee.bind(null,t),u_:Wee.bind(null,t)}),t.F_.push(function(){var e=m(function*(n){n?(t.N_.Zo(),OT(t)?NT(t):t.x_.set("Unknown")):(yield t.N_.stop(),RF(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function Qi(t){return t.B_||(t.B_=function(n,r,i){const o=P(n);return o.R_(),new Bee(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Yee.bind(null,t),To:Xee.bind(null,t),E_:Jee.bind(null,t),T_:Zee.bind(null,t)}),t.F_.push(function(){var e=m(function*(n){n?(t.B_.Zo(),yield Ha(t)):(yield t.B_.stop(),t.D_.length>0&&(C("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.B_}class WT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new WT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function za(t,e){if(it("AsyncQueue",`${e}: ${t}`),Fi(t))return new D(E.UNAVAILABLE,`${e}: ${t}`);throw t}class qa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new qa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class OF{constructor(){this.L_=new Oe(M.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(n):1===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):O():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Wa(e,n,qa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ete{constructor(){this.q_=void 0,this.Q_=[]}}class tte{constructor(){this.queries=new ai(e=>Zk(e),El),this.onlineState="Unknown",this.K_=new Set}}function QT(){return QT=m(function*(t,e){const n=P(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new ete),i)try{o.q_=yield n.onListen(r)}catch(s){const a=za(s,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&ZT(n)}),QT.apply(this,arguments)}function JT(){return JT=m(function*(t,e){const n=P(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),JT.apply(this,arguments)}function nte(t,e){const n=P(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&ZT(n)}function rte(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function ZT(t){t.K_.forEach(e=>{e.next()})}class XT{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class FF{constructor(e){this.key=e}}class LF{constructor(e){this.key=e}}class UF{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=re(),this.mutatedKeys=re(),this.ua=eV(e),this.ca=new qa(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new OF,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=wl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.ua(f,u)>0||c&&this.ua(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(s=s.add(f),o=g?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((l,d)=>function(f,p){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return g(f)-g(p)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=null!=i&&i;const a=n&&!i?this.Ea():[],u=0===this.aa.size&&this.current&&!i?1:0,c=u!==this._a;return this._a=u,0!==s.length||c?{snapshot:new Wa(this.query,e.ca,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new OF,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=re(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new LF(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new FF(r))}),n}Ra(e){this.oa=e.hs,this.aa=re();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Wa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class ste{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ate{constructor(e){this.key=e,this.ma=!1}}class ute{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ai(a=>Zk(a),El),this.pa=new Map,this.ya=new Set,this.wa=new Oe(M.comparator),this.Sa=new Map,this.ba=new fT,this.Da={},this.Ca=new Map,this.va=qo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function cte(t,e){return eC.apply(this,arguments)}function eC(){return eC=m(function*(t,e){const n=function TC(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hte.bind(null,e),e.fa.u_=nte.bind(null,e.eventManager),e.fa.xa=rte.bind(null,e.eventManager),e}(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=yield function Ba(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,v.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new ci(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}(n.localStore,on(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function tC(t,e,n,r,i){return nC.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Hp(n.remoteStore,s)}return i}),eC.apply(this,arguments)}function nC(){return nC=m(function*(t,e,n,r,i){t.Ma=(d,h,f)=>{return(p=m(function*(_,I,y,w){let S=I.view.ha(y);S.Xi&&(S=yield Lp(_.localStore,I.query,!1).then(({documents:ut})=>I.view.ha(ut,S)));const k=w&&w.targetChanges.get(I.targetId),W=w&&null!=w.targetMismatches.get(I.targetId),me=I.view.applyChanges(S,_.isPrimaryClient,k,W);return hC(_,I.targetId,me.da),me.snapshot}),function g(_,I,y,w){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Lp(t.localStore,e,!0),s=new UF(e,o.hs),a=s.ha(o.documents),u=Rl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);hC(t,n,c.da);const l=new ste(e,n,s);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}),nC.apply(this,arguments)}function lte(t,e){return rC.apply(this,arguments)}function rC(){return rC=m(function*(t,e){const n=P(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!El(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ja(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jl(n.remoteStore,r.targetId),Ka(n,r.targetId)}).catch(Vi))):(Ka(n,r.targetId),yield ja(n.localStore,r.targetId,!0))}),rC.apply(this,arguments)}function iC(){return iC=m(function*(t,e,n){const r=function CC(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pte.bind(null,e),e}(t);try{const i=yield function(s,a){const u=P(s),c=We.now(),l=a.reduce((f,p)=>f.add(p.key),re());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=In(),g=re();return u.os.getEntries(f,l).next(_=>{p=_,p.forEach((I,y)=>{y.isValidDocument()||(g=g.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(_=>{d=_;const I=[];for(const y of a){const w=UX(y,d.get(y.key).overlayedDocument);null!=w&&I.push(new ui(y.key,w,Fk(w.value.mapValue),ze.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,I,a)}).next(_=>{h=_;const I=_.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,_.batchId,I)})}).then(()=>({batchId:h.batchId,changes:nV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Da[s.currentUser.toKey()];c||(c=new Oe(J)),c=c.insert(a,u),s.Da[s.currentUser.toKey()]=c}(r,i.batchId,n),yield li(r,i.changes),yield Ha(r.remoteStore)}catch(i){const o=za(i,"Failed to persist write");n.reject(o)}}),iC.apply(this,arguments)}function BF(t,e){return oC.apply(this,arguments)}function oC(){return oC=m(function*(t,e){const n=P(t);try{const r=yield function Mee(t,e){const n=P(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,_,I;null!==e.targetMismatches.get(d)?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),_=f,I=l,(0===(g=h).resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,f))});let u=In(),c=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function yF(t,e,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=In();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}(o,s,e.documentUpdates).next(l=>{u=l.cs,c=l.ls})),!r.isEqual(j.min())){const l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?B(s.ma):i.removedDocuments.size>0&&(B(s.ma),s.ma=!1))}),yield li(n,r,e)}catch(r){yield Vi(r)}}),oC.apply(this,arguments)}function jF(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=P(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.Q_)h.U_(a)&&(c=!0)}),c&&ZT(u)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hte(t,e,n){return sC.apply(this,arguments)}function sC(){return sC=m(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new Oe(M.comparator);s=s.insert(o,Be.newNoDocument(o,j.min()));const a=re().add(o),u=new Sl(j.min(),new Map,new Oe(J),s,a);yield BF(r,u),r.wa=r.wa.remove(o),r.Sa.delete(e),fC(r)}else yield ja(r.localStore,e,!1).then(()=>Ka(r,e,n)).catch(Vi)}),sC.apply(this,arguments)}function fte(t,e){return aC.apply(this,arguments)}function aC(){return aC=m(function*(t,e){const n=P(t),r=e.batch.batchId;try{const i=yield function Pee(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=v.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const _=c.docVersions.get(p);B(null!==_),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);dC(n,r,null),lC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield li(n,i)}catch(i){yield Vi(i)}}),aC.apply(this,arguments)}function pte(t,e,n){return uC.apply(this,arguments)}function uC(){return uC=m(function*(t,e,n){const r=P(t);try{const i=yield function(s,a){const u=P(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(B(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);dC(r,e,n),lC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield li(r,i)}catch(i){yield Vi(i)}}),uC.apply(this,arguments)}function lC(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function dC(t,e,n){const r=P(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Ka(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||$F(t,r)})}function $F(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(jl(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),fC(t))}function hC(t,e,n){for(const r of n)r instanceof FF?(t.ba.addReference(r.key,e),mte(t,r)):r instanceof LF?(C("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||$F(t,r.key)):O()}function mte(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(C("SyncEngine","New document in limbo: "+n),t.ya.add(r),fC(t))}function fC(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new M(ae.fromString(e)),r=t.va.next();t.Sa.set(r,new ate(n)),t.wa=t.wa.insert(n,r),Hp(t.remoteStore,new ci(on(ba(n.path)),r,"TargetPurposeLimboResolution",On._e))}}function li(t,e,n){return pC.apply(this,arguments)}function pC(){return pC=m(function*(t,e,n){const r=P(t),i=[],o=[],s=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{s.push(r.Ma(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=yT.Ki(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.fa.u_(i),yield(a=m(function*(c,l){const d=P(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>v.forEach(l,f=>v.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>v.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Fi(h))throw h;C("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),_=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ns=d.ns.insert(f,_)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),pC.apply(this,arguments)}function _te(t,e){return gC.apply(this,arguments)}function gC(){return gC=m(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield mF(n.localStore,e);n.currentUser=e,(o=n).Ca.forEach(a=>{a.forEach(u=>{u.reject(new D(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield li(n,r.us)}var o}),gC.apply(this,arguments)}function yte(t,e){const n=P(t),r=n.Sa.get(e);if(r&&r.ma)return re().add(r.key);{let i=re();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}class zp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=Ul(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function gF(t,e,n,r){return new Ree(t,e,n,r)}(this.persistence,new pF,e.initialUser,this.serializer)}createPersistence(e){return new pT(kp.Hr,this.serializer)}createSharedClientState(e){return new CF}terminate(){var e=this;return m(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qa{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=_te.bind(null,r.syncEngine),yield function zT(t,e){return qT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tte}createDatastore(e){const n=Ul(e.databaseInfo.databaseId),r=new Lee(e.databaseInfo);return new jee(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>jF(this.syncEngine,n,0),a=DF.D()?new DF:new kee,new Gee(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){const d=new ute(i,o,s,a,u,c);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return m(function*(){var n,r;yield(r=m(function*(o){const s=P(o);C("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield $a(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}class qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):it("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Mte{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=pk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=m(function*(a){C("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(C("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=za(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Wp(t,e){return DC.apply(this,arguments)}function DC(){return DC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(o){r.isEqual(o)||(yield mF(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),DC.apply(this,arguments)}function AC(t,e){return bC.apply(this,arguments)}function bC(){return bC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function SC(t){return RC.apply(this,arguments)}(t);C("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NF(e.remoteStore,i)),t._onlineComponents=e}),bC.apply(this,arguments)}function RC(){return RC=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function KF(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;xn("Error using user provided cache. Falling back to memory cache: "+n),yield Wp(t,new zp)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield Wp(t,new zp);return t._offlineComponents}),RC.apply(this,arguments)}function Kp(t){return PC.apply(this,arguments)}function PC(){return PC=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield AC(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield AC(t,new Qa))),t._onlineComponents}),PC.apply(this,arguments)}function Ja(t){return xC.apply(this,arguments)}function xC(){return xC=m(function*(t){const e=yield Kp(t),n=e.eventManager;return n.onListen=cte.bind(null,e.syncEngine),n.onUnlisten=lte.bind(null,e.syncEngine),n}),xC.apply(this,arguments)}function eL(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const tL=new Map;function NC(t,e,n){if(!n)throw new D(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nL(t){if(!M.isDocumentKey(t))throw new D(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rL(t){if(M.isDocumentKey(t))throw new D(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":O()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(t);throw new D(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class oL{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $te(t,e,n,r){if(!0===e&&!0===r)throw new D(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=eL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $l{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new LZ;switch(r.type){case"firstParty":return new $Z(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tL.get(n);r&&(C("ComponentProvider","Removing Datastore"),tL.delete(n),r.terminate())}(this),Promise.resolve()}}class Ft{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ft(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}}class Pr extends Ft{constructor(e,n,r){super(e,n,ba(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new M(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function sL(t,e,...n){if(t=_n(t),NC("collection","path",e),t instanceof $l){const r=ae.fromString(e,...n);return rL(r),new Pr(t,null,r)}{if(!(t instanceof st||t instanceof Pr))throw new D(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return rL(r),new Pr(t.firestore,null,r)}}function aL(t,e,...n){if(t=_n(t),1===arguments.length&&(e=pk.newId()),NC("doc","path",e),t instanceof $l){const r=ae.fromString(e,...n);return nL(r),new st(t,null,new M(r))}{if(!(t instanceof st||t instanceof Pr))throw new D(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return nL(r),new st(t.firestore,t instanceof Pr?t.converter:null,new M(r))}}class Gte{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ST(this,"async_queue_retry"),this._u=()=>{const n=$p();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=$p();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=$p();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new _t;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return m(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!Fi(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{throw this.ru=r,this.iu=!1,it("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=WT.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&O()}verifyOperationInProgress(){}hu(){var e=this;return m(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function OC(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class ke extends $l{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Gte,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cL(this),this._firestoreClient.terminate()}}function qte(t,e){const r="string"==typeof t?t:e||"(default)",i=Ef("object"==typeof t?t:bv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=dN("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function Hte(t,e,n,r={}){var i;const o=(t=ce(t,$l))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&xn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=wt.MOCK_USER;else{a=function M8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ff(JSON.stringify({alg:"none",type:"JWT"})),ff(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wt(c)}t._authCredentials=new UZ(new hk(a,u))}}(i,...o)}return i}function at(t){return t._firestoreClient||cL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cL(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new yX(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,eL(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new Mte(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(yt.fromBase64String(e))}catch(n){throw new D(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ko(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Za{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hL{constructor(e){this._methodName=e}}class kC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const Kte=/^__.*__$/;class Qte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new xa(e,this.data,n,this.fieldTransforms)}}function pL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class Yp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Zp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(pL(this.du)&&Kte.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Yte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ul(e)}Su(e,n,r,i=!1){return new Yp({du:e,methodName:n,wu:r,path:Ge.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xa(t){const e=t._freezeSettings(),n=Ul(t._databaseId);return new Yte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VC(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);jC("Data must be an object, but it was:",s,r);const a=vL(r,s);let u,c;if(o.merge)u=new vn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=zl(e,d,n);if(!s.contains(h))throw new D(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);EL(l,h)||l.push(h)}u=new vn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Qte(new Vt(a),u,c)}function Qo(t,e){if(IL(t=_n(t)))return jC("Unsupported field value:",e,t),vL(t,e);if(t instanceof hL)return function(r,i){if(!pL(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Qo(a,i.gu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=_n(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return sV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=We.fromDate(r);return{timestampValue:Oa(i.serializer,o)}}if(r instanceof We){const o=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oa(i.serializer,o)}}if(r instanceof kC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ko)return{bytesValue:bV(i.serializer,r._byteString)};if(r instanceof st){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Qp(r)}`)}(t,e)}function vL(t,e){const n={};return Sk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,i)=>{const o=Qo(i,e.Ru(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function IL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof We||t instanceof kC||t instanceof Ko||t instanceof st||t instanceof hL)}function jC(t,e,n){if(!IL(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Qp(n);throw e.pu("an object"===r?t+" a custom object":t+" "+r)}var i}function zl(t,e,n){if((e=_n(e))instanceof Za)return e._internalPath;if("string"==typeof e)return Jp(t,e);throw Zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jte=new RegExp("[~\\*/\\[\\]]");function Jp(t,e,n){if(e.search(Jte)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Za(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new D(E.INVALID_ARGUMENT,a+t+u)}function EL(t,e){return t.some(n=>n.isEqual(e))}class $C{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Zte extends $C{data(){return super.data()}}function Xp(t,e){return"string"==typeof e?Jp(t,e):e instanceof Za?e._internalPath:e._delegate._internalPath}class ene{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Li(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new kC(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mp(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ae.fromString(e);B(LV(r));const i=new Vo(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||it(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tu extends $C{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rg extends tu{data(e={}){return super.data(e)}}class nu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rg(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new rg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new rg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:nne(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Yi extends ene{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function Wl(t,e){return function(r,i){const o=new _t;return r.asyncQueue.enqueueAndForget(m(function*(){return function dte(t,e,n){return iC.apply(this,arguments)}(yield function MC(t){return Kp(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(at(t),e)}!function(e,n=!0){va=aa,sa(new Eo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ke(new BZ(r.getProvider("auth-internal")),new HZ(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new D(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pn(dk,"4.4.2",e),Pn(dk,"4.4.2","esm2017")}();var sg=function(){return sg=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},sg.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var yne={includeMetadataChanges:!1};function KC(t,e){return void 0===e&&(e=yne),new je(function(n){var r=function one(t,...e){var n,r,i;t=_n(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||OC(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(OC(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof st)c=ce(t.firestore,ke),l=ba(t._key.path),u={next:d=>{e[s]&&e[s](function zC(t,e,n){const r=n.docs.get(e._key),i=new Yi(t);return new tu(t,i,e._key,r,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=ce(t,Ft);c=ce(d.firestore,ke),l=d._query;const h=new Yi(c);u={next:f=>{e[s]&&e[s](new nu(c,h,d,f))},error:e[s+1],complete:e[s+2]},function wL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(h,f,p,g){const _=new qp(g),I=new XT(f,_,p);return h.asyncQueue.enqueueAndForget(m(function*(){return function KT(t,e){return QT.apply(this,arguments)}(yield Ja(h),I)})),()=>{_.La(),h.asyncQueue.enqueueAndForget(m(function*(){return function YT(t,e){return JT.apply(this,arguments)}(yield Ja(h),I)}))}}(at(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Dne(t,e){return void 0===e&&(e={}),function Cne(t){return KC(t,{includeMetadataChanges:!0}).pipe(pe(function(e){return e.docs}))}(t).pipe(pe(function(n){return n.map(function(r){return function ML(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?sg(sg({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class ag{constructor(e){return e}}const kL="firestore",JC=new V("angularfire2.firestore-instances");function Rne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ag(r)}}const Pne={provide:class bne{constructor(){return xv(kL)}},deps:[[new An,JC]]},Mne={provide:ag,useFactory:function Sne(t,e){const n=kN(kL,t,e);return n&&new ag(n)},deps:[[new An,JC],Ac]};let xne=(()=>{class t{constructor(){Pn("angularfire",Tf.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ln({type:t});static \u0275inj=Kt({providers:[Mne,Pne]})}return t})();function Nne(t,...e){return{ngModule:xne,providers:[{provide:JC,useFactory:Rne(t),multi:!0,deps:[Ie,Bt,Nv,Ov,[new An,W1],[new An,VN],...e]}]}}const One=Ri(Dne,!0),kne=Ri(qte,!0),{isArray:Vne}=Array,{getPrototypeOf:Fne,prototype:Lne,keys:Une}=Object;function VL(t){if(1===t.length){const e=t[0];if(Vne(e))return{args:e,keys:null};if(function Bne(t){return t&&"object"==typeof t&&Fne(t)===Lne}(e)){const n=Une(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:jne}=Array;function FL(t){return pe(e=>function $ne(t,e){return jne(e)?t(...e):t(e)}(t,e))}function LL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let UL=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(A($r),A(bn))}}static{this.\u0275dir=Q({type:t})}}return t})(),Jo=(()=>{class t extends UL{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}()}static{this.\u0275dir=Q({type:t,features:[we]})}}return t})();const Mr=new V("NgValueAccessor"),zne={provide:Mr,useExisting:Re(()=>ru),multi:!0},Wne=new V("CompositionEventMode");let ru=(()=>{class t extends UL{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qne(){const t=Ai()?Ai().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(A($r),A(bn),A(Wne,8))}}static{this.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Mt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[He([zne]),we]})}}return t})();const Wt=new V("NgValidators"),Zi=new V("NgAsyncValidators");function YL(t){return null!=t}function JL(t){return oc(t)?vt(t):t}function ZL(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function XL(t,e){return e.map(n=>n(t))}function e2(t){return t.map(e=>function Qne(t){return!t.validate}(e)?e:n=>e.validate(n))}function ZC(t){return null!=t?function t2(t){if(!t)return null;const e=t.filter(YL);return 0==e.length?null:function(n){return ZL(XL(n,e))}}(e2(t)):null}function XC(t){return null!=t?function n2(t){if(!t)return null;const e=t.filter(YL);return 0==e.length?null:function(n){return function Hne(...t){const e=pA(t),{args:n,keys:r}=VL(t),i=new je(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;En(n[l]).subscribe(ct(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?LL(r,a):a),o.complete())}))}});return e?i.pipe(FL(e)):i}(XL(n,e).map(JL)).pipe(pe(ZL))}}(e2(t)):null}function r2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function i2(t){return t._rawValidators}function o2(t){return t._rawAsyncValidators}function eD(t){return t?Array.isArray(t)?t:[t]:[]}function cg(t,e){return Array.isArray(t)?t.includes(e):t===e}function s2(t,e){const n=eD(e);return eD(t).forEach(i=>{cg(n,i)||n.push(i)}),n}function a2(t,e){return eD(e).filter(n=>!cg(t,n))}class u2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=XC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class sn extends u2{get formDirective(){return null}get path(){return null}}class Xi extends u2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class c2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lg=(()=>{class t extends c2{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(A(Xi,2))}}static{this.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&kh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]})}}return t})(),dg=(()=>{class t extends c2{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(A(sn,10))}}static{this.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&kh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[we]})}}return t})();const Kl="VALID",fg="INVALID",iu="PENDING",Ql="DISABLED";function rD(t){return(pg(t)?t.validators:t)||null}function iD(t,e){return(pg(e)?e.asyncValidators:t)||null}function pg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class f2{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kl}get invalid(){return this.status===fg}get pending(){return this.status==iu}get disabled(){return this.status===Ql}get enabled(){return this.status!==Ql}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(s2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(s2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(a2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(a2(e,this._rawAsyncValidators))}hasValidator(e){return cg(this._rawValidators,e)}hasAsyncValidator(e){return cg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=iu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ql,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Kl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kl||this.status===iu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ql:Kl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=iu,this._hasOwnPendingAsyncValidator=!0;const n=JL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Ql:this.errors?fg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iu)?iu:this._anyControlsHaveStatus(fg)?fg:Kl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Xne(t){return Array.isArray(t)?ZC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ere(t){return Array.isArray(t)?XC(t):t||null}(this._rawAsyncValidators)}}class ou extends f2{constructor(e,n,r){super(rD(n),iD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function h2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new b(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function d2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Zo=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Yl}),Yl="always";function Jl(t,e,n=Yl){oD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function rre(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&p2(t,e)})}(t,e),function ore(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ire(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&p2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function nre(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function mg(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function _g(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function oD(t,e){const n=i2(t);null!==e.validator?t.setValidators(r2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=o2(t);null!==e.asyncValidator?t.setAsyncValidators(r2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();_g(e._rawValidators,i),_g(e._rawAsyncValidators,i)}function yg(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=i2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=o2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return _g(e._rawValidators,r),_g(e._rawAsyncValidators,r),n}function p2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function y2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const xr=class extends f2{constructor(e=null,n,r){super(rD(n),iD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=y2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){y2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let vg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),C2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({})}}return t})();const lD=new V("NgModelWithFormControlWarning"),vre={provide:sn,useExisting:Re(()=>su)};let su=(()=>{class t extends sn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Jl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){mg(n.control||null,n,!1),function cre(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function m2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(mg(r||null,n),(t=>t instanceof xr)(i)&&(Jl(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function g2(t,e){oD(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function sre(t,e){return yg(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oD(this.form,this),this._oldForm&&yg(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||t)(A(Wt,10),A(Zi,10),A(Zo,8))}}static{this.\u0275dir=Q({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Mt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[He([vre]),we,Ln]})}}return t})();const wre={provide:Xi,useExisting:Re(()=>Xl)};let Xl=(()=>{class t extends Xi{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function uD(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===ru?n=o:function ure(t){return Object.getPrototypeOf(t.constructor)===Jo}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function aD(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function gg(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(A(sn,13),A(Wt,10),A(Zi,10),A(Mr,10),A(lD,8))}}static{this.\u0275dir=Q({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[He([wre]),we,Ln]})}}return t})(),B2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({imports:[C2]})}}return t})(),Lre=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Zo,useValue:n.callSetDisabledState??Yl}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({imports:[B2]})}}return t})(),Ure=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:lD,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Zo,useValue:n.callSetDisabledState??Yl}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({imports:[B2]})}}return t})();function mD(...t){const e=vu(t),n=pA(t),{args:r,keys:i}=VL(t);if(0===r.length)return vt([],e);const o=new je(function jre(t,e,n=pi){return r=>{j2(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)j2(e,()=>{const c=vt(t[u],e);let l=!1;c.subscribe(ct(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>LL(i,s):pi));return n?o.pipe(FL(n)):o}function j2(t,e,n){t?kr(n,t,e):e()}const Ig=_u(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function _D(...t){return function $re(){return ss(1)}()(vt(t,vu(t)))}function $2(t){return new je(e=>{En(t()).subscribe(e)})}function ed(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new je(e?i=>e.schedule(r,0,i):r)}function yD(){return ft((t,e)=>{let n=null;t._refCount++;const r=ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class H2 extends je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,XD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new un;const n=this.getSubject();e.add(this.source.subscribe(ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=un.EMPTY)}return e}refCount(){return yD()(this)}}function es(t){return t<=0?()=>ur:ft((e,n)=>{let r=0;e.subscribe(ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function eo(t,e){return ft((n,r)=>{let i=0;n.subscribe(ct(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Eg(t){return ft((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function G2(t=Gre){return ft((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Gre(){return new Ig}function ts(t,e){const n=arguments.length>=2;return r=>r.pipe(t?eo((i,o)=>t(i,o,r)):pi,es(1),n?Eg(e):G2(()=>new Ig))}function td(t,e){return Ae(e)?Dt(t,e,1):Dt(t,1)}function ns(t){return ft((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ct(n,void 0,void 0,s=>{o=En(t(s,ns(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function vD(t){return t<=0?()=>ur:ft((e,n)=>{let r=[];e.subscribe(ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ID(t){return ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",nd=Symbol("RouteTitle");class Yre{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function au(t){return new Yre(t)}function Jre(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Nr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!z2(t[i],e[i]))return!1;return!0}function z2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function q2(t){return t.length>0?t[t.length-1]:null}function to(t){return function Bre(t){return!!t&&(t instanceof je||Ae(t.lift)&&Ae(t.subscribe))}(t)?t:oc(t)?vt(Promise.resolve(t)):Y(t)}const Xre={exact:function Q2(t,e,n){if(!rs(t.segments,e.segments)||!wg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Q2(t.children[r],e.children[r],n))return!1;return!0},subset:Y2},W2={exact:function eie(t,e){return Nr(t,e)},subset:function tie(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>z2(t[n],e[n]))},ignored:()=>!0};function K2(t,e,n){return Xre[n.paths](t.root,e.root,n.matrixParams)&&W2[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Y2(t,e,n){return J2(t,e,e.segments,n)}function J2(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!rs(i,n)||e.hasChildren()||!wg(i,n,r))}if(t.segments.length===n.length){if(!rs(t.segments,n)||!wg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Y2(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(rs(t.segments,i)&&wg(t.segments,i,r)&&t.children[ie])&&J2(t.children[ie],e,o,r)}}function wg(t,e,n){return e.every((r,i)=>W2[n](t[i].parameters,r.parameters))}class uu{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=au(this.queryParams)),this._queryParamMap}toString(){return iie.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tg(this)}}class rd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=au(this.parameters)),this._parameterMap}toString(){return eU(this)}}function rs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let id=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:function(){return new ED},providedIn:"root"})}}return t})();class ED{parse(e){const n=new gie(e);return new uu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${od(e.root,!0)}`,r=function aie(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Cg(n)}=${Cg(i)}`).join("&"):`${Cg(n)}=${Cg(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function oie(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const iie=new ED;function Tg(t){return t.segments.map(e=>eU(e)).join("/")}function od(t,e){if(!t.hasChildren())return Tg(t);if(e){const n=t.children[ie]?od(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${od(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function rie(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ie?[od(t.children[ie],!1)]:[`${i}:${od(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${Tg(t)}/${n[0]}`:`${Tg(t)}/(${n.join("//")})`}}function Z2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cg(t){return Z2(t).replace(/%3B/gi,";")}function wD(t){return Z2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dg(t){return decodeURIComponent(t)}function X2(t){return Dg(t.replace(/\+/g,"%20"))}function eU(t){return`${wD(t.path)}${function sie(t){return Object.keys(t).map(e=>`;${wD(e)}=${wD(t[e])}`).join("")}(t.parameters)}`}const uie=/^[^\/()?;#]+/;function TD(t){const e=t.match(uie);return e?e[0]:""}const cie=/^[^\/()?;=#]+/,die=/^[^=?&#]+/,fie=/^[^&#]+/;class gie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new De(e,n)),r}parseSegment(){const e=TD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new rd(Dg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function lie(t){const e=t.match(cie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=TD(this.remaining);i&&(r=i,this.capture(r))}e[Dg(n)]=Dg(r)}parseQueryParam(e){const n=function hie(t){const e=t.match(die);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function pie(t){const e=t.match(fie);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=X2(n),o=X2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=TD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ie]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function tU(t){return t.segments.length>0?new De([],{[ie]:t}):t}function nU(t){const e={};for(const r of Object.keys(t.children)){const o=nU(t.children[r]);if(r===ie&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function mie(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}function is(t){return t instanceof uu}function rU(t){let e;const i=tU(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new De(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function iU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return CD(i,i,i,n,r);const o=function yie(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new sU(n,e,r)}(e);if(o.toRoot())return CD(i,i,new De([],{}),n,r);const s=function vie(t,e,n){if(t.isAbsolute)return new bg(e,!0,0);if(!n)return new bg(e,!1,NaN);if(null===n.parent)return new bg(n,!0,0);const r=Ag(t.commands[0])?0:1;return function Iie(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new bg(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?ad(s.segmentGroup,s.index,o.commands):aU(s.segmentGroup,s.index,o.commands);return CD(i,s.segmentGroup,a,n,r)}function Ag(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function sd(t){return"object"==typeof t&&null!=t&&t.outlets}function CD(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:oU(t,e,n);const a=tU(nU(s));return new uu(a,o,i)}function oU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:oU(o,e,n)}),new De(t.segments,r)}class sU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ag(r[0]))throw new b(4003,!1);const i=r.find(sd);if(i&&i!==q2(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function aU(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return ad(t,e,n);const r=function wie(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(sd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!cU(u,c,s))return o;r+=2}else{if(!cU(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[ie]=new De(t.segments.slice(r.pathIndex),t.children),ad(o,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?DD(t,e,n):r.match?ad(t,0,i):DD(t,e,n)}function ad(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function Eie(t){return sd(t[0])?t[0].outlets:{[ie]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ie)&&t.children[ie]&&1===t.numberOfChildren&&0===t.children[ie].segments.length){const o=ad(t.children[ie],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=aU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new De(t.segments,i)}}function DD(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(sd(o)){const u=Tie(o.outlets);return new De(r,u)}if(0===i&&Ag(n[0])){r.push(new rd(t.segments[e].path,uU(n[0]))),i++;continue}const s=sd(o)?o.outlets[ie]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ag(a)?(r.push(new rd(s,uU(a))),i+=2):(r.push(new rd(s,{})),i++)}return new De(r,{})}function Tie(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=DD(new De([],{}),0,r))}),e}function uU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cU(t,e,n){return t==n.path&&Nr(e,n.parameters)}const ud="imperative";class Or{constructor(e,n){this.id=e,this.url=n}}class Sg extends Or{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class no extends Or{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cd extends Or{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cu extends Or{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Rg extends Or{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lU extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cie extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Die extends Or{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aie extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bie extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sie{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rie{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pie{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mie{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xie{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nie{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class AD{}class bD{constructor(e){this.url=e}}class Oie{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ld,this.attachRef=null}}let ld=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Oie,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class hU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=SD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=SD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=RD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return RD(e,this._root).map(n=>n.value)}}function SD(t,e){if(t===e.value)return e;for(const n of e.children){const r=SD(t,n);if(r)return r}return null}function RD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=RD(t,n);if(r.length)return r.unshift(e),r}return[]}class di{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function lu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class fU extends hU{constructor(e,n){super(e),this.snapshot=n,PD(this,e)}toString(){return this.snapshot.toString()}}function pU(t,e){const n=function kie(t,e){const s=new Pg([],{},{},"",{},ie,e,null,{});return new mU("",new di(s,[]))}(0,e),r=new kn([new rd("",{})]),i=new kn({}),o=new kn({}),s=new kn({}),a=new kn(""),u=new du(r,i,s,a,o,ie,e,n.root);return u.snapshot=n.root,new fU(new di(u,[]),n)}class du{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(c=>c[nd]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>au(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>au(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Vie(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pg{get title(){return this.data?.[nd]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mU extends hU{constructor(e,n){super(n),this.url=e,PD(this,n)}toString(){return _U(this._root)}}function PD(t,e){e.value._routerState=t,e.children.forEach(n=>PD(t,n))}function _U(t){const e=t.children.length>0?` { ${t.children.map(_U).join(", ")} } `:"";return`${t.value}${e}`}function MD(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Nr(e.params,n.params)||t.paramsSubject.next(n.params),function Zre(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Nr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xD(t,e){const n=Nr(t.params,e.params)&&function nie(t,e){return rs(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||xD(t.parent,e.parent))}let ND=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=F(ld),this.location=F(nr),this.changeDetector=F(Wh),this.environmentInjector=F(Bn),this.inputBinder=F(Mg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Fie(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ln]})}}return t})();class Fie{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===du?this.route:e===ld?this.childContexts:this.parent.get(e,n)}}const Mg=new V("");let yU=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=mD([r.queryParams,r.params,r.data]).pipe(cr(([o,s,a],u)=>(a={...o,...s,...a},0===u?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function q9(t){const e=de(t);if(!e)return null;const n=new ec(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function dd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Uie(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return dd(t,r,i);return dd(t,r)})}(t,e,n);return new di(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>dd(t,a)),s}}const r=function Bie(t){return new du(new kn(t.url),new kn(t.params),new kn(t.queryParams),new kn(t.fragment),new kn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>dd(t,o));return new di(r,i)}}const OD="ngNavigationCancelingError";function vU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function IU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[OD]=!0,r.cancellationCode=e,n&&(r.url=n),r}function EU(t){return t&&t[OD]}let wU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Jn({type:t,selectors:[["ng-component"]],standalone:!0,features:[zP],decls:1,vars:0,template:function(r,i){1&r&&Ve(0,"router-outlet")},dependencies:[ND],encapsulation:2})}}return t})();function kD(t){const e=t.children&&t.children.map(kD),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=wU),n}function ar(t){return t.outlet||ie}function hd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Kie{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),MD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=lu(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=lu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=lu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=lu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nie(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mie(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(MD(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),MD(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=hd(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class TU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xg{constructor(e,n){this.component=e,this.route=n}}function Qie(t,e,n){const r=t._root;return fd(r,e?e._root:null,n,[r.value])}function hu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function ZB(t){return null!==Ad(t)}(t)?e.get(t):t:r}function fd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=lu(e);return t.children.forEach(s=>{(function Jie(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Zie(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!rs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xD(t,e)||!Nr(t.queryParams,e.queryParams);default:return!xD(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new TU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),fd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xg(a.outlet.component,s))}else s&&pd(e,a,i),i.canActivateChecks.push(new TU(r)),fd(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pd(a,n.getContext(s),i)),i}function pd(t,e,n){const r=lu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{pd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new xg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function gd(t){return"function"==typeof t}function CU(t){return t instanceof Ig||"EmptyError"===t?.name}const Ng=Symbol("INITIAL_VALUE");function fu(){return cr(t=>mD(t.map(e=>e.pipe(es(1),function Hre(...t){const e=vu(t);return ft((n,r)=>{(e?_D(t,n,e):_D(t,n)).subscribe(r)})}(Ng)))).pipe(pe(e=>{for(const n of e)if(!0!==n){if(n===Ng)return Ng;if(!1===n||n instanceof uu)return n}return!0}),eo(e=>e!==Ng),es(1)))}function DU(t){return QD(xt(e=>{if(is(e))throw vU(0,e)}),pe(e=>!0===e))}class Og{constructor(e){this.segmentGroup=e||null}}class AU{constructor(e){this.urlTree=e}}function pu(t){return ed(new Og(t))}function bU(t){return ed(new AU(t))}class yoe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[ie])return ed(new b(4e3,!1));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new uu(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const VD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function voe(t,e,n,r,i){const o=FD(t,e,n);return o.matched?(r=function $ie(t,e){return t.providers&&!t._injector&&(t._injector=hy(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function goe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Y(i.map(s=>{const a=hu(s,t);return to(function ioe(t){return t&&gd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(fu(),DU()):Y(!0)}(r,e,n).pipe(pe(s=>!0===s?o:{...VD}))):Y(o)}function FD(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...VD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Jre)(n,t,e);if(!i)return{...VD};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function SU(t,e,n,r){return n.length>0&&function woe(t,e,n){return n.some(r=>kg(t,e,r)&&ar(r)!==ie)}(t,n,r)?{segmentGroup:new De(e,Eoe(r,new De(n,t.children))),slicedSegments:[]}:0===n.length&&function Toe(t,e,n){return n.some(r=>kg(t,e,r))}(t,n,r)?{segmentGroup:new De(t.segments,Ioe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function Ioe(t,e,n,r,i){const o={};for(const s of r)if(kg(t,n,s)&&!i[ar(s)]){const a=new De([],{});o[ar(s)]=a}return{...i,...o}}function Eoe(t,e){const n={};n[ie]=e;for(const r of t)if(""===r.path&&ar(r)!==ie){const i=new De([],{});n[ar(r)]=i}return n}function kg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class boe{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new yoe(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=SU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(ns(n=>{if(n instanceof AU)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Og?this.noMatchError(n):n}),pe(n=>{const r=new Pg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),i=new di(r,n),o=new mU("",i),s=function _ie(t,e,n=null,r=null){return iU(rU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ie).pipe(ns(r=>{throw r instanceof Og?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=gU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return vt(i).pipe(td(o=>{const s=r.children[o],a=function qie(t,e){const n=t.filter(r=>ar(r)===e);return n.push(...t.filter(r=>ar(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function qre(t,e){return ft(function zre(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(ct(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Eg(null),function Wre(t,e){const n=arguments.length>=2;return r=>r.pipe(t?eo((i,o)=>t(i,o,r)):pi,vD(1),n?Eg(e):G2(()=>new Ig))}(),Dt(o=>{if(null===o)return pu(r);const s=RU(o);return function Soe(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Y(s)}))}processSegment(e,n,r,i,o,s){return vt(n).pipe(td(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(ns(u=>{if(u instanceof Og)return Y(null);throw u}))),ts(a=>!!a),ns(a=>{if(CU(a))return function Doe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Y([]):pu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Coe(t,e,n,r){return!!(ar(t)===r||r!==ie&&kg(e,n,t))&&("**"===t.path||FD(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):pu(i):pu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bU(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Dt(s=>{const a=new De(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=FD(n,i,o);if(!a)return pu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?bU(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Dt(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?q2(i).parameters:{};a=Y({snapshot:new Pg(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PU(r),ar(r),r.component??r._loadedComponent??null,r,MU(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=voe(n,r,i,e).pipe(pe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Pg(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PU(r),ar(r),r.component??r._loadedComponent??null,r,MU(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(cr(u=>null===u?pu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(cr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=SU(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(pe(I=>null===I?null:[new di(d,I)]));if(0===c.length&&0===g.length)return Y([new di(d,[])]);const _=ar(r)===o;return this.processSegment(l,c,p,g,_?ie:o,!0).pipe(pe(I=>[new di(d,I)]))}))))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):function poe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(s=>{const a=hu(s,t);return to(function eoe(t){return t&&gd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(fu(),DU())}(e,n,r).pipe(Dt(i=>i?this.configLoader.loadChildren(e,n).pipe(xt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function _oe(t){return ed(IU(!1,3))}())):Y({routes:[],injector:e})}}function Roe(t){const e=t.value.routeConfig;return e&&""===e.path}function RU(t){const e=[],n=new Set;for(const r of t){if(!Roe(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=RU(r.children);e.push(new di(r.value,i))}return e.filter(r=>!n.has(r))}function PU(t){return t.data||{}}function MU(t){return t.resolve||{}}function xU(t){return"string"==typeof t.title||null===t.title}function LD(t){return cr(e=>{const n=t(e);return n?vt(n).pipe(pe(()=>e)):Y(e)})}const gu=new V("ROUTES");let UD=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(LM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=to(n.loadComponent()).pipe(pe(NU),xt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ID(()=>{this.componentLoaders.delete(n)})),i=new H2(r,()=>new Kn).pipe(yD());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Voe(t,e,n,r){return to(t.loadChildren()).pipe(pe(NU),Dt(i=>i instanceof HP||Array.isArray(i)?Y(i):vt(e.compileModuleAsync(i))),pe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(gu,[],{optional:!0,self:!0}).flat()),{routes:s.map(kD),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ID(()=>{this.childrenLoaders.delete(r)})),s=new H2(o,()=>new Kn).pipe(yD());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function NU(t){return function Foe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Vg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Kn,this.transitionAbortSubject=new Kn,this.configLoader=F(UD),this.environmentInjector=F(Bn),this.urlSerializer=F(id),this.rootContexts=F(ld),this.inputBindingEnabled=null!==F(Mg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Rie(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Sie(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new kn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ud,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(eo(o=>0!==o.id),pe(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),cr(o=>{this.currentTransition=o;let s=!1,a=!1;return Y(o).pipe(xt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),cr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new cu(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),ur}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(cr(h=>{const f=this.transitions?.getValue();return this.events.next(new Sg(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ur:Promise.resolve(h)}),function Poe(t,e,n,r,i,o){return Dt(s=>function Aoe(t,e,n,r,i,o,s="emptyOnly"){return new boe(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),xt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new lU(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=u,I=new Sg(h,this.urlSerializer.serialize(f),p,g);this.events.next(I);const y=pU(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:y,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},Y(o)}{const h="";return this.events.next(new cu(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),ur}}),xt(u=>{const c=new Cie(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),pe(u=>(this.currentTransition=o={...u,guards:Qie(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function soe(t,e){return Dt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Y({...n,guardsResult:!0}):function aoe(t,e,n,r){return vt(t).pipe(Dt(i=>function foe(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Y(o.map(a=>{const u=hd(e)??i,c=hu(a,u);return to(function roe(t){return t&&gd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ts())})).pipe(fu()):Y(!0)}(i.component,i.route,n,e,r)),ts(i=>!0!==i,!0))}(s,r,i,t).pipe(Dt(a=>a&&function Xie(t){return"boolean"==typeof t}(a)?function uoe(t,e,n,r){return vt(e).pipe(td(i=>_D(function loe(t,e){return null!==t&&e&&e(new Pie(t)),Y(!0)}(i.route.parent,r),function coe(t,e){return null!==t&&e&&e(new xie(t)),Y(!0)}(i.route,r),function hoe(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Yie(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>$2(()=>Y(s.guards.map(u=>{const c=hd(s.node)??n,l=hu(u,c);return to(function noe(t){return t&&gd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ts())})).pipe(fu())));return Y(o).pipe(fu())}(t,i.path,n),function doe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(o=>$2(()=>{const s=hd(e)??n,a=hu(o,s);return to(function toe(t){return t&&gd(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(ts())}));return Y(i).pipe(fu())}(t,i.route,n))),ts(i=>!0!==i,!0))}(r,o,t,e):Y(a)),pe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),xt(u=>{if(o.guardsResult=u.guardsResult,is(u.guardsResult))throw vU(0,u.guardsResult);const c=new Die(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),eo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),LD(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(xt(c=>{const l=new Aie(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),cr(c=>{let l=!1;return Y(c).pipe(function Moe(t,e){return Dt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=0;return vt(i).pipe(td(s=>function xoe(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!xU(i)&&(o[nd]=i.title),function Noe(t,e,n,r){const i=function Ooe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Y({});const o={};return vt(i).pipe(Dt(s=>function koe(t,e,n,r){const i=hd(e)??r,o=hu(t,i);return to(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(ts(),xt(a=>{o[s]=a}))),vD(1),function Kre(t){return pe(()=>t)}(o),ns(s=>CU(s)?ur:ed(s)))}(o,t,e,r).pipe(pe(s=>(t._resolvedData=s,t.data=gU(t,n).resolve,i&&xU(i)&&(t.data[nd]=i.title),null)))}(s.route,r,t,e)),xt(()=>o++),vD(1),Dt(s=>o===i.length?Y(n):ur))})}(n.paramsInheritanceStrategy,this.environmentInjector),xt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),xt(c=>{const l=new bie(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),LD(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(xt(h=>{l.component=h}),pe(()=>{})));for(const h of l.children)d.push(...c(h));return d};return mD(c(u.targetSnapshot.root)).pipe(Eg(),es(1))}),LD(()=>this.afterPreactivation()),pe(u=>{const c=function Lie(t,e,n){const r=dd(t,e._root,n?n._root:void 0);return new fU(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},o}),xt(()=>{this.events.next(new AD)}),((t,e,n,r)=>pe(i=>(new Kie(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),es(1),xt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new no(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function Qre(t){return ft((e,n)=>{En(t).subscribe(ct(n,()=>n.complete(),Lg)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(xt(u=>{throw u}))),ID(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ns(u=>{if(a=!0,EU(u))this.events.next(new cd(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function jie(t){return EU(t)&&is(t.url)}(u)?this.events.next(new bD(u.url)):o.resolve(!1);else{this.events.next(new Rg(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(c){o.reject(c)}}return ur}))}))}cancelNavigationTransition(n,r,i){const o=new cd(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function OU(t){return t!==ud}let kU=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[nd]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:function(){return F(Loe)},providedIn:"root"})}}return t})(),Loe=(()=>{class t extends kU{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)($(rN))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Uoe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:function(){return F(joe)},providedIn:"root"})}}return t})();class Boe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let joe=(()=>{class t extends Boe{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Fg=new V("",{providedIn:"root",factory:()=>({})});let $oe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:function(){return F(Hoe)},providedIn:"root"})}}return t})(),Hoe=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var md=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(md||{});function VU(t,e){t.events.pipe(eo(n=>n instanceof no||n instanceof cd||n instanceof Rg||n instanceof cu),pe(n=>n instanceof no||n instanceof cu?md.COMPLETE:n instanceof cd&&(0===n.code||1===n.code)?md.REDIRECTING:md.FAILED),eo(n=>n!==md.REDIRECTING),es(1)).subscribe(()=>{e()})}function Goe(t){throw t}function zoe(t,e,n){return e.parse("/")}const qoe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Woe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let an=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(VM),this.isNgZoneEnabled=!1,this._events=new Kn,this.options=F(Fg,{optional:!0})||{},this.pendingTasks=F(FM),this.errorHandler=this.options.errorHandler||Goe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zoe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F($oe),this.routeReuseStrategy=F(Uoe),this.titleStrategy=F(kU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(gu,{optional:!0})?.flat()??[],this.navigationTransitions=F(Vg),this.urlSerializer=F(id),this.location=F(Gy),this.componentInputBindingEnabled=!!F(Mg,{optional:!0}),this.eventsSubscription=new un,this.isNgZoneEnabled=F(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new uu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(FU(r)&&this._events.next(r));if(r instanceof Sg)OU(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof cu)this.rawUrlTree=i.rawUrl;else if(r instanceof lU){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof AD)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof cd)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof bD){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OU(i.source)};this.scheduleNavigation(o,ud,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Rg&&this.restoreHistory(i,!0),r instanceof no&&(this.navigated=!0),FU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ud,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(kD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=rU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return iU(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=is(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ud,null,r)}navigate(n,r={skipLocationChange:!1}){return function Koe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...qoe}:!1===r?{...Woe}:r,is(n))return K2(this.currentUrlTree,n,i);const o=this.parseUrl(n);return K2(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return VU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FU(t){return!(t instanceof AD||t instanceof bD)}let _d=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Kn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof no&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function LS(t,e,n){return function iG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?FS:VS}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(A(an),A(du),function Wd(t){return function C$(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(SA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Rt(),t)}("tabindex"),A($r),A(bn),A(Io))}}static{this.\u0275dir=Q({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Mt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&yr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ia],skipLocationChange:["skipLocationChange","skipLocationChange",ia],replaceUrl:["replaceUrl","replaceUrl",ia],routerLink:"routerLink"},standalone:!0,features:[eR,Ln]})}}return t})();class LU{}let Joe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(eo(n=>n instanceof no),td(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=hy(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return vt(i).pipe(ss())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Y(null);const o=i.pipe(Dt(s=>null===s?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?vt([o,this.loader.loadComponent(r)]).pipe(ss()):o})}static{this.\u0275fac=function(r){return new(r||t)($(an),$(LM),$(Bn),$(LU),$(UD))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const BD=new V("");let UU=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Sg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof no?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof cu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dU&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dU(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function b0(){throw new Error("invalid")}()}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function hi(t,e){return{\u0275kind:t,\u0275providers:e}}function jU(){const t=F(Bt);return e=>{const n=t.get(ra);if(e!==n.components[0])return;const r=t.get(an),i=t.get($U);1===t.get(jD)&&r.initialNavigation(),t.get(HU,null,oe.Optional)?.setUpPreloading(),t.get(BD,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $U=new V("",{factory:()=>new Kn}),jD=new V("",{providedIn:"root",factory:()=>1}),HU=new V("");function tse(t){return hi(0,[{provide:HU,useExisting:Joe},{provide:LU,useExisting:t}])}const GU=new V("ROUTER_FORROOT_GUARD"),rse=[Gy,{provide:id,useClass:ED},an,ld,{provide:du,useFactory:function BU(t){return t.routerState.root},deps:[an]},UD,[]];function ise(){return new zM("Router",an)}let zU=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[rse,[],{provide:gu,multi:!0,useValue:n},{provide:GU,useFactory:use,deps:[[an,new An,new Yd]]},{provide:Fg,useValue:r||{}},r?.useHash?{provide:Io,useClass:J9}:{provide:Io,useClass:Ex},{provide:BD,useFactory:()=>{const t=F(y6),e=F(Ie),n=F(Fg),r=F(Vg),i=F(id);return n.scrollOffset&&t.setOffset(n.scrollOffset),new UU(i,r,t,e,n)}},r?.preloadingStrategy?tse(r.preloadingStrategy).\u0275providers:[],{provide:zM,multi:!0,useFactory:ise},r?.initialNavigation?cse(r):[],r?.bindToComponentInputs?hi(8,[yU,{provide:Mg,useExisting:yU}]).\u0275providers:[],[{provide:qU,useFactory:jU},{provide:Oy,multi:!0,useExisting:qU}]]}}static forChild(n){return{ngModule:t,providers:[{provide:gu,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)($(GU,8))}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({})}}return t})();function use(t){return"guarded"}function cse(t){return["disabled"===t.initialNavigation?hi(3,[{provide:Ay,multi:!0,useFactory:()=>{const e=F(an);return()=>{e.setUpLocationChangeListener()}}},{provide:jD,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?hi(2,[{provide:jD,useValue:0},{provide:Ay,multi:!0,deps:[Bt],useFactory:e=>{const n=e.get(Q9,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(an),o=e.get($U);VU(i,()=>{r(!0)}),e.get(Vg).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const qU=new V("");let dse=(()=>{class t{constructor(){this.title="TurismoA"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-root"]],decls:14,vars:0,consts:[[1,"main"],[1,"white"],["src","../assets/imagenes/simbolo.png","alt","simbolo-recetas"],[1,"orange"],[1,"contenido"],["routerLink","inicio",1,"button"],["routerLink","registro",1,"button"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"header")(2,"div",1),Ve(3,"img",2),L(),U(4,"div",3)(5,"div",4)(6,"h1"),G(7,"RECETAS ON"),L(),U(8,"a",5),G(9,"Inicio"),L(),G(10," | "),U(11,"a",6),G(12,"Registro o Inicio sesion"),L()()()()(),Ve(13,"router-outlet"))},dependencies:[ND,_d],styles:['@font-face{font-family:akaya;src:url(AkayaTelivigala-Regular.bd90faeef7840ff2.ttf)}header[_ngcontent-%COMP%]{border:4px solid #FF7F27;height:5rem;margin-bottom:2%}.white[_ngcontent-%COMP%]{width:70%;height:5rem;display:block;position:absolute;z-index:2}.white[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5%;height:95%;margin-left:8%}.white[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-20;width:35%;height:5rem;background:transparent;transform:skew(40deg)}.orange[_ngcontent-%COMP%]{background-color:#ff7f27;height:5rem;width:65%;right:0;display:block;position:absolute;z-index:1}.orange[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;text-align:center}.orange[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-32px;width:35%;height:5rem;background:#FF7F27;transform:skew(40deg)}main[_ngcontent-%COMP%]{max-width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;gap:40px}.mainI[_ngcontent-%COMP%]{max-width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;gap:40px;margin-top:2%}h1[_ngcontent-%COMP%]{font-family:akaya;color:#fff}.contenido[_ngcontent-%COMP%]{width:80%;display:flex;justify-content:flex-end;align-items:flex-end}.contenido[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration-line:none;color:#fff;font-family:akaya;font-size:large}.contenido[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{color:#000}']})}}return t})();const $D=pe(t=>!!t);let hse=(()=>{class t{router;auth;constructor(n,r){this.router=n,this.auth=r}canActivate=(n,r)=>{const i=n.data.authGuardPipe||(()=>$D);return bJ(this.auth).pipe(es(1),i(n,r),pe(o=>"boolean"==typeof o?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(r){return new(r||t)($(an),$($c))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),mse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-footer"]],decls:8,vars:0,template:function(r,i){1&r&&(U(0,"footer")(1,"ul")(2,"li"),G(3,"Autora: Dayana Betancur"),L(),U(4,"li"),G(5,"Contactos: dayanabeta08@gmail.com"),L(),U(6,"li"),G(7,"Creaci\xf3n 2024"),L()()())},styles:["footer[_ngcontent-%COMP%]{background:#FF7F27;font-family:akaya;height:20rem;height:5rem;display:flex;justify-content:center;font-size:medium}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}"]})}}return t})(),_se=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-inicio"]],decls:23,vars:0,consts:[[1,"imagenes"],["src","../assets/imagenes/imgOne.png","alt","receta"],["src","../assets/imagenes/imgTwo.png","alt","Receta"],["src","../assets/imagenes/imgThree.png","alt","Receta"],["src","../assets/imagenes/imgFour.png","alt","Receta"],[1,"instructions"],[1,"foot"]],template:function(r,i){1&r&&(U(0,"section",0),Ve(1,"img",1)(2,"img",2)(3,"img",3)(4,"img",4),L(),U(5,"section",5)(6,"article")(7,"h5"),G(8,"\xbfQU\xc9 ES RECETAS ON?"),L(),U(9,"p"),G(10,"La plataforma web Recetas On es un recetario digital que permite a todos las personas que les gusta la cocina en sus diferentes variedades: recetas caseras, de alta cocina, postres, ensaladas, platos fuertes, refrescos etc, guardar de manera segura, ordenada, f\xe1cil y digital cada una de las creaciones culinarias. "),L()(),U(11,"article")(12,"h5"),G(13,"\xbfCOMO SE USA RECETAS ON?"),L(),U(14,"P"),G(15," Esta plataforma web fue creada pensando en el uso f\xe1cil, lo \xfanico debes de hacer es registrarte para que puedas registrar, crear y guardar las nuevas recetas. Solo tenemos un espacio en la parte superior que dice recetas, alli aparecen todas las recetas que se registran como p\xfablicas, es decir se pueden visualizar sin necesidad de registro. "),L()(),U(16,"article")(17,"h5"),G(18,"INSTRUCCIONES"),L(),U(19,"P"),G(20," Lo primero que debes hacer, es registrarte dando click en el bot\xf3n regiatrarse o iniciar sesi\xf3n ubicado en la parte superior de la pantalla. Desp\xfaes de llenar el formulario de registro, inicias sesi\xf3n. Te aperece una pesta\xf1a de mis creaciones y all\xed puedes crear nuevas recetas, editas recetas y ver todas las recetas que has creado. "),L()()(),U(21,"div",6),Ve(22,"app-footer"),L())},dependencies:[mse],styles:['@font-face{font-family:akaya;src:url(AkayaTelivigala-Regular.bd90faeef7840ff2.ttf)}header[_ngcontent-%COMP%]{border:4px solid #FF7F27;height:5rem;margin-bottom:2%}.white[_ngcontent-%COMP%]{width:80%;height:5rem;display:block;position:absolute;z-index:2}.white[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5%;height:95%;margin-left:8%}.white[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-20;width:35%;height:5rem;background:transparent;transform:skew(40deg)}.orange[_ngcontent-%COMP%]{background-color:#ff7f27;height:5rem;width:65%;right:0;display:block;position:absolute;z-index:1}.orange[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;text-align:center}.orange[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-32px;width:35%;height:5rem;background:#FF7F27;transform:skew(40deg)}main[_ngcontent-%COMP%]{max-width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;gap:40px}.mainI[_ngcontent-%COMP%]{max-width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;gap:40px;margin-top:2%}.separator[_ngcontent-%COMP%]{background-color:#ff7f27;margin-top:5%;height:80px;display:flex;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{font-family:akaya;color:#fff}.imagenes[_ngcontent-%COMP%]{border:1px solid #FF7F27;width:100%;height:550px;display:flex}.imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:0px;flex-grow:1;object-fit:cover;opacity:8;transition:3s ease-in;border:5px solid #FF7F27}.imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{width:20%;opacity:1;filter:contrast(120%)}.instructions[_ngcontent-%COMP%]{height:30rem;display:grid;grid-template-columns:repeat(3,1fr)}article[_ngcontent-%COMP%]{padding:5%}article[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:akaya;font-size:x-large}']})}}return t})(),HD=(()=>{class t{constructor(n){this.auth=n}register({correo:n,password:r}){return SJ(this.auth,n,r)}login({correo:n,password:r}){return PJ(this.auth,n,r)}logOut(){return MJ(this.auth)}static{this.\u0275fac=function(r){return new(r||t)($($c))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yse=(()=>{class t{constructor(n,r){this.userservice=n,this.routers=r,this.inicioSesion=new ou({correo:new xr,password:new xr})}Iniciar(){this.userservice.login(this.inicioSesion.value).then(n=>{this.routers.navigate(["/perfil"])}).catch(n=>console.log(n))}static{this.\u0275fac=function(r){return new(r||t)(A(HD),A(an))}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-sesion"]],decls:12,vars:1,consts:[["action","",3,"formGroup","ngSubmit"],[1,"sesion"],["type","text","formControlName","correo",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit"]],template:function(r,i){1&r&&(U(0,"form",0),Mt("ngSubmit",function(){return i.Iniciar()}),U(1,"div",1)(2,"h4"),G(3,"INICIAR SESION"),L(),U(4,"label"),G(5," CORREO "),Ve(6,"input",2),L(),U(7,"label"),G(8," CONTRASE\xd1A "),Ve(9,"input",3),L(),U(10,"button",4),G(11,"ENTRAR"),L()()()),2&r&&Ys("formGroup",i.inicioSesion)},dependencies:[vg,ru,lg,dg,su,Xl],styles:[".sesion[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;background-color:#f4ceb5;border-radius:0 50px 50px 0}h4[_ngcontent-%COMP%]{font-family:akaya;font-size:larger}label[_ngcontent-%COMP%]{font-family:akaya;width:60%}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:.2em solid black;width:100%;margin-top:10%}.sesion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#f4ceb5}button[_ngcontent-%COMP%]{background-color:#fff;border-radius:10%;border:3px solid #FF7F27;color:#ff7f27;font-family:akaya;width:30%;cursor:pointer}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{box-shadow:#0000001a 0 4px 12px}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{box-shadow:#0000000f 0 2px 4px;transform:translateY(0)}"]})}}return t})(),vse=(()=>{class t{constructor(n){this.usersService=n,this.formRegister=new ou({correo:new xr,password:new xr})}onSubmit(){this.usersService.register(this.formRegister.value).then(n=>{alert("GRACIAS POR REGISTRARTE!! AHORA PUEDES INICIAR SESION")}).catch(n=>console.log(n))}static{this.\u0275fac=function(r){return new(r||t)(A(HD))}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-registro-sesion"]],decls:25,vars:1,consts:[["action","",3,"formGroup","ngSubmit"],[1,"registro"],[1,"box"],[1,"register"],["type","text"],["type","text","formControlName","correo",1,"form-control"],["type","password"],["type","password","formControlName","password",1,"form-control"],["type","submit"],[1,"sesion1"]],template:function(r,i){1&r&&(U(0,"form",0),Mt("ngSubmit",function(){return i.onSubmit()}),U(1,"div",1)(2,"section",2)(3,"div",3)(4,"h4"),G(5,"REGISTRO"),L(),U(6,"label"),G(7," USUARIO: "),Ve(8,"input",4),L(),U(9,"label"),G(10," CORREO: "),Ve(11,"input",5),L(),U(12,"label"),G(13," PROFESI\xd3N: "),Ve(14,"input",4),L(),U(15,"label"),G(16," CONTRASE\xd1A: "),Ve(17,"input",6),L(),U(18,"label"),G(19," CONFIRMAR CONTRASE\xd1A: "),Ve(20,"input",7),L(),U(21,"button",8),G(22,"REGISTRAR"),L()(),U(23,"div",9),Ve(24,"app-sesion"),L()()()()),2&r&&Ys("formGroup",i.formRegister)},dependencies:[vg,ru,lg,dg,su,Xl,yse],styles:[".registro[_ngcontent-%COMP%]{height:35rem;display:grid;grid-template-columns:1fr 2fr 1fr}.box[_ngcontent-%COMP%]{border:10px solid #FF7F27;width:100%;grid-column:2 / 3;display:flex;border-radius:10%}.register[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:space-around;align-items:center;flex-direction:column}.sesion1[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;background-color:#f4ceb5;border-radius:0 50px 50px 0}h4[_ngcontent-%COMP%]{font-family:akaya;font-size:larger}label[_ngcontent-%COMP%]{font-family:akaya;width:60%}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:.2em solid black;width:100%;margin-top:10%}.sesion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#f4ceb5}button[_ngcontent-%COMP%]{background-color:#fff;border-radius:10%;border:3px solid #FF7F27;color:#ff7f27;font-family:akaya;width:30%;cursor:pointer}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{box-shadow:#0000001a 0 4px 12px}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{box-shadow:#0000000f 0 2px 4px;transform:translateY(0)}"]})}}return t})(),GD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-banner-nav"]],decls:10,vars:0,consts:[["routerLink","/perfil",1,"button"],["routerLink","/crearlista",1,"button"],["routerLink","/verlista",1,"button"]],template:function(r,i){1&r&&(U(0,"ul")(1,"li")(2,"a",0),G(3,"MI PERFIL"),L()(),U(4,"li")(5,"a",1),G(6," NUEVA RECETA"),L()(),U(7,"li")(8,"a",2),G(9,"MIS RECETAS"),L()()())},dependencies:[_d],styles:["li[_ngcontent-%COMP%]{text-decoration:none;color:#ff7f27;font-family:akaya;font-size:x-large;list-style:none}a[_ngcontent-%COMP%]{text-decoration:none}"]})}}return t})(),Ise=(()=>{class t{constructor(n,r){this.usersService=n,this.router=r}salir(){this.usersService.logOut().then(()=>{this.router.navigate(["/inicio"])}).catch(n=>console.log(n))}static{this.\u0275fac=function(r){return new(r||t)(A(HD),A(an))}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-perfil"]],decls:24,vars:0,consts:[[1,"contenedor"],[1,"boxNav"],[1,"boxVista"],[1,"titulo"],[1,"vista"],["for",""],["type","text"],[1,"acciones"],[3,"click"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"div",1),Ve(2,"app-banner-nav"),L(),U(3,"div",2)(4,"div",3)(5,"h4"),G(6,"MI PERFIL"),L()(),U(7,"div",4)(8,"label",5),G(9,"MI USUARIO: "),L(),Ve(10,"input",6),U(11,"label",5),G(12,"MI CORREO: "),L(),Ve(13,"input",6),U(14,"label",5),G(15,"PROFESI\xd3N: "),L(),Ve(16,"input",6),L(),U(17,"div",7)(18,"button"),G(19,"EDITAR"),L(),U(20,"button"),G(21,"ELIMINAR"),L(),U(22,"button",8),Mt("click",function(){return i.salir()}),G(23,"CERRAR SESI\xd3N"),L()()()())},dependencies:[GD],styles:[".contenedor[_ngcontent-%COMP%]{display:grid;grid-template-columns:.5fr 2fr}.boxNav[_ngcontent-%COMP%]{border:2px solid salmon;display:flex;justify-content:space-around;align-items:center}.boxVista[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.titulo[_ngcontent-%COMP%]{display:flex;justify-content:center;font-family:akaya;font-size:xx-large;text-decoration:underline}.vista[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-direction:column;width:50%}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:.2em solid black;width:100%;margin:5% 0}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:50%;height:8rem;flex-direction:column}button[_ngcontent-%COMP%]{width:50%;font-family:akaya;border:4px solid #FF7F27;border-radius:10px;background-color:#fff}"]})}}return t})(),WU=(()=>{class t{constructor(n){this.firestore=n}addPlace(n){return function ine(t,e){const n=ce(t.firestore,ke),r=aL(t),i=function GC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Wl(n,[VC(Xa(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ze.exists(!1))]).then(()=>r)}(sL(this.firestore,"places"),n)}getPlaces(){const n=sL(this.firestore,"places");return One(n,{idField:"id"})}deletePlace(n){return function rne(t){return Wl(ce(t.firestore,ke),[new Na(t._key,ze.none())])}(aL(this.firestore,`places/${n.id}`))}static{this.\u0275fac=function(r){return new(r||t)($(ag))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ese=(()=>{class t{constructor(n){this.placesService=n,this.formulario=new ou({title:new xr,ingredients:new xr,process:new xr,autor:new xr})}ngOnInit(){}onSubmit(){var n=this;return m(function*(){console.log(n.formulario.value);const r=yield n.placesService.addPlace(n.formulario.value);console.log("AQUI!!!",r)})()}static{this.\u0275fac=function(r){return new(r||t)(A(WU))}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-new-form"]],decls:26,vars:1,consts:[[1,"contenedor"],[1,"boxNav"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","title",1,"form-control"],["id","","cols","30","rows","10","formControlName","ingredients",1,"form-control"],["id","","cols","30","rows","10","formControlName","process",1,"form-control"],["type","text","formControlName","autor",1,"form-control"],["type","submit"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"div",1),Ve(2,"app-banner-nav"),L(),U(3,"form",2),Mt("ngSubmit",function(){return i.onSubmit()}),U(4,"div")(5,"p"),G(6,"INGRESA LOS DATOS PARA EL REGISTRO DE NUEVAS RECETAS"),L()(),U(7,"div",3)(8,"label",4),G(9,"Titulo:"),L(),Ve(10,"input",5),L(),U(11,"div",3)(12,"label",4),G(13,"Ingredientes:"),L(),Ve(14,"textarea",6),L(),U(15,"div",3)(16,"label",4),G(17,"Proceso:"),L(),Ve(18,"textarea",7),L(),U(19,"div",3)(20,"label",4),G(21,"Autor:"),L(),Ve(22,"input",8),L(),U(23,"div",3)(24,"button",9),G(25,"Agregar"),L()()()()),2&r&&(po(3),Ys("formGroup",i.formulario))},dependencies:[vg,ru,lg,dg,su,Xl,GD],styles:["@font-face{font-family:akaya;src:url(AkayaTelivigala-Regular.bd90faeef7840ff2.ttf)}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{text-align:center;font-family:akaya;font-size:25px}.mb-3[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.mb-3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:40%;margin:1%;border:4px solid #FF7F27;border-radius:10px}button[_ngcontent-%COMP%]{background-color:#22b14c;border-radius:10px;width:30%;border:4px solid rgba(32,168,73,.318);color:#fff}.boxNav[_ngcontent-%COMP%]{border:2px solid salmon;display:flex;justify-content:space-around;align-items:center}.contenedor[_ngcontent-%COMP%]{display:grid;grid-template-columns:.5fr 2fr}"]})}}return t})();function wse(t,e){if(1&t){const n=function vR(){return T()}();U(0,"div",4)(1,"div",5)(2,"h5"),G(3,"RECETA: "),L(),U(4,"p"),G(5),L(),U(6,"h5"),G(7,"INGREDIENTES:"),L(),U(8,"p"),G(9),L(),U(10,"h5"),G(11,"PROCESO: "),L(),U(12,"p"),G(13),L(),U(14,"h5"),G(15,"AUTOR: "),L(),U(16,"p"),G(17),L(),U(18,"button",6),Mt("click",function(){const o=function gb(t){return q.lFrame.contextLView=t,t[et]}(n).$implicit;return function mb(t){return q.lFrame.contextLView=null,t}(DR().onClickDelete(o))}),G(19,"QUITAR"),L()()()}if(2&t){const n=e.$implicit;po(5),Zs(n.title),po(4),Zs(n.ingredients),po(4),Zs(n.process),po(4),Zs(n.autor)}}let Tse=(()=>{class t{constructor(n){this.PlacesService=n,this.places=[{title:"Prueba de sitio",ingredients:"321",process:"-3",autor:"NN"}]}ngOnInit(){this.PlacesService.getPlaces().subscribe(n=>{this.places=n})}onClickDelete(n){var r=this;return m(function*(){r.PlacesService.deletePlace(n),console.log("Eliminado con exito")})()}static{this.\u0275fac=function(r){return new(r||t)(A(WU))}}static{this.\u0275cmp=Jn({type:t,selectors:[["app-list"]],decls:7,vars:1,consts:[[1,"contenedor"],[1,"boxNav"],[1,"listas"],["class","receta",4,"ngFor","ngForOf"],[1,"receta"],[1,"info"],[3,"click"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"div",1),Ve(2,"app-banner-nav"),L(),U(3,"div",2)(4,"p"),G(5,"LISTA DE RECETAS GUARDADAS EN LA BASE DE DATOS"),L(),function fR(t,e,n,r,i,o,s,a){const u=T(),c=he(),l=t+se,d=c.firstCreatePass?function m4(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Bs(e,t,4,s||null,Ii(c,a));F_(e,n,l,Ii(c,u)),Bd(e,l);const d=l.tView=V_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];pr(d,!1);const h=pR(c,u,d,t);Ud()&&ah(c,u,h,d),Ut(h,u),Dh(u,u[l]=V0(h,u,h,d)),kd(d)&&O_(c,u,d),null!=s&&k_(u,d,a)}(6,wse,20,4,"div",3),L()()),2&r&&(po(6),Ys("ngForOf",i.places))},dependencies:[Nx,GD],styles:["@font-face{font-family:akaya;src:url(AkayaTelivigala-Regular.bd90faeef7840ff2.ttf)}p[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:akaya;font-size:25px;text-align:center;line-height:15px}.listas[_ngcontent-%COMP%]{display:block;justify-content:center;flex-direction:column;align-items:center;height:700px;overflow:auto}.receta[_ngcontent-%COMP%]{border:6px double #FF7F27;border-radius:15px;width:80%;margin-bottom:5%}button[_ngcontent-%COMP%]{font-family:akaya;font-size:25px;background-color:#22b14c;border:4px solid #22b14d7c;border-radius:10px;color:#fff}.boxNav[_ngcontent-%COMP%]{border:2px solid salmon;display:flex;justify-content:space-around;align-items:center}.contenedor[_ngcontent-%COMP%]{display:grid;grid-template-columns:.5fr 2fr}"]})}}return t})();const Cse=[{path:"",redirectTo:"inicio",pathMatch:"full"},{path:"inicio",component:_se},{path:"registro",component:vse},{path:"perfil",component:Ise,canActivate:[hse],data:{authGuardPipe:()=>(t=>QD($D,pe(e=>e||t)))(["inicio"])}},{path:"crearlista",component:Ese},{path:"verlista",component:Tse}];let Dse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ln({type:t})}static{this.\u0275inj=Kt({imports:[zU.forRoot(Cse),zU]})}}return t})(),Ase=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ln({type:t,bootstrap:[dse]})}static{this.\u0275inj=Kt({imports:[h8,Lre,Ure,Dse,vK(()=>IK(v8_firebase)),Nne(()=>kne()),AJ(()=>RJ())]})}}return t})();l8().bootstrapModule(Ase).catch(t=>console.error(t))}},Ae=>{Ae(Ae.s=338)}]);