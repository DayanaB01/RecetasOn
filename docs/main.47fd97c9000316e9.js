"use strict";(self.webpackChunkTurismoA=self.webpackChunkTurismoA||[]).push([[179],{316:()=>{function Oe(t){return"function"==typeof t}function ol(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const sl=ol(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Po(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Sn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Oe(r))try{r()}catch(o){e=o instanceof sl?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{GT(o)}catch(s){e=e??[],s instanceof sl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new sl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)GT(e);else{if(e instanceof Sn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Po(n,e)}remove(e){const{_finalizers:n}=this;n&&Po(n,e),e instanceof Sn&&e._removeParent(this)}}Sn.EMPTY=(()=>{const t=new Sn;return t.closed=!0,t})();const jT=Sn.EMPTY;function $T(t){return t instanceof Sn||t&&"closed"in t&&Oe(t.remove)&&Oe(t.add)&&Oe(t.unsubscribe)}function GT(t){Oe(t)?t():t.unsubscribe()}const Ri={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},al={setTimeout(t,e,...n){const{delegate:r}=al;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=al;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function HT(t){al.setTimeout(()=>{const{onUnhandledError:e}=Ri;if(!e)throw t;e(t)})}function zT(){}const gF=rp("C",void 0,void 0);function rp(t,e,n){return{kind:t,value:e,error:n}}let Mi=null;function ul(t){if(Ri.useDeprecatedSynchronousErrorHandling){const e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Mi;if(Mi=null,n)throw r}}else t()}class ip extends Sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$T(e)&&e.add(this)):this.destination=wF}static create(e,n,r){return new Da(e,n,r)}next(e){this.isStopped?sp(function _F(t){return rp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?sp(function mF(t){return rp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sp(gF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vF=Function.prototype.bind;function op(t,e){return vF.call(t,e)}class IF{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cl(r)}else cl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cl(n)}}}class Da extends ip{constructor(e,n,r){let i;if(super(),Oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ri.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&op(e.next,o),error:e.error&&op(e.error,o),complete:e.complete&&op(e.complete,o)}):i=e}this.destination=new IF(i)}}function cl(t){Ri.useDeprecatedSynchronousErrorHandling?function yF(t){Ri.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}(t):HT(t)}function sp(t,e){const{onStoppedNotification:n}=Ri;n&&al.setTimeout(()=>n(t,e))}const wF={closed:!0,next:zT,error:function EF(t){throw t},complete:zT},ap="function"==typeof Symbol&&Symbol.observable||"@@observable";function ll(t){return t}let ct=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function DF(t){return t&&t instanceof ip||function TF(t){return t&&Oe(t.next)&&Oe(t.error)&&Oe(t.complete)}(t)&&$T(t)}(n)?n:new Da(n,r,i);return ul(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=WT(r))((i,o)=>{const s=new Da({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ap](){return this}pipe(...n){return function qT(t){return 0===t.length?ll:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=WT(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function WT(t){var e;return null!==(e=t??Ri.Promise)&&void 0!==e?e:Promise}const AF=ol(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dl=(()=>{class t extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new KT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new AF}next(n){ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?jT:(this.currentObservers=null,o.push(n),new Sn(()=>{this.currentObservers=null,Po(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ct;return n.source=this,n}}return t.create=(e,n)=>new KT(e,n),t})();class KT extends dl{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:jT}}function zr(t){return e=>{if(function CF(t){return Oe(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pr(t,e,n,r,i){return new bF(t,e,n,r,i)}class bF extends ip{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Aa(t,e){return zr((n,r)=>{let i=0;n.subscribe(pr(r,o=>{r.next(t.call(e,o,i++))}))})}function lp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function qr(t){return this instanceof qr?(this.v=t,this):new qr(t)}function ZT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function hp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const XT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function eD(t){return Oe(t?.then)}function tD(t){return Oe(t[ap])}function nD(t){return Symbol.asyncIterator&&Oe(t?.[Symbol.asyncIterator])}function rD(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const iD=function KF(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oD(t){return Oe(t?.[iD])}function sD(t){return function JT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof qr?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield qr(n.read());if(i)return yield qr(void 0);yield yield qr(r)}}finally{n.releaseLock()}})}function aD(t){return Oe(t?.getReader)}function Gn(t){if(t instanceof ct)return t;if(null!=t){if(tD(t))return function QF(t){return new ct(e=>{const n=t[ap]();if(Oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(XT(t))return function YF(t){return new ct(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(eD(t))return function JF(t){return new ct(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,HT)})}(t);if(nD(t))return uD(t);if(oD(t))return function ZF(t){return new ct(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(aD(t))return function XF(t){return uD(sD(t))}(t)}throw rD(t)}function uD(t){return new ct(e=>{(function eL(t,e){var n,r,i,o;return function QT(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ZT(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Wr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cD(t,e,n=1/0){return Oe(e)?cD((r,i)=>Aa((o,s)=>e(r,o,i,s))(Gn(t(r,i))),n):("number"==typeof e&&(n=e),zr((r,i)=>function tL(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let m=!1;Gn(n(g,l++)).subscribe(pr(e,v=>{i?.(v),o?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();s?Wr(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(pr(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}const lD=new ct(t=>t.complete());function fp(t){return t[t.length-1]}function dD(t){return function iL(t){return t&&Oe(t.schedule)}(fp(t))?t.pop():void 0}function hl(t,e=0){return zr((n,r)=>{n.subscribe(pr(r,i=>Wr(r,t,()=>r.next(i),e),()=>Wr(r,t,()=>r.complete(),e),i=>Wr(r,t,()=>r.error(i),e)))})}function fl(t,e=0){return zr((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hD(t,e){if(!t)throw new Error("Iterable cannot be null");return new ct(n=>{Wr(n,e,()=>{const r=t[Symbol.asyncIterator]();Wr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pp(t,e){return e?function hL(t,e){if(null!=t){if(tD(t))return function aL(t,e){return Gn(t).pipe(fl(e),hl(e))}(t,e);if(XT(t))return function cL(t,e){return new ct(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(eD(t))return function uL(t,e){return Gn(t).pipe(fl(e),hl(e))}(t,e);if(nD(t))return hD(t,e);if(oD(t))return function lL(t,e){return new ct(n=>{let r;return Wr(n,e,()=>{r=t[iD](),Wr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Oe(r?.return)&&r.return()})}(t,e);if(aD(t))return function dL(t,e){return hD(sD(t),e)}(t,e)}throw rD(t)}(t,e):Gn(t)}function fL(...t){const e=dD(t),n=function sL(t,e){return"number"==typeof fp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Gn(r[0]):function nL(t=1/0){return cD(ll,t)}(n)(pp(r,e)):lD}class pL extends dl{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function fD(t={}){const{connector:e=(()=>new dl),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return zr((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=gp(p,i))}),v.subscribe(m),!s&&c>0&&(s=new Da({next:_=>v.next(_),error:_=>{d=!0,h(),a=gp(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=gp(f,r),v.complete()}}),Gn(g).subscribe(s))})(o)}}function gp(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Da({next:()=>{r.unsubscribe(),t()}});return Gn(e(...n)).subscribe(r)}function yL(t,e){return t===e}function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function pl(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function it(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function mp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const vL=ge({__forward_ref__:ge});function Te(t){return t.__forward_ref__=Te,t.toString=function(){return it(this())},t}function $(t){return _p(t)?t():t}function _p(t){return"function"==typeof t&&t.hasOwnProperty(vL)&&t.__forward_ref__===Te}function yp(t){return t&&!!t.\u0275providers}class S extends Error{constructor(e,n){super(function gl(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function z(t){return"string"==typeof t?t:null==t?"":String(t)}function vp(t,e){throw new S(-201,!1)}function _n(t,e){null==t&&function B(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function de(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ml(t){return gD(t,yl)||gD(t,mD)}function gD(t,e){return t.hasOwnProperty(e)?t[e]:null}function _l(t){return t&&(t.hasOwnProperty(Ip)||t.hasOwnProperty(CL))?t[Ip]:null}const yl=ge({\u0275prov:ge}),Ip=ge({\u0275inj:ge}),mD=ge({ngInjectableDef:ge}),CL=ge({ngInjectorDef:ge});var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{});let Ep;function Qt(t){const e=Ep;return Ep=t,e}function yD(t,e,n){const r=ml(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ie.Optional?null:void 0!==e?e:void vp(it(t))}const De=globalThis;class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=de({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ca={},Cp="__NG_DI_FLAG__",vl="ngTempTokenPath",PL=/\n/gm,ID="__source";let Ro;function Kr(t){const e=Ro;return Ro=t,e}function NL(t,e=ie.Default){if(void 0===Ro)throw new S(-203,!1);return null===Ro?yD(t,void 0,e):Ro.get(t,e&ie.Optional?null:void 0,e)}function Z(t,e=ie.Default){return(function _D(){return Ep}()||NL)($(t),e)}function Ee(t,e=ie.Default){return Z(t,Il(e))}function Il(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bp(t){const e=[];for(let n=0;n<t.length;n++){const r=$(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){const a=r[s],u=xL(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function ba(t,e){return t[Cp]=e,t.prototype[Cp]=e,t}function xL(t){return t[Cp]}function gr(t){return{toString:t}.toString()}var El=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(El||{}),Pn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pn||{});const Hn={},ce=[],wl=ge({\u0275cmp:ge}),Sp=ge({\u0275dir:ge}),Pp=ge({\u0275pipe:ge}),wD=ge({\u0275mod:ge}),mr=ge({\u0275fac:ge}),Sa=ge({__NG_ELEMENT_ID__:ge}),TD=ge({__NG_ENV_ID__:ge});function DD(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Rp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];CD(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function AD(t){return 3===t||4===t||6===t}function CD(t){return 64===t.charCodeAt(0)}function Pa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||bD(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function bD(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const SD="ng-template";function VL(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==DD(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function PD(t){return 4===t.type&&t.value!==SD}function FL(t,e,n){return e===(4!==t.type||n?t.value:SD)}function LL(t,e,n){let r=4;const i=t.attrs||[],o=function jL(t){for(let e=0;e<t.length;e++)if(AD(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!FL(t,u,n)||""===u&&1===e.length){if(Rn(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!VL(t.attrs,c,n)){if(Rn(r))return!1;s=!0}continue}const d=BL(8&r?"class":u,i,PD(t),n);if(-1===d){if(Rn(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==DD(f,c,0)||2&r&&c!==h){if(Rn(r))return!1;s=!0}}}}else{if(!s&&!Rn(r)&&!Rn(u))return!1;if(s&&Rn(u))continue;s=!1,r=u|1&r}}return Rn(r)||s}function Rn(t){return 0==(1&t)}function BL(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function $L(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function RD(t,e,n=!1){for(let r=0;r<e.length;r++)if(LL(t,e[r],n))return!0;return!1}function MD(t,e){return t?":not("+e.trim()+")":e}function HL(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Rn(s)&&(e+=MD(o,i),i=""),r=s,o=o||!Rn(r);n++}return""!==i&&(e+=MD(o,i)),e}function Mo(t){return gr(()=>{const e=xD(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===El.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pn.Emulated,styles:t.styles||ce,_:null,schemas:t.schemas||null,tView:null,id:""};kD(n);const r=t.dependencies;return n.directiveDefs=Tl(r,!1),n.pipeDefs=Tl(r,!0),n.id=function ZL(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function KL(t){return se(t)||gt(t)}function QL(t){return null!==t}function Mn(t){return gr(()=>({type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ND(t,e){if(null==t)return Hn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function K(t){return gr(()=>{const e=xD(t);return kD(e),e})}function se(t){return t[wl]||null}function gt(t){return t[Sp]||null}function Ft(t){return t[Pp]||null}function xD(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Hn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ND(t.inputs,e),outputs:ND(t.outputs)}}function kD(t){t.features?.forEach(e=>e(t))}function Tl(t,e){if(!t)return null;const n=e?Ft:KL;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(QL)}const $e=0,x=1,Y=2,Ve=3,Nn=4,Ma=5,At=6,No=7,qe=8,Qr=9,xo=10,q=11,Na=12,OD=13,ko=14,We=15,xa=16,Oo=17,zn=18,ka=19,VD=20,Yr=21,_r=22,Oa=23,Va=24,ee=25,Mp=1,FD=2,qn=7,Vo=9,mt=11;function Jt(t){return Array.isArray(t)&&"object"==typeof t[Mp]}function Lt(t){return Array.isArray(t)&&!0===t[Mp]}function Np(t){return 0!=(4&t.flags)}function xi(t){return t.componentOffset>-1}function Al(t){return 1==(1&t.flags)}function xn(t){return!!t.template}function xp(t){return 0!=(512&t[Y])}function ki(t,e){return t.hasOwnProperty(mr)?t[mr]:null}let _t=null,Cl=!1;function vn(t){const e=_t;return _t=t,e}const UD={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $D(t){if(!La(t)||t.dirty){if(!t.producerMustRecompute(t)&&!zD(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function HD(t){t.dirty=!0,function GD(t){if(void 0===t.liveConsumerNode)return;const e=Cl;Cl=!0;try{for(const n of t.liveConsumerNode)n.dirty||HD(n)}finally{Cl=e}}(t),t.consumerMarkedDirty?.(t)}function Op(t){return t&&(t.nextProducerIndex=0),vn(t)}function Vp(t,e){if(vn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(La(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)bl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zD(t){Fo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($D(n),r!==n.version))return!0}return!1}function qD(t){if(Fo(t),La(t))for(let e=0;e<t.producerNode.length;e++)bl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bl(t,e){if(function KD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Fo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)bl(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fo(i),i.producerIndexOfThis[r]=e}}function La(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let QD=null;const XD=()=>{},d2=(()=>({...UD,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:XD}))();class h2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yr(){return eA}function eA(t){return t.type.prototype.ngOnChanges&&(t.setInput=p2),f2}function f2(){const t=nA(this),e=t?.current;if(e){const n=t.previous;if(n===Hn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function p2(t,e,n,r){const i=this.declaredInputs[n],o=nA(t)||function g2(t,e){return t[tA]=e}(t,{previous:Hn,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new h2(u&&u.currentValue,e,a===Hn),t[r]=e}yr.ngInherit=!0;const tA="__ngSimpleChanges__";function nA(t){return t[tA]||null}const Wn=function(t,e,n){};function Ae(t){for(;Array.isArray(t);)t=t[$e];return t}function Sl(t,e){return Ae(e[t])}function Zt(t,e){return Ae(e[t.index])}function oA(t,e){return t.data[e]}function un(t,e){const n=e[t];return Jt(n)?n:n[$e]}function Zr(t,e){return null==e?null:t[e]}function sA(t){t[Oo]=0}function E2(t){1024&t[Y]||(t[Y]|=1024,uA(t,1))}function aA(t){1024&t[Y]&&(t[Y]&=-1025,uA(t,-1))}function uA(t,e){let n=t[Ve];if(null===n)return;n[Ma]+=e;let r=n;for(n=n[Ve];null!==n&&(1===e&&1===r[Ma]||-1===e&&0===r[Ma]);)n[Ma]+=e,r=n,n=n[Ve]}const U={lFrame:vA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dA(){return U.bindingsEnabled}function T(){return U.lFrame.lView}function ae(){return U.lFrame.tView}function jp(t){return U.lFrame.contextLView=t,t[qe]}function $p(t){return U.lFrame.contextLView=null,t}function yt(){let t=hA();for(;null!==t&&64===t.type;)t=t.parent;return t}function hA(){return U.lFrame.currentTNode}function Kn(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function Gp(){return U.lFrame.isParent}function Uo(){return U.lFrame.bindingIndex++}function x2(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,zp(e)}function zp(t){U.lFrame.currentDirectiveIndex=t}function Wp(t){U.lFrame.currentQueryIndex=t}function O2(t){const e=t[x];return 2===e.type?e.declTNode:1===e.type?t[At]:null}function _A(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ie.Host||(i=O2(o),null===i||(o=o[ko],10&i.type))););if(null===i)return!1;e=i,t=o}const r=U.lFrame=yA();return r.currentTNode=e,r.lView=t,!0}function Kp(t){const e=yA(),n=t[x];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function yA(){const t=U.lFrame,e=null===t?null:t.child;return null===e?vA(t):e}function vA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function IA(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const EA=IA;function Qp(){const t=IA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ut(){return U.lFrame.selectedIndex}function Oi(t){U.lFrame.selectedIndex=t}let TA=!0;function Pl(){return TA}function Xr(t){TA=t}function Rl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Ml(t,e,n){DA(t,e,3,n)}function Nl(t,e,n,r){(3&t[Y])===n&&DA(t,e,n,r)}function Yp(t,e){let n=t[Y];(3&n)===e&&(n&=8191,n+=1,t[Y]=n)}function DA(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Oo]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Oo]+=65536),(a<o||-1==o)&&(G2(t,n,e,u),t[Oo]=(4294901760&t[Oo])+u+2),u++}function AA(t,e){Wn(4,t,e);const n=vn(null);try{e.call(t)}finally{vn(n),Wn(5,t,e)}}function G2(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Y]>>13<t[Oo]>>16&&(3&t[Y])===e&&(t[Y]+=8192,AA(a,o)):AA(a,o)}const jo=-1;class Ua{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Zp(t){return t!==jo}function ja(t){return 32767&t}function $a(t,e){let n=function W2(t){return t>>16}(t),r=e;for(;n>0;)r=r[ko],n--;return r}let Xp=!0;function xl(t){const e=Xp;return Xp=t,e}const CA=255,bA=5;let K2=0;const Qn={};function kl(t,e){const n=SA(t,e);if(-1!==n)return n;const r=e[x];r.firstCreatePass&&(t.injectorIndex=e.length,eg(r.data,t),eg(e,null),eg(r.blueprint,null));const i=Ol(t,e),o=t.injectorIndex;if(Zp(i)){const s=ja(i),a=$a(i,e),u=a[x].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function eg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function SA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ol(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=OA(i),null===r)return jo;if(n++,i=i[ko],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return jo}function tg(t,e,n){!function Q2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sa)&&(r=n[Sa]),null==r&&(r=n[Sa]=K2++);const i=r&CA;e.data[t+(i>>bA)]|=1<<i}(t,e,n)}function PA(t,e,n){if(n&ie.Optional||void 0!==t)return t;vp()}function RA(t,e,n,r){if(n&ie.Optional&&void 0===r&&(r=null),!(n&(ie.Self|ie.Host))){const i=t[Qr],o=Qt(void 0);try{return i?i.get(e,r,n&ie.Optional):yD(e,r,n&ie.Optional)}finally{Qt(o)}}return PA(r,0,n)}function MA(t,e,n,r=ie.Default,i){if(null!==t){if(2048&e[Y]&&!(r&ie.Self)){const s=function tB(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Y]&&!(512&s[Y]);){const a=NA(o,s,n,r|ie.Self,Qn);if(a!==Qn)return a;let u=o.parent;if(!u){const c=s[VD];if(c){const l=c.get(n,Qn,r);if(l!==Qn)return l}u=OA(s),s=s[ko]}o=u}return i}(t,e,n,r,Qn);if(s!==Qn)return s}const o=NA(t,e,n,r,Qn);if(o!==Qn)return o}return RA(e,n,r,i)}function NA(t,e,n,r,i){const o=function Z2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Sa)?t[Sa]:void 0;return"number"==typeof e?e>=0?e&CA:eB:e}(n);if("function"==typeof o){if(!_A(e,t,r))return r&ie.Host?PA(i,0,r):RA(e,n,r,i);try{let s;if(s=o(r),null!=s||r&ie.Optional)return s;vp()}finally{EA()}}else if("number"==typeof o){let s=null,a=SA(t,e),u=jo,c=r&ie.Host?e[We][At]:null;for((-1===a||r&ie.SkipSelf)&&(u=-1===a?Ol(t,e):e[a+8],u!==jo&&kA(r,!1)?(s=e[x],a=ja(u),e=$a(u,e)):a=-1);-1!==a;){const l=e[x];if(xA(o,a,l.data)){const d=J2(a,e,n,s,r,c);if(d!==Qn)return d}u=e[a+8],u!==jo&&kA(r,e[x].data[a+8]===c)&&xA(o,a,e)?(s=l,a=ja(u),e=$a(u,e)):a=-1}}return i}function J2(t,e,n,r,i,o){const s=e[x],a=s.data[t+8],l=function Vl(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&xn(f)&&f.type===n)return u}return null}(a,s,n,null==r?xi(a)&&Xp:r!=s&&0!=(3&a.type),i&ie.Host&&o===a);return null!==l?Vi(e,s,l,a):Qn}function Vi(t,e,n,r){let i=t[n];const o=e.data;if(function H2(t){return t instanceof Ua}(i)){const s=i;s.resolving&&function IL(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():z(t)}(o[n]));const a=xl(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Qt(s.injectImpl):null;_A(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function $2(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=eA(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&Qt(c),xl(a),s.resolving=!1,EA()}}return i}function xA(t,e,n){return!!(n[e+(t>>bA)]&1<<t)}function kA(t,e){return!(t&ie.Self||t&ie.Host&&e)}class jt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return MA(this._tNode,this._lView,e,Il(r),n)}}function eB(){return new jt(yt(),T())}function ng(t){return _p(t)?()=>{const e=ng($(t));return e&&e()}:ki(t)}function OA(t){const e=t[x],n=e.type;return 2===n?e.declTNode:1===n?t[At]:null}const Go="__parameters__";function zo(t,e,n){return gr(()=>{const r=function ig(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Go)?u[Go]:Object.defineProperty(u,Go,{value:[]})[Go];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Wo(t,e){t.forEach(n=>Array.isArray(n)?Wo(n,e):e(n))}function FA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cn(t,e,n){let r=Ko(t,e);return r>=0?t[1|r]=n:(r=~r,function uB(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function og(t,e){const n=Ko(t,e);if(n>=0)return t[1|n]}function Ko(t,e){return function LA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const kn=ba(zo("Optional"),8),ag=ba(zo("SkipSelf"),4);function Gl(t){return 128==(128&t.flags)}var ei=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ei||{});const dg=new Map;let NB=0;const fg="__ngContext__";function bt(t,e){Jt(e)?(t[fg]=e[ka],function kB(t){dg.set(t[ka],t)}(e)):t[fg]=e}let pg;function gg(t,e){return pg(t,e)}function Ka(t){const e=t[Ve];return Lt(e)?e[Ve]:e}function iC(t){return sC(t[Na])}function oC(t){return sC(t[Nn])}function sC(t){for(;null!==t&&!Lt(t);)t=t[Nn];return t}function Jo(t,e,n,r,i){if(null!=r){let o,s=!1;Lt(r)?o=r:Jt(r)&&(s=!0,r=r[$e]);const a=Ae(r);0===t&&null!==n?null==i?lC(e,n,a):Fi(e,n,a,i||null,!0):1===t&&null!==n?Fi(e,n,a,i||null,!0):2===t?function Yl(t,e,n){const r=Kl(t,e);r&&function XB(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function nU(t,e,n,r,i){const o=n[qn];o!==Ae(n)&&Jo(e,t,r,o,i);for(let a=mt;a<n.length;a++){const u=n[a];Ya(u[x],u,t,e,r,o)}}(e,t,o,n,i)}}function ql(t,e,n){return t.createElement(e,n)}function uC(t,e){const n=t[Vo],r=n.indexOf(e);aA(e),n.splice(r,1)}function Wl(t,e){if(t.length<=mt)return;const n=mt+e,r=t[n];if(r){const i=r[xa];null!==i&&i!==t&&uC(i,r),e>0&&(t[n-1][Nn]=r[Nn]);const o=Fl(t,mt+e);!function zB(t,e){Ya(t,e,e[q],2,null,null),e[$e]=null,e[At]=null}(r[x],r);const s=o[zn];null!==s&&s.detachView(o[x]),r[Ve]=null,r[Nn]=null,r[Y]&=-129}return r}function _g(t,e){if(!(256&e[Y])){const n=e[q];e[Oa]&&qD(e[Oa]),e[Va]&&qD(e[Va]),n.destroyNode&&Ya(t,e,n,3,null,null),function KB(t){let e=t[Na];if(!e)return yg(t[x],t);for(;e;){let n=null;if(Jt(e))n=e[Na];else{const r=e[mt];r&&(n=r)}if(!n){for(;e&&!e[Nn]&&e!==t;)Jt(e)&&yg(e[x],e),e=e[Ve];null===e&&(e=t),Jt(e)&&yg(e[x],e),n=e&&e[Nn]}e=n}}(e)}}function yg(t,e){if(!(256&e[Y])){e[Y]&=-129,e[Y]|=256,function ZB(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ua)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Wn(4,a,u);try{u.call(a)}finally{Wn(5,a,u)}}else{Wn(4,i,o);try{o.call(i)}finally{Wn(5,i,o)}}}}}(t,e),function JB(t,e){const n=t.cleanup,r=e[No];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[No]=null);const i=e[Yr];if(null!==i){e[Yr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[x].type&&e[q].destroy();const n=e[xa];if(null!==n&&Lt(e[Ve])){n!==e[Ve]&&uC(n,e);const r=e[zn];null!==r&&r.detachView(t)}!function OB(t){dg.delete(t[ka])}(e)}}function vg(t,e,n){return function cC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[$e];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Pn.None||o===Pn.Emulated)return null}return Zt(r,n)}}(t,e.parent,n)}function Fi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lC(t,e,n){t.appendChild(e,n)}function dC(t,e,n,r,i){null!==r?Fi(t,e,n,r,i):lC(t,e,n)}function Kl(t,e){return t.parentNode(e)}let Ig,Dg,pC=function fC(t,e,n){return 40&t.type?Zt(t,n):null};function Ql(t,e,n,r){const i=vg(t,r,e),o=e[q],a=function hC(t,e,n){return pC(t,e,n)}(r.parent||e[At],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)dC(o,i,n[u],a,!1);else dC(o,i,n,a,!1);void 0!==Ig&&Ig(o,r,e,n,i)}function Qa(t,e){if(null!==e){const n=e.type;if(3&n)return Zt(e,t);if(4&n)return Eg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Qa(t,r);{const i=t[e.index];return Lt(i)?Eg(-1,i):Ae(i)}}if(32&n)return gg(e,t)()||Ae(t[e.index]);{const r=mC(t,e);return null!==r?Array.isArray(r)?r[0]:Qa(Ka(t[We]),r):Qa(t,e.next)}}return null}function mC(t,e){return null!==e?t[We][At].projection[e.projection]:null}function Eg(t,e){const n=mt+t+1;if(n<e.length){const r=e[n],i=r[x].firstChild;if(null!==i)return Qa(r,i)}return e[qn]}function wg(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&bt(Ae(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)wg(t,e,n.child,r,i,o,!1),Jo(e,t,i,a,o);else if(32&u){const c=gg(n,r);let l;for(;l=c();)Jo(e,t,i,l,o);Jo(e,t,i,a,o)}else 16&u?yC(t,e,r,n,i,o):Jo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ya(t,e,n,r,i,o){wg(n,r,t.firstChild,e,i,o,!1)}function yC(t,e,n,r,i,o){const s=n[We],u=s[At].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Jo(e,t,i,u[c],o);else{let c=u;const l=s[Ve];Gl(r)&&(c.flags|=128),wg(t,e,c,l,i,o,!0)}}function vC(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function IC(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Rp(t,e,r),null!==i&&vC(t,e,i),null!==o&&function iU(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class DC{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const ed=new L("ENVIRONMENT_INITIALIZER"),xC=new L("INJECTOR",-1),kC=new L("INJECTOR_DEF_TYPES");class Rg{get(e,n=Ca){if(n===Ca){const r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return n}}function NU(...t){return{\u0275providers:VC(0,t),\u0275fromNgModule:!0}}function VC(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Wo(e,s=>{const a=s;td(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&FC(i,o),n}function FC(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Mg(i,o=>{e(o,r)})}}function td(t,e,n,r){if(!(t=$(t)))return!1;let i=null,o=_l(t);const s=!o&&se(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=_l(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)td(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Wo(o.imports,l=>{td(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&FC(c,e)}if(!a){const c=ki(i)||(()=>new i);e({provide:i,useFactory:c,deps:ce},i),e({provide:kC,useValue:i,multi:!0},i),e({provide:ed,useValue:()=>Z(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;Mg(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Mg(t,e){for(let n of t)yp(n)&&(n=n.\u0275providers),Array.isArray(n)?Mg(n,e):e(n)}const xU=ge({provide:String,useValue:ge});function Ng(t){return null!==t&&"object"==typeof t&&xU in t}function Li(t){return"function"==typeof t}const xg=new L("Set Injector scope."),nd={},OU={};let kg;function rd(){return void 0===kg&&(kg=new Rg),kg}class wr{}class ts extends wr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vg(e,s=>this.processProvider(s)),this.records.set(xC,ns(void 0,this)),i.has("environment")&&this.records.set(wr,ns(void 0,this));const o=this.records.get(xg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kC.multi,ce,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Kr(this),r=Qt(void 0);try{return e()}finally{Kr(n),Qt(r)}}get(e,n=Ca,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(TD))return e[TD](this);r=Il(r);const o=Kr(this),s=Qt(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function UU(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&ml(e);u=c&&this.injectableDefInScope(c)?ns(Og(e),nd):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ie.Self?rd():this.parent).get(e,n=r&ie.Optional&&n===Ca?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[vl]=a[vl]||[]).unshift(it(e)),o)throw a;return function kL(t,e,n,r){const i=t[vl];throw e[ID]&&i.unshift(e[ID]),t.message=function OL(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):it(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PL,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[vl]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Qt(s),Kr(o)}}resolveInjectorInitializers(){const e=Kr(this),n=Qt(void 0);try{const i=this.get(ed.multi,ce,ie.Self);for(const o of i)o()}finally{Kr(e),Qt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Li(e=$(e))?e:$(e&&e.provide);const r=function FU(t){return Ng(t)?ns(void 0,t.useValue):ns(UC(t),nd)}(e);if(Li(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ns(void 0,nd,!0),i.factory=()=>bp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===nd&&(n.value=OU,n.value=n.factory()),"object"==typeof n.value&&n.value&&function BU(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=$(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Og(t){const e=ml(t),n=null!==e?e.factory:ki(t);if(null!==n)return n;if(t instanceof L)throw new S(204,!1);if(t instanceof Function)return function VU(t){const e=t.length;if(e>0)throw function za(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function AL(t){return t&&(t[yl]||t[mD])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function UC(t,e,n){let r;if(Li(t)){const i=$(t);return ki(i)||Og(i)}if(Ng(t))r=()=>$(t.useValue);else if(function BC(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...bp(t.deps||[]));else if(function LC(t){return!(!t||!t.useExisting)}(t))r=()=>Z($(t.useExisting));else{const i=$(t&&(t.useClass||t.provide));if(!function LU(t){return!!t.deps}(t))return ki(i)||Og(i);r=()=>new i(...bp(t.deps))}return r}function ns(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Vg(t,e){for(const n of t)Array.isArray(n)?Vg(n,e):n&&yp(n)?Vg(n.\u0275providers,e):e(n)}const id=new L("AppId",{providedIn:"root",factory:()=>jU}),jU="ng",jC=new L("Platform Initializer"),Bi=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$C=new L("CSP nonce",{providedIn:"root",factory:()=>function Xo(){if(void 0!==Dg)return Dg;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let GC=(t,e,n)=>null;function Hg(t,e,n=!1){return GC(t,e,n)}class JU{}class qC{}class XU{resolveComponentFactory(e){throw function ZU(t){const e=Error(`No component factory found for ${it(t)}.`);return e.ngComponent=t,e}(e)}}let ld=(()=>{class t{static#e=this.NULL=new XU}return t})();function ej(){return os(yt(),T())}function os(t,e){return new On(Zt(t,e))}let On=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=ej}return t})();class KC{}let Ui=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function nj(){const t=T(),n=un(yt().index,t);return(Jt(n)?n:t)[q]}()}return t})(),rj=(()=>{class t{static#e=this.\u0275prov=de({token:t,providedIn:"root",factory:()=>null})}return t})();class nu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const QC=new nu("16.2.12"),Wg={};function XC(t,e=null,n=null,r){const i=eb(t,e,n,r);return i.resolveInjectorInitializers(),i}function eb(t,e=null,n=null,r,i=new Set){const o=[n||ce,NU(t)];return r=r||("object"==typeof t?void 0:it(t)),new ts(o,e||rd(),r||null,i)}let ln=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ca;static#t=this.NULL=new Rg;static create(n,r){if(Array.isArray(n))return XC({name:""},r,n,"");{const i=n.name??"";return XC({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=de({token:t,providedIn:"any",factory:()=>Z(xC)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Qg(t){return t.ngOriginalError}class Tr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qg(e);for(;n&&Qg(n);)n=Qg(n);return n||null}}function Jg(t){return e=>{setTimeout(t,void 0,e)}}const St=class lj extends dl{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Jg(o),i&&(i=Jg(i)),s&&(s=Jg(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Sn&&e.add(a),a}};function nb(...t){}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new St(!1),this.onMicrotaskEmpty=new St(!1),this.onStable=new St(!1),this.onError=new St(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function dj(){const t="function"==typeof De.requestAnimationFrame;let e=De[t?"requestAnimationFrame":"setTimeout"],n=De[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function pj(t){const e=()=>{!function fj(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(De,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xg(t),t.isCheckStableRunning=!0,Zg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function mj(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return rb(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ib(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return rb(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ib(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Xg(t),Zg(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hj,nb,nb);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const hj={};function Zg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ib(t){t._nesting--,Zg(t)}class gj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new St,this.onMicrotaskEmpty=new St,this.onStable=new St,this.onError=new St}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const ob=new L("",{providedIn:"root",factory:sb});function sb(){const t=Ee(Re);let e=!0;return fL(new ct(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ct(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Re.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(fD()))}let em=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})();function ru(t){for(;t;){t[Y]|=64;const e=Ka(t);if(xp(t)&&!e)return t;t=e}return null}const db=new L("",{providedIn:"root",factory:()=>!1});let hd=null;function gb(t,e){return t[e]??yb()}function mb(t,e){const n=yb();n.producerNode?.length&&(t[e]=hd,n.lView=t,hd=_b())}const Cj={...UD,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ru(t.lView)},lView:null};function _b(){return Object.create(Cj)}function yb(){return hd??=_b(),hd}const Q={};function Vn(t){vb(ae(),T(),Ut()+t,!1)}function vb(t,e,n,r){if(!r)if(3==(3&e[Y])){const o=t.preOrderCheckHooks;null!==o&&Ml(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Nl(e,o,0,n)}Oi(n)}function b(t,e=ie.Default){const n=T();return null===n?Z(t,e):MA(yt(),n,$(t),e)}function fd(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[$e]=i,d[Y]=140|r,(null!==c||t&&2048&t[Y])&&(d[Y]|=2048),sA(d),d[Ve]=d[ko]=t,d[qe]=n,d[xo]=s||t&&t[xo],d[q]=a||t&&t[q],d[Qr]=u||t&&t[Qr]||null,d[At]=o,d[ka]=function xB(){return NB++}(),d[_r]=l,d[VD]=c,d[We]=2==e.type?t[We]:d,d}function us(t,e,n,r,i){let o=t.data[e];if(null===o)o=function tm(t,e,n,r,i){const o=hA(),s=Gp(),u=t.data[e]=function Oj(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Bo(){return null!==U.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function N2(){return U.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ba(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Kn(o,!0),o}function iu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ib(t,e,n,r,i){const o=gb(e,Oa),s=Ut(),a=2&r;try{Oi(-1),a&&e.length>ee&&vb(t,e,ee,!1),Wn(a?2:0,i);const c=a?o:null,l=Op(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Vp(c,l)}}finally{a&&null===e[Oa]&&mb(e,Oa),Oi(s),Wn(a?3:1,i)}}function nm(t,e,n){if(Np(e)){const r=vn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{vn(r)}}}function rm(t,e,n){dA()&&(function $j(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;xi(n)&&function Qj(t,e,n){const r=Zt(e,t),i=Eb(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=pd(t,fd(t,i,null,s,r,e,null,t[xo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||kl(n,e),bt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=Vi(e,t,a,n);bt(c,e),null!==s&&Yj(0,a-i,c,u,0,s),xn(u)&&(un(n.index,e)[qe]=Vi(e,t,a,n))}}(t,e,n,Zt(n,e)),64==(64&n.flags)&&Cb(t,e,n))}function im(t,e,n=Zt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Eb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=om(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function om(t,e,n,r,i,o,s,a,u,c,l){const d=ee+r,h=d+i,f=function Pj(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Q);return n}(d,h),p="function"==typeof c?c():c;return f[x]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let wb=t=>null;function Tb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?Db(n,e,i,o):r.hasOwnProperty(i)&&Db(n,e,r[i],o)}return n}function Db(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function sm(t,e,n,r){if(dA()){const i=null===r?null:{"":-1},o=function Hj(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(RD(e,s.selectors,!1))if(r||(r=[]),xn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),am(t,e,a.length)}else r.unshift(s),am(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Ab(t,e,n,s,i,a),i&&function zj(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new S(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Pa(n.mergedAttrs,n.attrs)}function Ab(t,e,n,r,i,o){for(let c=0;c<r.length;c++)tg(kl(n,e),t,r[c].type);!function Wj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=iu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Pa(n.mergedAttrs,l.hostAttrs),Kj(t,n,e,u,l),qj(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function Vj(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=Tb(d.inputs,l,u,h?h.inputs:null),c=Tb(d.outputs,l,c,p);const g=null===u||null===s||PD(e)?null:Jj(u,l,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function Cb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function k2(){return U.lFrame.currentDirectiveIndex}();try{Oi(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];zp(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Gj(u,c)}}finally{Oi(-1),zp(s)}}function Gj(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function am(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xn(e)&&(n[""]=t)}}function Kj(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ki(i.type)),s=new Ua(o,xn(i),b);t.blueprint[r]=s,n[r]=s,function Uj(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function jj(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,iu(t,n,i.hostVars,Q),i)}function Yj(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)bb(r,n,s[a++],s[a++],s[a++])}function bb(t,e,n,r,i){const o=vn(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{vn(o)}}function Jj(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Sb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Pb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Wp(n[r]),s.contentQueries(2,e[o],o)}}}function pd(t,e){return t[Na]?t[OD][Nn]=e:t[Na]=e,t[OD]=e,e}function cm(t,e,n){Wp(0);const r=vn(null);try{e(t,n)}finally{vn(r)}}function xb(t,e){const n=t[Qr],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function lm(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];bb(t.data[s],e[s],r,a,i)}}function Zj(t,e){const n=un(e,t),r=n[x];!function Xj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[$e];null!==i&&null===n[_r]&&(n[_r]=Hg(i,n[Qr])),dm(r,n,n[qe])}function dm(t,e,n){Kp(e);try{const r=t.viewQuery;null!==r&&cm(1,r,n);const i=t.template;null!==i&&Ib(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pb(t,e),t.staticViewQueries&&cm(2,t.viewQuery,n);const o=t.components;null!==o&&function e$(t,e){for(let n=0;n<e.length;n++)Zj(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Qp()}}let kb=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function l2(t,e,n){const r=Object.create(d2);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>HD(r),run:()=>{if(r.dirty=!1,r.hasRun&&!zD(r))return;r.hasRun=!0;const s=Op(r);try{r.cleanupFn(),r.cleanupFn=XD,r.fn(i)}finally{Vp(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})();function gd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=mp(i,a):2==o&&(r=mp(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ou(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Ae(o)),Lt(o)&&Ob(o,r);const s=n.type;if(8&s)ou(t,e,n.child,r);else if(32&s){const a=gg(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=mC(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ka(e[We]);ou(u[x],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ob(t,e){for(let n=mt;n<t.length;n++){const r=t[n],i=r[x].firstChild;null!==i&&ou(r[x],r,i,e)}t[qn]!==t[$e]&&e.push(t[qn])}function md(t,e,n,r=!0){const i=e[xo],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Vb(t,e,t.template,n)}catch(u){throw r&&xb(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Vb(t,e,n,r){const i=e[Y];if(256!=(256&i)){e[xo].effectManager?.flush(),Kp(e);try{sA(e),function pA(t){return U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Ib(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&Ml(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Nl(e,c,0,null),Yp(e,0)}if(function r$(t){for(let e=iC(t);null!==e;e=oC(e)){if(!e[FD])continue;const n=e[Vo];for(let r=0;r<n.length;r++){E2(n[r])}}}(e),Fb(e,2),null!==t.contentQueries&&Pb(t,e),s){const c=t.contentCheckHooks;null!==c&&Ml(e,c)}else{const c=t.contentHooks;null!==c&&Nl(e,c,1),Yp(e,1)}!function Sj(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=gb(e,Va);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Oi(~o);else{const s=o,a=n[++i],u=n[++i];x2(a,s),r.dirty=!1;const c=Op(r);try{u(2,e[s])}finally{Vp(r,c)}}}}finally{null===e[Va]&&mb(e,Va),Oi(-1)}}(t,e);const a=t.components;null!==a&&Bb(e,a,0);const u=t.viewQuery;if(null!==u&&cm(2,u,r),s){const c=t.viewCheckHooks;null!==c&&Ml(e,c)}else{const c=t.viewHooks;null!==c&&Nl(e,c,2),Yp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Y]&=-73,aA(e)}finally{Qp()}}}function Fb(t,e){for(let n=iC(t);null!==n;n=oC(n))for(let r=mt;r<n.length;r++)Lb(n[r],e)}function i$(t,e,n){Lb(un(e,t),n)}function Lb(t,e){if(!function v2(t){return 128==(128&t[Y])}(t))return;const n=t[x],r=t[Y];if(80&r&&0===e||1024&r||2===e)Vb(n,t,n.template,t[qe]);else if(t[Ma]>0){Fb(t,1);const i=n.components;null!==i&&Bb(t,i,1)}}function Bb(t,e,n){for(let r=0;r<e.length;r++)i$(t,e[r],n)}class su{get rootNodes(){const e=this._lView,n=e[x];return ou(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qe]}set context(e){this._lView[qe]=e}get destroyed(){return 256==(256&this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ve];if(Lt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Wl(e,r),Fl(n,r))}this._attachedToViewContainer=!1}_g(this._lView[x],this._lView)}onDestroy(e){!function cA(t,e){if(256==(256&t[Y]))throw new S(911,!1);null===t[Yr]&&(t[Yr]=[]),t[Yr].push(e)}(this._lView,e)}markForCheck(){ru(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){this._lView[Y]|=128}detectChanges(){md(this._lView[x],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WB(t,e){Ya(t,e,e[q],2,null,null)}(this._lView[x],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class o$ extends su{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;md(e[x],e,e[qe],!1)}checkNoChanges(){}get context(){return null}}class Ub extends ld{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=se(e);return new au(n,this.ngModule)}}function jb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class a${constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Il(r);const i=this.injector.get(e,Wg,r);return i!==Wg||n===Wg?i:this.parentInjector.get(e,n,r)}}class au extends qC{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=jb(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return jb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function zL(t){return t.map(HL).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof wr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new a$(e,o):e,a=s.get(KC,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:s.get(rj,null),effectManager:s.get(kb,null),afterRenderEventManager:s.get(em,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function Rj(t,e,n,r){const o=r.get(db,!1)||n===Pn.ShadowDom,s=t.selectRootElement(e,o);return function Mj(t){wb(t)}(s),s}(h,r,this.componentDef.encapsulation,s):ql(h,f,function s$(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=Hg(p,s,!0));const w=om(0,null,null,1,0,null,null,null,null,null,null),C=fd(null,w,null,v,null,null,d,h,s,null,_);let O,j;Kp(C);try{const le=this.componentDef;let et,Hr=null;le.findHostDirectiveDefs?(et=[],Hr=new Map,le.findHostDirectiveDefs(le,et,Hr),et.push(le)):et=[le];const Ta=function c$(t,e){const n=t[x],r=ee;return t[r]=e,us(n,r,2,"#host",null)}(C,p),nee=function l$(t,e,n,r,i,o,s){const a=i[x];!function d$(t,e,n,r){for(const i of t)e.mergedAttrs=Pa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(gd(e,e.mergedAttrs,!0),null!==n&&IC(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=Hg(e,i[Qr]));const c=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=fd(i,Eb(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&am(a,t,r.length-1),pd(i,d),i[t.index]=d}(Ta,p,le,et,C,d,h);j=oA(w,ee),p&&function f$(t,e,n,r){if(r)Rp(t,n,["ng-version",QC.full]);else{const{attrs:i,classes:o}=function qL(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Rn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Rp(t,n,i),o&&o.length>0&&vC(t,n,o.join(" "))}}(h,le,p,r),void 0!==n&&function p$(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(j,this.ngContentSelectors,n),O=function h$(t,e,n,r,i,o){const s=yt(),a=i[x],u=Zt(s,i);Ab(a,i,s,n,null,r);for(let l=0;l<n.length;l++)bt(Vi(i,a,s.directiveStart+l,s),i);Cb(a,i,s),u&&bt(u,i);const c=Vi(i,a,s.directiveStart+s.componentOffset,s);if(t[qe]=i[qe]=c,null!==o)for(const l of o)l(c,e);return nm(a,s,t),c}(nee,le,et,Hr,C,[g$]),dm(w,C,null)}finally{Qp()}return new u$(this.componentType,O,os(j,C),C,j)}}class u$ extends JU{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new o$(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;lm(o[x],o,i,e,n),this.previousInputValues.set(e,n),ru(un(this._tNode.index,o))}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function g$(){const t=yt();Rl(T()[x],t)}function me(t){let e=function $b(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(xn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=_d(t.inputs),s.inputTransforms=_d(t.inputTransforms),s.declaredInputs=_d(t.declaredInputs),s.outputs=_d(t.outputs);const a=i.hostBindings;a&&v$(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&_$(t,u),c&&y$(t,c),pl(t.inputs,i.inputs),pl(t.declaredInputs,i.declaredInputs),pl(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),pl(s.inputTransforms,i.inputTransforms)),xn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function m$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pa(i.hostAttrs,n=Pa(n,i.hostAttrs))}}(r)}function _d(t){return t===Hn?{}:t===ce?[]:t}function _$(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function y$(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function v$(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function yd(t){return!!function hm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Pt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ym(t,e,n,r,i,o,s,a){const u=T(),c=ae(),l=t+ee,d=c.firstCreatePass?function z$(t,e,n,r,i,o,s,a,u){const c=e.consts,l=us(e,t,4,s||null,Zr(c,a));sm(e,n,l,Zr(c,u)),Rl(e,l);const d=l.tView=om(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Kn(d,!1);const h=iS(c,u,d,t);Pl()&&Ql(c,u,h,d),bt(h,u),pd(u,u[l]=Sb(h,u,h,d)),Al(d)&&rm(c,u,d),null!=s&&im(u,d,a)}let iS=function oS(t,e,n,r){return Xr(!0),e[q].createComment("")};function ys(t,e,n){const r=T();return Pt(r,Uo(),e)&&function dn(t,e,n,r,i,o,s,a){const u=Zt(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(lm(t,n,l,r,i),xi(e)&&function Lj(t,e){const n=un(e,t);16&n[Y]||(n[Y]|=64)}(n,e.index)):3&e.type&&(r=function Fj(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(ae(),function Ue(){const t=U.lFrame;return oA(t.tView,t.selectedIndex)}(),r,t,e,r[q],n,!1),ys}function vm(t,e,n,r,i){const s=i?"class":"style";lm(t,n,e.inputs[s],s,r)}function X(t,e,n,r){const i=T(),o=ae(),s=ee+t,a=i[q],u=o.firstCreatePass?function Y$(t,e,n,r,i,o){const s=e.consts,u=us(e,t,2,r,Zr(s,i));return sm(e,n,u,Zr(s,o)),null!==u.attrs&&gd(u,u.attrs,!1),null!==u.mergedAttrs&&gd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=sS(o,i,u,a,e,t);i[s]=c;const l=Al(u);return Kn(u,!0),IC(a,c,u),32!=(32&u.flags)&&Pl()&&Ql(o,i,c,u),0===function T2(){return U.lFrame.elementDepthCount}()&&bt(c,i),function D2(){U.lFrame.elementDepthCount++}(),l&&(rm(o,i,u),nm(o,u,i)),null!==r&&im(i,u),X}function G(){let t=yt();Gp()?function Hp(){U.lFrame.isParent=!1}():(t=t.parent,Kn(t,!1));const e=t;(function C2(t){return U.skipHydrationRootTNode===t})(e)&&function R2(){U.skipHydrationRootTNode=null}(),function A2(){U.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(Rl(n,t),Np(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function z2(t){return 0!=(8&t.flags)}(e)&&vm(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function q2(t){return 0!=(16&t.flags)}(e)&&vm(n,e,T(),e.stylesWithoutHost,!1),G}function Rt(t,e,n,r){return X(t,e,n,r),G(),Rt}let sS=(t,e,n,r,i,o)=>(Xr(!0),ql(r,i,function wA(){return U.lFrame.currentNamespace}()));function wm(){return T()}function Td(t){return!!t&&"function"==typeof t.then}function cS(t){return!!t&&"function"==typeof t.subscribe}function $t(t,e,n,r){const i=T(),o=ae(),s=yt();return function dS(t,e,n,r,i,o,s){const a=Al(r),c=t.firstCreatePass&&function Mb(t){return t.cleanup||(t.cleanup=[])}(t),l=e[qe],d=function Rb(t){return t[No]||(t[No]=[])}(e);let h=!0;if(3&r.type||s){const g=Zt(r,e),m=s?s(g):g,v=d.length,_=s?C=>s(Ae(C[r.index])):r.index;let w=null;if(!s&&a&&(w=function nG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[No],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,h=!1;else{o=fS(r,e,l,o,!1);const C=n.listen(m,i,o);d.push(o,C),c&&c.push(i,_,v,v+1)}}else o=fS(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const O=e[p[m]][p[m+1]].subscribe(o),j=d.length;d.push(o,O),c&&c.push(i,r.index,j,-(j+1))}}}(o,i,i[q],s,t,e,r),$t}function hS(t,e,n,r){try{return Wn(6,e,n),!1!==n(r)}catch(i){return xb(t,i),!1}finally{Wn(7,e,n)}}function fS(t,e,n,r,i){return function o(s){if(s===Function)return r;ru(t.componentOffset>-1?un(t.index,e):e);let u=hS(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=hS(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function Tm(t=1){return function V2(t){return(U.lFrame.contextLView=function F2(t,e){for(;t>0;)e=e[ko],t--;return e}(t,U.lFrame.contextLView))[qe]}(t)}function Dd(t,e){return t<<17|e<<2}function ni(t){return t>>17&32767}function Am(t){return 2|t}function $i(t){return(131068&t)>>2}function Cm(t,e){return-131069&t|e<<2}function bm(t){return 1|t}function TS(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ni(o):$i(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];dG(t[a],e)&&(u=!0,t[a+1]=r?bm(l):Am(l)),a=r?ni(l):$i(l)}u&&(t[n+1]=r?Am(o):bm(o))}function dG(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ko(t,e)>=0}function Ad(t,e){return function Fn(t,e,n,r){const i=T(),o=ae(),s=function Ir(t){const e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function NS(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ut()],s=function MS(t,e){return e>=t.expandoStartIndex}(t,n);(function VS(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function IG(t,e,n,r){const i=function qp(t){const e=U.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=hu(n=Sm(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Sm(i,t,e,n,r),null===o){let u=function EG(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==$i(r))return t[ni(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Sm(null,t,e,u[1],r),u=hu(u,e.attrs,r),function wG(t,e,n,r){t[ni(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function TG(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=hu(r,t[o].hostAttrs,n);return hu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function cG(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ni(s),u=$i(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ko(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ni(t[a+1]);t[r+1]=Dd(h,a),0!==h&&(t[h+1]=Cm(t[h+1],r)),t[a+1]=function aG(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Dd(a,0),0!==a&&(t[a+1]=Cm(t[a+1],r)),a=r;else t[r+1]=Dd(u,0),0===a?a=r:t[u+1]=Cm(t[u+1],r),u=r;c&&(t[r+1]=Am(t[r+1])),TS(t,l,r,!0),TS(t,l,r,!1),function lG(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ko(o,e)>=0&&(n[r+1]=bm(n[r+1]))}(e,l,t,r,o),s=Dd(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Q&&Pt(i,s,e)&&function kS(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function uG(t){return 1==(1&t)}(c)?OS(u,e,n,i,$i(c),s):void 0;Cd(l)||(Cd(o)||function sG(t){return 2==(2&t)}(c)&&(o=OS(u,null,n,i,a,s)),function rU(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ei.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ei.Important),t.setStyle(n,r,i,o))}}(r,s,Sl(Ut(),n),i,o))}(o,o.data[Ut()],i,i[q],t,i[s+1]=function bG(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=it(function ti(t){return t instanceof DC?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}(t,e,null,!0),Ad}function Sm(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=hu(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function OS(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Q&&(h=d?ce:void 0);let f=d?og(h,r):l===r?h:void 0;if(c&&!Cd(f)&&(f=og(u,r)),Cd(f)&&(a=f,s))return a;const p=t[i+1];i=s?ni(p):$i(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=og(u,r))}return a}function Cd(t){return void 0!==t}function _e(t,e=""){const n=T(),r=ae(),i=t+ee,o=r.firstCreatePass?us(r,i,1,e,null):r.data[i],s=FS(r,n,o,e,t);n[i]=s,Pl()&&Ql(r,n,s,o),Kn(o,!1)}let FS=(t,e,n,r,i)=>(Xr(!0),function zl(t,e){return t.createText(e)}(e[q],r));function Is(t){return Gi("",t,""),Is}function Gi(t,e,n){const r=T(),i=function ls(t,e,n,r){return Pt(t,Uo(),n)?e+z(n)+r:Q}(r,t,e,n);return i!==Q&&function Ar(t,e,n){const r=Sl(e,t);!function aC(t,e,n){t.setValue(e,n)}(t[q],r,n)}(r,Ut(),i),Gi}const ws="en-US";let s0=ws;function Mm(t,e,n,r,i){if(t=$(t),Array.isArray(t))for(let o=0;o<t.length;o++)Mm(t[o],e,n,r,i);else{const o=ae(),s=T(),a=yt();let u=Li(t)?t:$(t.provide);const c=UC(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Li(t)||!t.multi){const f=new Ua(c,i,b),p=xm(u,e,i?l:l+h,d);-1===p?(tg(kl(a,s),o,u),Nm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=xm(u,e,l+h,d),p=xm(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){tg(kl(a,s),o,u);const v=function KH(t,e,n,r,i){const o=new Ua(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,M0(o,i,r&&!n),o}(i?WH:qH,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),Nm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else Nm(o,t,f>-1?f:p,M0(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Nm(t,e,n,r){const i=Li(e),o=function kU(t){return!!t.useClass}(e);if(i||o){const u=(o?$(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function M0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qH(t,e,n,r){return km(this.multi,[])}function WH(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Vi(n,n[x],this.providerFactory.index,r);o=a.slice(0,s),km(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],km(i,o);return o}function km(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Fe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function zH(t,e,n){const r=ae();if(r.firstCreatePass){const i=xn(t);Mm(n,r.data,r.blueprint,i,!0),Mm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class zi{}class QH{}class Om extends zi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ub(this);const i=function an(t,e){const n=t[wD]||null;if(!n&&!0===e)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function Dr(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=eb(e,n,[{provide:zi,useValue:this},{provide:ld,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vm extends QH{constructor(e){super(),this.moduleType=e}create(e){return new Om(this.moduleType,e,[])}}function S4(t,e,n,r=!0){const i=e[x];if(function QB(t,e,n,r){const i=mt+r,o=n.length;r>0&&(n[i-1][Nn]=e),r<o-mt?(e[Nn]=n[i],FA(n,mt+r,e)):(n.push(e),e[Nn]=null),e[Ve]=n;const s=e[xa];null!==s&&n!==s&&function YB(t,e){const n=t[Vo];e[We]!==e[Ve][Ve][We]&&(t[FD]=!0),null===n?t[Vo]=[e]:n.push(e)}(s,e);const a=e[zn];null!==a&&a.insertView(t),e[Y]|=128}(i,e,t,n),r){const o=Eg(n,t),s=e[q],a=Kl(s,t[qn]);null!==a&&function qB(t,e,n,r,i,o){r[$e]=i,r[At]=e,Ya(t,r,n,1,i,o)}(i,t[At],s,e,a,o)}}Symbol;let br=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=M4}return t})();const P4=br,R4=class extends P4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function b4(t,e,n,r){const i=e.tView,a=fd(t,i,n,4096&t[Y]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[xa]=t[e.index];const c=t[zn];return null!==c&&(a[zn]=c.createEmbeddedView(i)),dm(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new su(i)}};function M4(){return function Md(t,e){return 4&t.type?new R4(e,t,os(t,e)):null}(yt(),T())}let er=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=F4}return t})();function F4(){return function Y0(t,e){let n;const r=e[t.index];return Lt(r)?n=r:(n=Sb(r,e,null,t),e[t.index]=n,pd(e,n)),J0(n,e,t,r),new K0(n,t,e)}(yt(),T())}const L4=er,K0=class extends L4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ol(this._hostTNode,this._hostLView);if(Zp(e)){const n=$a(e,this._hostLView),r=ja(e);return new jt(n[x].data[r+8],n)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Q0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Ha(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const u=s?e:new au(se(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const m=(s?c:this.parentInjector).get(wr,null);m&&(o=m)}se(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function I2(t){return Lt(t[Ve])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ve],l=new K0(c,c[At],c[Ve]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return S4(a,i,s,!r),e.attachToViewContainerRef(),FA(Bm(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Q0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Wl(this._lContainer,n);r&&(Fl(Bm(this._lContainer),n),_g(r[x],r))}detach(e){const n=this._adjustIndex(e,-1),r=Wl(this._lContainer,n);return r&&null!=Fl(Bm(this._lContainer),n)?new su(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Q0(t){return t[8]}function Bm(t){return t[8]||(t[8]=[])}let J0=function Z0(t,e,n,r){if(t[qn])return;let i;i=8&n.type?Ae(r):function B4(t,e){const n=t[q],r=n.createComment(""),i=Zt(e,t);return Fi(n,Kl(n,i),r,function eU(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[qn]=i};const vz=new L("Application Initializer");let Qm=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ee(vz,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Td(o))n.push(o);else if(cS(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Sr=new L("LocaleId",{providedIn:"root",factory:()=>Ee(Sr,ie.Optional|ie.SkipSelf)||function Ez(){return typeof $localize<"u"&&$localize.locale||ws}()});let Dz=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pL(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const DP=new L(""),Od=new L("");let e_,Zm=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e_||(function Wz(t){e_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Re),Z(Xm),Z(Od))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),Xm=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return e_?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ri=null;const AP=new L("AllowMultipleToken"),t_=new L("PlatformDestroyListeners"),CP=new L("appBootstrapListener");function PP(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(o=[])=>{let s=n_();if(!s||s.injector.get(AP,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Yz(t){if(ri&&!ri.get(AP,!1))throw new S(400,!1);(function bP(){!function o2(t){QD=t}(()=>{throw new S(600,!1)})})(),ri=t;const e=t.get(MP);(function SP(t){t.get(jC,null)?.forEach(n=>n())})(t)}(function RP(t=[],e){return ln.create({name:e,providers:[{provide:xg,useValue:"platform"},{provide:t_,useValue:new Set([()=>ri=null])},...t]})}(a,r))}return function Zz(t){const e=n_();if(!e)throw new S(401,!1);return e}()}}function n_(){return ri?.get(MP)??null}let MP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Xz(t="zone.js",e){return"noop"===t?new gj:"zone.js"===t?new Re(e):t}(r?.ngZone,function NP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function JH(t,e,n){return new Om(t,e,n)}(n.moduleType,this.injector,function FP(t){return[{provide:Re,useFactory:t},{provide:ed,multi:!0,useFactory:()=>{const e=Ee(t3,{optional:!0});return()=>e.initialize()}},{provide:VP,useFactory:e3},{provide:ob,useFactory:sb}]}(()=>i)),s=o.injector.get(Tr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Vd(this._modules,o),a.unsubscribe()})}),function xP(t,e,n){try{const r=n();return Td(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Qm);return a.runInitializers(),a.donePromise.then(()=>(function a0(t){_n(t,"Expected localeId to be defined"),"string"==typeof t&&(s0=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Sr,ws)||ws),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=kP({},r);return function Kz(t,e,n){const r=new Vm(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(wu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(t_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(Z(ln))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function kP(t,e){return Array.isArray(e)?e.reduce(kP,t):{...t,...e}}let wu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ee(VP),this.zoneIsStable=Ee(ob),this.componentTypes=[],this.components=[],this.isStable=Ee(Dz).hasPendingTasks.pipe(function mL(t,e){return zr((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(pr(r,u=>{i?.unsubscribe();let c=0;const l=o++;Gn(t(u,l)).subscribe(i=pr(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}(n=>n?function gL(...t){return pp(t,dD(t))}(!1):this.zoneIsStable),function _L(t,e=ll){return t=t??yL,zr((n,r)=>{let i,o=!0;n.subscribe(pr(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),fD()),this._injector=Ee(wr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof qC;if(!this._injector.get(Qm).done)throw!i&&function Ra(t){const e=se(t)||gt(t)||Ft(t);return null!==e&&e.standalone}(n),new S(405,!1);let s;s=i?n:this._injector.get(ld).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Qz(t){return t.isBoundToModule}(s)?void 0:this._injector.get(zi),c=s.create(ln.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(DP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Vd(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Vd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(CP,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Vd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const VP=new L("",{providedIn:"root",factory:()=>Ee(Tr).handleError.bind(void 0)});function e3(){const t=Ee(Re),e=Ee(Tr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let t3=(()=>{class t{constructor(){this.zone=Ee(Re),this.applicationRef=Ee(wu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class $P{constructor(){}supports(e){return yd(e)}create(e){return new l3(e)}}const c3=(t,e)=>e;class l3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||c3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<HP(r,i,o)?n:r,a=HP(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!yd(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function b$(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new d3(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new GP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class d3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class h3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class GP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new h3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function qP(){return new Bd([new $P])}let Bd=(()=>{class t{static#e=this.\u0275prov=de({token:t,providedIn:"root",factory:qP});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qP()),deps:[[t,new ag,new kn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t})();const _3=PP(null,"core",[]);let y3=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(Z(wu))};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=yn({})}return t})(),c_=null;function Du(){return c_}class M3{}const Wi=new L("DocumentToken");class Iq{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let I_=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Iq(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),hR(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{hR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(er),b(br),b(Bd))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function hR(t,e){t.context.$implicit=e.item}let Wq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=yn({})}return t})();function _R(t){return"server"===t}class E9 extends M3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class b_ extends E9{static makeCurrent(){!function R3(t){c_||(c_=t)}(new b_)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function w9(){return Su=Su||document.querySelector("base"),Su?Su.getAttribute("href"):null}();return null==n?null:function T9(t){Xd=Xd||document.createElement("a"),Xd.setAttribute("href",t);const e=Xd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Su=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _q(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Xd,Su=null,A9=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac})}return t})();const S_=new L("EventManagerPlugins");let wR=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(Z(S_),Z(Re))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac})}return t})();class TR{constructor(e){this._doc=e}}const P_="ng-app-id";let DR=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_R(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${P_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(P_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(P_,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Wi),Z(id),Z($C,8),Z(Bi))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac})}return t})();const R_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M_=/%COMP%/g,P9=new L("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function CR(t,e){return e.map(n=>n.replace(M_,t))}let bR=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=_R(a),this.defaultRenderer=new N_(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pn.ShadowDom&&(r={...r,encapsulation:Pn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof PR?i.applyToHost(n):i instanceof x_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Pn.Emulated:o=new PR(u,c,r,this.appId,l,s,a,d);break;case Pn.ShadowDom:return new x9(u,c,n,r,s,a,this.nonce,d);default:o=new x_(u,c,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(Z(wR),Z(DR),Z(id),Z(P9),Z(Wi),Z(Bi),Z(Re),Z($C))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac})}return t})();class N_{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(R_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(SR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(SR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=R_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=R_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ei.DashCase|ei.Important)?e.style.setProperty(n,r,i&ei.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ei.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Du().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function SR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class x9 extends N_{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=CR(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class x_ extends N_{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?CR(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class PR extends x_{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function R9(t){return"_ngcontent-%COMP%".replace(M_,t)}(c),this.hostAttr=function M9(t){return"_nghost-%COMP%".replace(M_,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let k9=(()=>{class t extends TR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Wi))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac})}return t})();const RR=["alt","control","meta","shift"],O9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let F9=(()=>{class t extends TR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Du().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),RR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=O9[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),RR.forEach(s=>{s!==i&&(0,V9[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Wi))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac})}return t})();const NR=[{provide:Bi,useValue:"browser"},{provide:jC,useValue:function L9(){b_.makeCurrent()},multi:!0},{provide:Wi,useFactory:function U9(){return function uU(t){Dg=t}(document),document},deps:[]}],j9=PP(_3,"browser",NR),$9=new L(""),xR=[{provide:Od,useClass:class D9{addToWindow(e){De.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new S(5103,!1);return o},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(r=>{const i=De.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Du().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:DP,useClass:Zm,deps:[Re,Xm,Od]},{provide:Zm,useClass:Zm,deps:[Re,Xm,Od]}],kR=[{provide:xg,useValue:"root"},{provide:Tr,useFactory:function B9(){return new Tr},deps:[]},{provide:S_,useClass:k9,multi:!0,deps:[Wi,Re,Bi]},{provide:S_,useClass:F9,multi:!0,deps:[Wi]},bR,DR,wR,{provide:KC,useExisting:bR},{provide:class Zq{},useClass:A9,deps:[]},[]];let G9=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:id,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(Z($9,12))};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=yn({providers:[...kR,...xR],imports:[Wq,y3]})}return t})();typeof window<"u"&&window;const Y9_firebase={apiKey:"AIzaSyBMhFgKP5Ku2L-kgNS90dmhRRg-2Sgq07o",authDomain:"turismoa-29010.firebaseapp.com",projectId:"turismoa-29010",storageBucket:"turismoa-29010.appspot.com",messagingSenderId:"34046931683",appId:"1:34046931683:web:fa50cf49e179457c410bd6"};function LR(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){LR(o,r,i,s,a,"next",u)}function a(u){LR(o,r,i,s,a,"throw",u)}s(void 0)})}}const BR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},UR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new e6;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class e6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eh=function(t){return function(t){const e=BR(t);return UR.encodeByteArray(e,!0)}(t).replace(/\./g,"")},th=function(t){try{return UR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},nh=()=>{try{return function r6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&th(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},$R=()=>{var t;return null===(t=nh())||void 0===t?void 0:t.config};class GR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function HR(){try{return"object"==typeof indexedDB}catch{return!1}}class oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function y6(t,e){return t.replace(v6,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new oi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const v6=/\{\$([^}]+)}/g;function V_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(qR(o)&&qR(s)){if(!V_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qR(t){return null!==t&&"object"==typeof t}function WR(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class E6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function w6(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=F_),void 0===i.error&&(i.error=F_),void 0===i.complete&&(i.complete=F_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F_(){}function tr(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qi="[DEFAULT]";class S6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function R6(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Qi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class M6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const B_=[];var oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(oe||{});const KR={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},N6=oe.INFO,x6={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},k6=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=x6[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class U_{constructor(e){this.name=e,this._logLevel=N6,this._logHandler=k6,this._userLogHandler=null,B_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const O6=(t,e)=>e.some(n=>t instanceof n);let QR,YR;const JR=new WeakMap,j_=new WeakMap,ZR=new WeakMap,$_=new WeakMap,G_=new WeakMap;let H_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return j_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ZR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $6(t){return"function"==typeof t?function j6(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function F6(){return YR||(YR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(z_(this),e),si(JR.get(this))}:function(...e){return si(t.apply(z_(this),e))}:function(e,...n){const r=t.call(z_(this),e,...n);return ZR.set(r,e.sort?e.sort():[e]),si(r)}}(t):(t instanceof IDBTransaction&&function B6(t){if(j_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});j_.set(t,e)}(t),O6(t,function V6(){return QR||(QR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,H_):t)}function si(t){if(t instanceof IDBRequest)return function L6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(si(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&JR.set(n,t)}).catch(()=>{}),G_.set(e,t),e}(t);if($_.has(t))return $_.get(t);const e=$6(t);return e!==t&&($_.set(t,e),G_.set(e,t)),e}const z_=t=>G_.get(t),H6=["get","getKey","getAll","getAllKeys","count"],z6=["put","add","delete","clear"],q_=new Map;function XR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(q_.get(e))return q_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=z6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!H6.includes(n))return;const o=function(){var s=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return q_.set(e,o),o}!function U6(t){H_=t(H_)}(t=>({...t,get:(e,n,r)=>XR(e,n)||t.get(e,n,r),has:(e,n)=>!!XR(e,n)||t.has(e,n)}));class q6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function W6(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const W_="@firebase/app",Yi=new U_("@firebase/app"),ih="[DEFAULT]",v5={[W_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ji=new Map,oh=new Map;function I5(t,e){try{t.container.addComponent(e)}catch(n){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cs(t){const e=t.name;if(oh.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,t);for(const n of Ji.values())I5(n,t);return!0}const Mr=new Pu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class w5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const sh="10.8.0";function nM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ih,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=$R()),!n)throw Mr.create("no-options");const o=Ji.get(i);if(o){if(V_(n,o.options)&&V_(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}const s=new M6(i);for(const u of oh.values())s.addComponent(u);const a=new w5(n,r,s);return Ji.set(i,a),a}function rM(t=ih){const e=Ji.get(t);if(!e&&t===ih&&$R())return nM();if(!e)throw Mr.create("no-app",{appName:t});return e}function iM(){return Array.from(Ji.values())}function Dn(t,e,n){var r;let i=null!==(r=v5[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Yi.warn(a.join(" "))}Cs(new Ki(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const T5="firebase-heartbeat-database",D5=1,Ru="firebase-heartbeat-store";let Q_=null;function oM(){return Q_||(Q_=function G6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=si(s);return r&&s.addEventListener("upgradeneeded",u=>{r(si(s.result),u.oldVersion,u.newVersion,si(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(T5,D5,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Ru)}catch(n){console.warn(n)}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Q_}function Y_(){return(Y_=E(function*(t){try{const n=(yield oM()).transaction(Ru),r=yield n.objectStore(Ru).get(aM(t));return yield n.done,r}catch(e){if(e instanceof oi)Yi.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(n.message)}}})).apply(this,arguments)}function sM(t,e){return J_.apply(this,arguments)}function J_(){return(J_=E(function*(t,e){try{const r=(yield oM()).transaction(Ru,"readwrite");yield r.objectStore(Ru).put(e,aM(t)),yield r.done}catch(n){if(n instanceof oi)Yi.warn(n.message);else{const r=Mr.create("idb-set",{originalErrorMessage:n?.message});Yi.warn(r.message)}}})).apply(this,arguments)}function aM(t){return`${t.name}!${t.options.appId}`}class S5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uM();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=uM(),{heartbeatsToSend:i,unsentEntries:o}=function P5(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=eh(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function uM(){return(new Date).toISOString().substring(0,10)}class R5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!HR()&&function m6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function A5(t){return Y_.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return sM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return sM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function cM(t){return eh(JSON.stringify({version:2,heartbeats:t})).length}!function M5(t){Cs(new Ki("platform-logger",e=>new q6(e),"PRIVATE")),Cs(new Ki("heartbeat",e=>new S5(e),"PRIVATE")),Dn(W_,"0.9.27",t),Dn(W_,"0.9.27","esm2017"),Dn("fire-js","")}(""),Dn("firebase","10.8.0","app");class k5 extends Sn{constructor(e,n){super()}schedule(e,n=0){return this}}const ah={setInterval(t,e,...n){const{delegate:r}=ah;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ah;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class lM extends k5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ah.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ah.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Po(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const dM={now:()=>(dM.delegate||Date).now(),delegate:void 0};class Mu{constructor(e,n=Mu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Mu.now=dM.now;class hM extends Mu{constructor(e,n=Mu.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const F5=new class V5 extends hM{}(class O5 extends lM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),L5=new hM(lM),Z_=new nu("ANGULARFIRE2_VERSION");const X_=(t,e)=>{const n=e?[e]:iM(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class U5{constructor(){return X_(j5)}}const j5="app-check";function bs(){}class pM{zone;delegate;constructor(e,n=F5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class $5{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs)),n.pipe(function B5(t,e,n){const r=Oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?zr((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(pr(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ll}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gM=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pM(Zone.current)),this.insideAngular=n.run(()=>new pM(Zone.current,L5)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Z(Re))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ss(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Zi(t){return Ss().ngZone.run(()=>t())}function H5(t){return function z5(t){return function(n){return(n=n.lift(new $5(t.ngZone))).pipe(fl(t.outsideAngular),hl(t.insideAngular))}}(Ss())(t)}const q5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Zi(()=>t.apply(void 0,r))},ey=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Zi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs))),r[o]=q5(r[o],n));const i=function G5(t){return Ss().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ct){const o=Ss();return i.pipe(fl(o.outsideAngular),hl(o.insideAngular))}return Zi(()=>i)}return i instanceof ct?i.pipe(H5):i instanceof Promise?Zi(()=>new Promise((o,s)=>i.then(a=>Zi(()=>o(a)),a=>Zi(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Zi(()=>i)};class Nu{constructor(e){return e}}class mM{constructor(){return iM()}}const ty=new L("angularfire2._apps"),K5={provide:Nu,useFactory:function W5(t){return t&&1===t.length?t[0]:new Nu(rM())},deps:[[new kn,ty]]},Q5={provide:mM,deps:[[new kn,ty]]};function Y5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Nu(r)}}let J5=(()=>{class t{constructor(n){Dn("angularfire",Z_.full,"core"),Dn("angularfire",Z_.full,"app"),Dn("angular",QC.full,n.toString())}static \u0275fac=function(r){return new(r||t)(Z(Bi))};static \u0275mod=Mn({type:t});static \u0275inj=yn({providers:[K5,Q5]})}return t})();function Z5(t,...e){return{ngModule:J5,providers:[{provide:ty,useFactory:Y5(t),multi:!0,deps:[Re,ln,gM,...e]}]}}const X5=ey(nM,!0);const eW=function _M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yM=new Pu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),uh=new U_("@firebase/auth");function ch(t,...e){uh.logLevel<=oe.ERROR&&uh.error(`Auth (${sh}): ${t}`,...e)}function nn(t,...e){throw ny(t,...e)}function nr(t,...e){return ny(t,...e)}function ny(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yM.create(t,...e)}function P(t,e,...n){if(!t)throw ny(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function ai(t,e){t||rr(e)}function IM(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function nW(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ry(){return"http:"===IM()||"https:"===IM()}()||function f6(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=function d6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}()||function p6(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return nW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class EM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oW=new ku(3e4,6e4);function Me(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ne(t,e,n,r){return oy.apply(this,arguments)}function oy(){return(oy=E(function*(t,e,n,r,i={}){return wM(t,i,E(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=WR(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),EM.fetch()(TM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function wM(t,e,n){return sy.apply(this,arguments)}function sy(){return(sy=E(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iW),e);try{const i=new aW(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Ou(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Ou(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Ou(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Ou(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function vM(t,e,n){const r=Object.assign(Object.assign({},eW()),{[e]:n});return new Pu("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);nn(t,l)}}catch(i){if(i instanceof oi)throw i;nn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function TM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function iy(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class aW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),oW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}function ly(){return(ly=E(function*(t,e){return Ne(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function hy(){return(hy=E(function*(t,e){return Ne(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fy(){return(fy=E(function*(t,e=!1){const n=tr(t),r=yield n.getIdToken(e),i=lh(r);P(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Vu(py(i.auth_time)),issuedAtTime:Vu(py(i.iat)),expirationTime:Vu(py(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function py(t){return 1e3*Number(t)}function lh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=th(n);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xr(t,e){return gy.apply(this,arguments)}function gy(){return(gy=E(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof oi&&function pW({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class gW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield n.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class SM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fu(t){return my.apply(this,arguments)}function my(){return my=E(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield xr(t,function dW(t,e){return hy.apply(this,arguments)}(n,{idToken:r}));P(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function yW(t){return t.map(e=>{var{providerId:n}=e,r=lp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function _W(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new SM(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),my.apply(this,arguments)}function _y(){return(_y=E(function*(t){const e=tr(t);yield Fu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function yy(){return(yy=E(function*(t,e){const n=yield wM(t,{},E(function*(){const r=WR({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=TM(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",EM.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function vy(){return(vy=E(function*(t,e){return Ne(t,"POST","/v2/accounts:revokeToken",Me(t,e))})).apply(this,arguments)}class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function fW(t){const e=lh(t);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return E(function*(){return P(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return E(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function vW(t,e){return yy.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Lu;return r&&(P("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(P("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(P("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return rr("not implemented")}}function ui(t,e){P("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Xi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new SM(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return E(function*(){const r=yield xr(n,n.stsTokenManager.getToken(n.auth,e));return P(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function hW(t){return fy.apply(this,arguments)}(this,e)}reload(){return function mW(t){return _y.apply(this,arguments)}(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Fu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const n=yield e.getIdToken();return yield xr(e,function cW(t,e){return ly.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:C,isAnonymous:O,providerData:j,stsTokenManager:le}=n;P(w&&le,e,"internal-error");const et=Lu.fromJSON(this.name,le);P("string"==typeof w,e,"internal-error"),ui(d,e.name),ui(h,e.name),P("boolean"==typeof C,e,"internal-error"),P("boolean"==typeof O,e,"internal-error"),ui(f,e.name),ui(p,e.name),ui(g,e.name),ui(m,e.name),ui(v,e.name),ui(_,e.name);const Hr=new Xi({uid:w,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:et,createdAt:v,lastLoginAt:_});return j&&Array.isArray(j)&&(Hr.providerData=j.map(Ta=>Object.assign({},Ta))),m&&(Hr._redirectEventId=m),Hr}static _fromIdTokenResponse(e,n,r=!1){return E(function*(){const i=new Lu;i.updateFromServerResponse(n);const o=new Xi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fu(o),o})()}}const PM=new Map;function kr(t){ai(t instanceof Function,"Expected a class definition");let e=PM.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PM.set(t,e),e)}const RM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(n,r){var i=this;return E(function*(){i.storage[n]=r})()}_get(n){var r=this;return E(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return E(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function dh(t,e,n){return`firebase:${t}:${e}:${n}`}class Rs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=dh(this.userKey,i.apiKey,o),this.fullPersistenceKey=dh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Xi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return E(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(function*(){if(!n.length)return new Rs(kr(RM),e,r);const i=(yield Promise.all(n.map(function(){var c=E(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||kr(RM);const s=dh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=Xi._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=E(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Rs(o,e,r)):new Rs(o,e,r)})()}}function MM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function kM(t=vt()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function NM(t=vt()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function VM(t=vt()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function FM(t=vt()){return/webos/i.test(t)}(e))return"Webos";if(function Iy(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function xM(t=vt()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function OM(t=vt()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function LM(t,e=[]){let n;switch(t){case"Browser":n=MM(vt());break;case"Worker":n=`${MM(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sh}/${r}`}class TW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return E(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Ey(){return(Ey=E(function*(t,e={}){return Ne(t,"GET","/v2/passwordPolicy",Me(t,e))})).apply(this,arguments)}class CW{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class bW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BM(this),this.idTokenSubscription=new BM(this),this.beforeStateQueue=new TW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(E(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Rs.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return E(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return P(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return E(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return E(function*(){try{yield Fu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function rW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return E(function*(){const r=e?tr(e):null;return r&&P(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return E(function*(){if(!r._deleted)return e&&P(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(E(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(E(function*(){yield n.assertedPersistence.setPersistence(kr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return E(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return E(function*(){const n=yield function DW(t){return Ey.apply(this,arguments)}(e),r=new CW(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return E(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function IW(t,e){return vy.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return E(function*(){if(!n.redirectPersistenceManager){const r=e&&kr(e)||n._popupRedirectResolver;P(r,n,"argument-error"),n.redirectPersistenceManager=yield Rs.create(n,[kr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return E(function*(){var r,i;return n._isInitialized&&(yield n.queue(E(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return E(function*(){if(e===n.currentUser)return n.queue(E(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return E(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return E(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function tW(t,...e){uh.logLevel<=oe.WARN&&uh.warn(`Auth (${sh}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class BM{constructor(e){this.auth=e,this.observer=null,this.addObserver=function I6(t,e){const n=new E6(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bu={loadJS:()=>E(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function UM(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new ku(3e4,6e4),new ku(2e3,1e4),new ku(3e4,6e4),new ku(5e3,15e3),encodeURIComponent("fac");var _N="@firebase/auth";class R7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return E(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}nh(),function SW(t){Bu=t}({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=nr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function V7(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function N7(t){Cs(new Ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;P(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LM(t)},c=new bW(r,i,o,u);return function VW(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cs(new Ki("auth-internal",e=>{const n=function Qe(t){return tr(t)}(e.getProvider("auth").getImmediate());return new R7(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(_N,"1.6.0",function M7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Dn(_N,"1.6.0","esm2017")}("Browser");class EN{constructor(){return X_("auth")}}var N,U7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jn={},fI=fI||{},W=U7||self;function Dh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var pI="closure_uid_"+(1e9*Math.random()>>>0),$7=0;function G7(t,e,n){return t.call.apply(t.bind,arguments)}function H7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?G7:H7).apply(null,arguments)}function Ah(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function lt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ci(){this.s=this.s,this.o=this.o}ci.prototype.s=!1,ci.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function j7(t){Object.prototype.hasOwnProperty.call(t,pI)&&t[pI]||(t[pI]=++$7)}(this)},ci.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function TN(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Dh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var q7=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};W.addEventListener("test",n,e),W.removeEventListener("test",n,e)}catch{}return t}();function qu(t){return/^[\s\xa0]*$/.test(t)}function Ch(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function ir(t){return-1!=Ch().indexOf(t)}function mI(t){return mI[" "](t),t}mI[" "]=function(){};var yI,K7=ir("Opera"),Ms=ir("Trident")||ir("MSIE"),DN=ir("Edge"),_I=DN||Ms,AN=ir("Gecko")&&!(-1!=Ch().toLowerCase().indexOf("webkit")&&!ir("Edge"))&&!(ir("Trident")||ir("MSIE"))&&!ir("Edge"),Q7=-1!=Ch().toLowerCase().indexOf("webkit")&&!ir("Edge");function CN(){var t=W.document;return t?t.documentMode:void 0}e:{var vI="",II=function(){var t=Ch();return AN?/rv:([^\);]+)(\)|;)/.exec(t):DN?/Edge\/([\d\.]+)/.exec(t):Ms?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Q7?/WebKit\/(\S+)/.exec(t):K7?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(II&&(vI=II?II[1]:""),Ms){var EI=CN();if(null!=EI&&EI>parseFloat(vI)){yI=String(EI);break e}}yI=vI}var Y7=W.document&&Ms&&(CN()||parseInt(yI,10))||void 0;function Wu(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(AN){e:{try{mI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:J7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wu.$.h.call(this)}}lt(Wu,Nt);var J7={2:"touch",3:"pen",4:"mouse"};Wu.prototype.h=function(){Wu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ku="closure_listenable_"+(1e6*Math.random()|0),Z7=0;function X7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Z7,this.fa=this.ia=!1}function bh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function TI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function SN(t){const e={};for(const n in t)e[n]=t[n];return e}const PN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RN(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<PN.length;o++)n=PN[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sh(t){this.src=t,this.g={},this.h=0}function DI(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=wN(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(bh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function AI(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}Sh.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=AI(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new X7(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var CI="closure_lm_"+(1e6*Math.random()|0),bI={};function MN(t,e,n,r,i){if(r&&r.once)return xN(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)MN(t,e[o],n,r,i);return null}return n=MI(n),t&&t[Ku]?t.O(e,n,zu(r)?!!r.capture:!!r,i):NN(t,e,n,!1,r,i)}function NN(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=zu(i)?!!i.capture:!!i,a=PI(t);if(a||(t[CI]=a=new Sh(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function tK(){const e=nK;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)q7||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ON(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xN(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)xN(t,e[o],n,r,i);return null}return n=MI(n),t&&t[Ku]?t.P(e,n,zu(r)?!!r.capture:!!r,i):NN(t,e,n,!0,r,i)}function kN(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)kN(t,e[o],n,r,i);else r=zu(r)?!!r.capture:!!r,n=MI(n),t&&t[Ku]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=AI(o=t.g[e],n,r,i))&&(bh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=PI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=AI(e,n,r,i)),(n=-1<t?e[t]:null)&&SI(n))}function SI(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ku])DI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ON(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=PI(e))?(DI(n,t),0==n.h&&(n.src=null,e[CI]=null)):bh(t)}}}function ON(t){return t in bI?bI[t]:bI[t]="on"+t}function nK(t,e){if(t.fa)t=!0;else{e=new Wu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&SI(t),t=n.call(r,e)}return t}function PI(t){return(t=t[CI])instanceof Sh?t:null}var RI="__closure_events_fn_"+(1e9*Math.random()>>>0);function MI(t){return"function"==typeof t?t:(t[RI]||(t[RI]=function(e){return t.handleEvent(e)}),t[RI])}function dt(){ci.call(this),this.i=new Sh(this),this.S=this,this.J=null}function It(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var i=e;RN(e=new Nt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ph(s,r,!0,e)&&i}if(i=Ph(s=e.g=t,r,!0,e)&&i,i=Ph(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ph(s=e.g=n[o],r,!1,e)&&i}function Ph(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&DI(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}lt(dt,ci),dt.prototype[Ku]=!0,dt.prototype.removeEventListener=function(t,e,n,r){kN(this,t,e,n,r)},dt.prototype.N=function(){if(dt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bh(n[r]);delete t.g[e],t.h--}}this.J=null},dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var NI=W.JSON.stringify;function iK(){var t=xI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var VN=new class rK{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new sK,t=>t.reset());class sK{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aK(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uK(t){W.setTimeout(()=>{throw t},0)}let Qu,Yu=!1,xI=new class oK{constructor(){this.h=this.g=null}add(e,n){const r=VN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},FN=()=>{const t=W.Promise.resolve(void 0);Qu=()=>{t.then(cK)}};var cK=()=>{for(var t;t=iK();){try{t.h.call(t.g)}catch(n){uK(n)}var e=VN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yu=!1};function Rh(t,e){dt.call(this),this.h=t||1,this.g=e||W,this.j=Mt(this.qb,this),this.l=Date.now()}function kI(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function OI(t,e,n){if("function"==typeof t)n&&(t=Mt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Mt(t.handleEvent,t)}return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function LN(t){t.g=OI(()=>{t.g=null,t.i&&(t.i=!1,LN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}lt(Rh,dt),(N=Rh.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),It(this,"tick"),this.ga&&(kI(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Rh.$.N.call(this),kI(this),delete this.g};class lK extends ci{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LN(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ju(t){ci.call(this),this.h=t,this.g={}}lt(Ju,ci);var BN=[];function UN(t,e,n,r){Array.isArray(n)||(n&&(BN[0]=n.toString()),n=BN);for(var i=0;i<n.length;i++){var o=MN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function jN(t){TI(t.g,function(e,n){this.g.hasOwnProperty(n)&&SI(e)},t),t.g={}}function Mh(){this.g=!0}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pK(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return NI(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ju.prototype.N=function(){Ju.$.N.call(this),jN(this)},Ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mh.prototype.Ea=function(){this.g=!1},Mh.prototype.info=function(){};var ro={},$N=null;function Nh(){return $N=$N||new dt}function GN(t){Nt.call(this,ro.Ta,t)}function Zu(t){const e=Nh();It(e,new GN(e))}function HN(t,e){Nt.call(this,ro.STAT_EVENT,t),this.stat=e}function qt(t){const e=Nh();It(e,new HN(e,t))}function zN(t,e){Nt.call(this,ro.Ua,t),this.size=e}function Xu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}ro.Ta="serverreachability",lt(GN,Nt),ro.STAT_EVENT="statevent",lt(HN,Nt),ro.Ua="timingevent",lt(zN,Nt);var xh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function VI(){}function KN(){}VI.prototype.h=null;var BI,ec={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function FI(){Nt.call(this,"d")}function LI(){Nt.call(this,"c")}function kh(){}function tc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ju(this),this.P=gK,this.V=new Rh(t=_I?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QN}function QN(){this.i=null,this.g="",this.h=!1}lt(FI,Nt),lt(LI,Nt),lt(kh,VI),kh.prototype.g=function(){return new XMLHttpRequest},kh.prototype.i=function(){return{}},BI=new kh;var gK=45e3,YN={},UI={};function jI(t,e,n){t.L=1,t.A=Lh(Vr(e)),t.u=n,t.S=!0,JN(t,null)}function JN(t,e){t.G=Date.now(),nc(t),t.B=Vr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ax(n.i,"t",r),t.o=0,n=t.l.J,t.h=new QN,t.g=Mx(t.l,n?e:null,!t.u),0<t.O&&(t.M=new lK(Mt(t.Pa,t,t.g),t.O)),UN(t.U,t.g,"readystatechange",t.nb),e=t.I?SN(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Zu(),function dK(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function ZN(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function XN(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=mK(t,n),i==UI){4==e&&(t.s=4,qt(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}if(i==YN){t.s=4,qt(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ns(t.j,t.m,i,null),$I(t,i)}ZN(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),QI(e),e.M=!0,qt(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),io(t),rc(t))}function mK(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?UI:(n=Number(e.substring(n,r)),isNaN(n)?YN:(r+=1)+n>e.length?UI:(e=e.slice(r,r+n),t.o=r+n,e))}function nc(t){t.Y=Date.now()+t.P,ex(t,t.P)}function ex(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Xu(Mt(t.lb,t),e)}function Oh(t){t.C&&(W.clearTimeout(t.C),t.C=null)}function rc(t){0==t.l.H||t.J||bx(t.l,t)}function io(t){Oh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,kI(t.V),jN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $I(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||GI(n.i,t)))if(!t.K&&GI(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Hh(n),$h(n)}KI(n),qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xu(Mt(n.ib,n),6e3));if(1>=lx(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else so(n,11)}else if((t.K||n.g==t)&&Hh(n),!qu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(HI(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,xe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=Rx(r,r.J?r.pa:null,r.Y),s.K){dx(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(Oh(a),nc(a)),r.g=s}else Ax(r);0<n.j.length&&Gh(n)}else"stop"!=c[0]&&"close"!=c[0]||so(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?so(n,7):WI(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Zu()}catch{}}function tx(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Dh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function yK(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function _K(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Dh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(N=tc.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==or(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=or(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||_I||this.g&&(this.h.h||this.g.ja()||vx(this.g)))){this.J||4!=l||7==e||Zu(),Oh(this);var n=this.g.da();this.ca=n;t:if(ZN(this)){var r=vx(this.g);t="";var i=r.length,o=4==or(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){io(this),rc(this);var s="";break t}this.h.i=new W.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function hK(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,qt(12),io(this),rc(this);break e}Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$I(this,n)}this.S?(XN(this,l,s),_I&&this.i&&3==l&&(UN(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,s,null),$I(this,s)),4==l&&io(this),this.i&&!this.J&&(4==l?bx(this.l,this):(this.i=!1,nc(this)))}else(function VK(t){const e={};t=(t.g&&2<=or(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(qu(t[r]))continue;var n=aK(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function eK(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),io(this),rc(this)}}}catch{}},N.mb=function(){if(this.g){var t=or(this.g),e=this.g.ja();this.o<e.length&&(Oh(this),XN(this,t,e),this.i&&4!=t&&nc(this))}},N.cancel=function(){this.J=!0,io(this)},N.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function fK(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Zu(),qt(17)),io(this),this.s=2,rc(this)):ex(this,this.Y-t)};var nx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof oo){this.h=t.h,Vh(this,t.j),this.s=t.s,this.g=t.g,Fh(this,t.m),this.l=t.l;var e=t.i,n=new sc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rx(this,n),this.o=t.o}else t&&(e=String(t).match(nx))?(this.h=!1,Vh(this,e[1]||"",!0),this.s=ic(e[2]||""),this.g=ic(e[3]||"",!0),Fh(this,e[4]),this.l=ic(e[5]||"",!0),rx(this,e[6]||"",!0),this.o=ic(e[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}function Vr(t){return new oo(t)}function Vh(t,e,n){t.j=n?ic(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rx(t,e,n){e instanceof sc?(t.i=e,function AK(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ox(this,r),ax(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=oc(e,TK)),t.i=new sc(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Lh(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ic(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,IK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IK(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oc(e,ix,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(oc(e,ix,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(oc(n,"/"==n.charAt(0)?wK:EK,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oc(n,DK)),t.join("")};var ix=/[#\/\?@]/g,EK=/[#\?:]/g,wK=/[#\?]/g,TK=/[#\?@]/g,DK=/#/g;function sc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&function vK(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ox(t,e){li(t),e=xs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sx(t,e){return li(t),e=xs(t,e),t.g.has(e)}function ax(t,e,n){ox(t,e),0<n.length&&(t.i=null,t.g.set(xs(t,e),gI(n)),t.h+=n.length)}function xs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ux(t){this.l=t||bK,t=W.PerformanceNavigationTiming?0<(t=W.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=sc.prototype).add=function(t,e){li(this),this.i=null,t=xs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){li(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){li(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},N.Z=function(t){li(this);let e=[];if("string"==typeof t)sx(this,t)&&(e=e.concat(this.g.get(xs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return li(this),this.i=null,sx(this,t=xs(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var bK=10;function cx(t){return!!t.h||!!t.g&&t.g.size>=t.j}function lx(t){return t.h?1:t.g?t.g.size:0}function GI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function HI(t,e){t.g?t.g.add(e):t.h=e}function dx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function hx(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return gI(t.i)}ux.prototype.cancel=function(){if(this.i=hx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var SK=class{stringify(t){return W.JSON.stringify(t,void 0)}parse(t){return W.JSON.parse(t,void 0)}};function PK(){this.g=new SK}function RK(t,e,n){const r=n||"";try{tx(t,function(i,o){let s=i;zu(i)&&(s=NI(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ac(t){this.l=t.ec||null,this.j=t.ob||!1}function Uh(t,e){dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lt(ac,VI),ac.prototype.g=function(){return new Uh(this.l,this.j)},ac.prototype.i=function(t){return function(){return t}}({}),lt(Uh,dt);var zI=0;function fx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function uc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cc(t)}function cc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Uh.prototype).open=function(t,e){if(this.readyState!=zI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cc(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uc(this)),this.readyState=zI},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cc(this)),this.g&&(this.readyState=3,cc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uc(this):cc(this),3==this.readyState&&fx(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,uc(this))},N.Ya=function(t){this.g&&(this.response=t,uc(this))},N.ka=function(){this.g&&uc(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var NK=W.JSON.parse;function He(t){dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=px,this.L=this.M=!1}lt(He,dt);var px="",xK=/^https?$/i,kK=["POST","PUT"];function gx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mx(t),jh(t)}function mx(t){t.F||(t.F=!0,It(t,"complete"),It(t,"error"))}function _x(t){if(t.h&&typeof fI<"u"&&(!t.C[1]||4!=or(t)||2!=t.da()))if(t.v&&4==or(t))OI(t.La,0,t);else if(It(t,"readystatechange"),4==or(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(nx)[1]||null;!i&&W.self&&W.self.location&&(i=W.self.location.protocol.slice(0,-1)),r=!xK.test(i?i.toLowerCase():"")}n=r}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var o=2<or(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",mx(t)}}finally{jh(t)}}}function jh(t,e){if(t.g){yx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||It(t,"ready");try{n.onreadystatechange=r}catch{}}}function yx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}function or(t){return t.g?t.g.readyState:0}function vx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case px:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Ix(t){let e="";return TI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function qI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ix(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xe(t,e,n))}function lc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ex(t){this.Ga=0,this.j=[],this.l=new Mh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lc("baseRetryDelayMs",5e3,t),this.hb=lc("retryDelaySeedMs",1e4,t),this.eb=lc("forwardChannelMaxRetries",2,t),this.xa=lc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ux(t&&t.concurrentRequestLimit),this.Ja=new PK,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function WI(t){if(wx(t),3==t.H){var e=t.W++,n=Vr(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),dc(t,n),(e=new tc(t,t.l,e)).L=2,e.A=Lh(Vr(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&W.Image&&((new Image).src=e.A,n=!0),n||(e.g=Mx(e.l,null),e.g.ha(e.A)),e.G=Date.now(),nc(e)}Px(t)}function $h(t){t.g&&(QI(t),t.g.cancel(),t.g=null)}function wx(t){$h(t),t.u&&(W.clearTimeout(t.u),t.u=null),Hh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&W.clearTimeout(t.m),t.m=null)}function Gh(t){if(!cx(t.i)&&!t.m){t.m=!0;var e=t.Na;Qu||FN(),Yu||(Qu(),Yu=!0),xI.add(e,t),t.C=0}}function Tx(t,e){var n;n=e?e.m:t.W++;const r=Vr(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),dc(t,r),t.o&&t.s&&qI(r,t.o,t.s),n=new tc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Dx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),HI(t.i,n),jI(n,r,e)}function dc(t,e){t.na&&TI(t.na,function(n,r){xe(e,r,n)}),t.h&&tx({},function(n,r){xe(e,r,n)})}function Dx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Mt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{RK(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ax(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qu||FN(),Yu||(Qu(),Yu=!0),xI.add(e,t),t.A=0}}function KI(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Xu(Mt(t.Ma,t),Sx(t,t.A)),t.A++,0))}function QI(t){null!=t.B&&(W.clearTimeout(t.B),t.B=null)}function Cx(t){t.g=new tc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Vr(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),dc(t,e),t.o&&t.s&&qI(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Lh(Vr(e)),n.u=null,n.S=!0,JN(n,t)}function Hh(t){null!=t.v&&(W.clearTimeout(t.v),t.v=null)}function bx(t,e){var n=null;if(t.g==e){Hh(t),QI(t),t.g=null;var r=2}else{if(!GI(t.i,e))return;n=e.F,dx(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;It(r=Nh(),new zN(r,n)),Gh(t)}else Ax(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function FK(t,e){return!(lx(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Xu(Mt(t.Na,t,e),Sx(t,t.C)),t.C++,0)))}(t,e)||2==r&&KI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:so(t,5);break;case 4:so(t,10);break;case 3:so(t,6);break;default:so(t,2)}}function Sx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function so(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Mt(t.pb,t);n||(n=new oo("//www.google.com/images/cleardot.gif"),W.location&&"http"==W.location.protocol||Vh(n,"https"),Lh(n)),function MK(t,e){const n=new Mh;if(W.Image){const r=new Image;r.onload=Ah(Bh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ah(Bh,n,r,"TestLoadImage: error",!1,e),r.onabort=Ah(Bh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ah(Bh,n,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else qt(2);t.H=0,t.h&&t.h.za(e),Px(t),wx(t)}function Px(t){if(t.H=0,t.ma=[],t.h){const e=hx(t.i);(0!=e.length||0!=t.j.length)&&(TN(t.ma,e),TN(t.ma,t.j),t.i.i.length=0,gI(t.j),t.j.length=0),t.h.ya()}}function Rx(t,e,n){var r=n instanceof oo?Vr(n):new oo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Fh(r,r.m);else{var i=W.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new oo(null);r&&Vh(o,r),e&&(o.g=e),i&&Fh(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&xe(r,n,e),xe(r,"VER",t.ra),dc(t,r),r}function Mx(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new He(t.Ha&&!t.va?new ac({ob:n}):t.va)).Oa(t.J),e}function Nx(){}function zh(){if(Ms&&!(10<=Number(Y7)))throw Error("Environmental error: no available transport.")}function fn(t,e){dt.call(this),this.g=new Ex(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!qu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qu(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ks(this)}function xx(t){FI.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function kx(){LI.call(this),this.status=1}function ks(t){this.g=t}function $n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function YI(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(N=He.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():BI.g(),this.C=function WN(t){return t.h||(t.h=t.i())}(this.u?this.u:BI),this.g.onreadystatechange=Mt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void gx(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=W.FormData&&t instanceof W.FormData,!(0<=wN(kK,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yx(this),0<this.B&&((this.L=function OK(t){return Ms&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.ua,this)):this.A=OI(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){gx(this,o)}},N.ua=function(){typeof fI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),jh(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jh(this,!0)),He.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?_x(this):this.kb())},N.kb=function(){_x(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),NK(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=Ex.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new tc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=SN(o),RN(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Dx(this,i,e),xe(n=Vr(this.I),"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),dc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Ix(o)))+"&"+e:this.o&&qI(n,this.o,o)),HI(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,jI(i,n,null)):jI(i,n,e),this.H=2}}else 3==this.H&&(t?Tx(this,t):0==this.j.length||cx(this.i)||Tx(this))},N.Ma=function(){if(this.u=null,Cx(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xu(Mt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),$h(this),Cx(this))},N.ib=function(){null!=this.v&&(this.v=null,$h(this),KI(this),qt(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=Nx.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},zh.prototype.g=function(t,e){return new fn(t,e)},lt(fn,dt),fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Rx(t,null,t.Y),Gh(t)},fn.prototype.close=function(){WI(this.g)},fn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=NI(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Gh(e)},fn.prototype.N=function(){this.g.h=null,delete this.j,WI(this.g),delete this.g,fn.$.N.call(this)},lt(xx,FI),lt(kx,LI),lt(ks,Nx),ks.prototype.Ba=function(){It(this.g,"a")},ks.prototype.Aa=function(t){It(this.g,new xx(t))},ks.prototype.za=function(t){It(this.g,new kx)},ks.prototype.ya=function(){It(this.g,"b")},lt($n,function LK(){this.blockSize=-1}),$n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$n.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)YI(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){YI(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){YI(this,r),i=0;break}}this.h=i,this.i+=e},$n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var BK={};function JI(t){return-128<=t&&128>t?function W7(t,e){var n=BK;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ye([0|e],0>e?-1:0)}):new ye([0|t],0>t?-1:0)}function sr(t){if(isNaN(t)||!isFinite(t))return Os;if(0>t)return Et(sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ZI;return new ye(e,0)}var ZI=4294967296,Os=JI(0),XI=JI(1),Vx=JI(16777216);function Fr(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Cn(t){return-1==t.h}function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ye(n,~t.h).add(XI)}function qh(t,e){return t.add(Et(e))}function Wh(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hc(t,e){this.g=t,this.h=e}function Kh(t,e){if(Fr(e))throw Error("division by zero");if(Fr(t))return new hc(Os,Os);if(Cn(t))return e=Kh(Et(t),e),new hc(Et(e.g),Et(e.h));if(Cn(e))return e=Kh(t,Et(e)),new hc(Et(e.g),e.h);if(30<t.g.length){if(Cn(t)||Cn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=XI,r=e;0>=r.X(t);)n=Fx(n),r=Fx(r);var i=Vs(n,1),o=Vs(r,1);for(r=Vs(r,2),n=Vs(n,2);!Fr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Vs(r,1),n=Vs(n,1)}return e=qh(t,i.R(e)),new hc(i,e)}for(i=Os;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=sr(n)).R(e);Cn(s)||0<s.X(t);)s=(o=sr(n-=r)).R(e);Fr(o)&&(o=XI),i=i.add(o),t=qh(t,s)}return new hc(i,t)}function Fx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ye(n,t.h)}function Vs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ye(i,t.h)}(N=ye.prototype).ea=function(){if(Cn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ZI+r)*e,e*=ZI}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Fr(this))return"0";if(Cn(this))return"-"+Et(this).toString(t);for(var e=sr(Math.pow(t,6)),n=this,r="";;){var i=Kh(n,e).g,o=((0<(n=qh(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Fr(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Cn(t=qh(this,t))?-1:Fr(t)?0:1},N.abs=function(){return Cn(this)?Et(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new ye(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Fr(this)||Fr(t))return Os;if(Cn(this))return Cn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(Cn(t))return Et(this.R(Et(t)));if(0>this.X(Vx)&&0>t.X(Vx))return sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,Wh(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Wh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Wh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Wh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ye(n,0)},N.gb=function(t){return Kh(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ye(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ye(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ye(n,this.h^t.h)},zh.prototype.createWebChannel=zh.prototype.g,fn.prototype.send=fn.prototype.u,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,xh.NO_ERROR=0,xh.TIMEOUT=8,xh.HTTP_ERROR=6,qN.COMPLETE="complete",KN.EventType=ec,ec.OPEN="a",ec.CLOSE="b",ec.ERROR="c",ec.MESSAGE="d",dt.prototype.listen=dt.prototype.O,He.prototype.listenOnce=He.prototype.P,He.prototype.getLastError=He.prototype.Sa,He.prototype.getLastErrorCode=He.prototype.Ia,He.prototype.getStatus=He.prototype.da,He.prototype.getResponseJson=He.prototype.Wa,He.prototype.getResponseText=He.prototype.ja,He.prototype.send=He.prototype.ha,He.prototype.setWithCredentials=He.prototype.Oa,$n.prototype.digest=$n.prototype.l,$n.prototype.reset=$n.prototype.reset,$n.prototype.update=$n.prototype.j,ye.prototype.add=ye.prototype.add,ye.prototype.multiply=ye.prototype.R,ye.prototype.modulo=ye.prototype.gb,ye.prototype.compare=ye.prototype.X,ye.prototype.toNumber=ye.prototype.ea,ye.prototype.toString=ye.prototype.toString,ye.prototype.getBits=ye.prototype.D,ye.fromNumber=sr,ye.fromString=function Ox(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Et(Ox(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sr(Math.pow(e,8)),r=Os,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=sr(Math.pow(e,o)),r=r.R(o).add(sr(s))):r=(r=r.R(n)).add(sr(s))}return r};var UK=jn.createWebChannelTransport=function(){return new zh},jK=jn.getStatEventTarget=function(){return Nh()},eE=jn.ErrorCode=xh,$K=jn.EventType=qN,GK=jn.Event=ro,Lx=jn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qh=(jn.FetchXmlHttpFactory=ac,jn.WebChannel=KN),HK=jn.XhrIo=He,zK=jn.Md5=$n,Fs=jn.Integer=ye;const Bx="@firebase/firestore";class ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");let Ls="10.8.0";const di=new U_("@firebase/firestore");function Bs(){return di.logLevel}function D(t,...e){if(di.logLevel<=oe.DEBUG){const n=e.map(tE);di.debug(`Firestore (${Ls}): ${t}`,...n)}}function Ye(t,...e){if(di.logLevel<=oe.ERROR){const n=e.map(tE);di.error(`Firestore (${Ls}): ${t}`,...n)}}function pn(t,...e){if(di.logLevel<=oe.WARN){const n=e.map(tE);di.warn(`Firestore (${Ls}): ${t}`,...n)}}function tE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function V(t,e){t||k()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class at{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ux{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class WK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KK{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new at;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new at,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(E(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new at)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new Ux(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new ht(e)}}class QK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YK{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new QK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,D("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),this.R=n.token,new jx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class $x{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=ZK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function H(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?H(this.nanoseconds,e.nanoseconds):H(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new je(0,0))}static max(){return new F(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fc{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===fc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class te extends fc{construct(e,n,r){return new te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new te(n)}static emptyPath(){return new te([])}}const XK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends fc{construct(e,n,r){return new Le(e,n,r)}static isValidIdentifier(e){return XK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Le(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new A(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new A(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new A(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(n)}static emptyPath(){return new Le([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(te.fromString(e))}static fromName(e){return new M(te.fromString(e).popFirst(5))}static empty(){return new M(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===te.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new te(e.slice()))}}function zx(t){return new gn(t.readTime,t.key,-1)}class gn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gn(F.min(),M.empty(),-1)}static max(){return new gn(F.max(),M.empty(),-1)}}function rE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:H(t.largestBatchId,e.largestBatchId))}const qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hi(t){return iE.apply(this,arguments)}function iE(){return iE=E(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==qx)throw t;D("LocalStore","Unexpectedly lost primary lease")}),iE.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new y((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class Yh{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new at,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new pc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=oE(r.target.error);this.V.reject(new pc(e,i))}}static open(e,n,r,i){try{return new Yh(n,e.transaction(i,r))}catch(o){throw new pc(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new iQ(n)}}class bn{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===bn.S(vt())&&Ye("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),co(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!HR())return!1;if(bn.C())return!0;const e=vt(),n=bn.S(e),r=0<n&&n<10,i=bn.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return E(function*(){return n.db||(D("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new pc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new A(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new A(I.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new pc(e,a))},o.onupgradeneeded=s=>{D("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{D("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return E(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const u=Yh.open(o.db,e,s?"readonly":"readwrite",r),c=i(u).next(l=>(u.g(),l)).catch(l=>(u.abort(l),y.reject(l))).toPromise();return c.catch(()=>{}),yield u.m,c}catch(u){const c=u,l="FirebaseError"!==c.name&&a<3;if(D("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),o.close(),!l)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return co(this.k.delete())}}class pc extends A{constructor(e,n){super(I.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fi(t){return"IndexedDbTransactionError"===t.name}class iQ{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),co(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),co(this.store.add(e))}get(e){return co(this.store.get(e)).next(n=>(void 0===n&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),co(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),co(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new y((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,u)=>{s.push(u)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new y((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new y((r,i)=>{n.onerror=o=>{const s=oE(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new y((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new rQ(a),c=n(a.primaryKey,a.value,u);if(c instanceof y){const l=c.catch(d=>(u.done(),y.reject(d)));r.push(l)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function co(t){return new y((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=oE(r.target.error);n(i)}})}let Wx=!1;function oE(t){const e=bn.S(vt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wx||(Wx=!0,setTimeout(()=>{throw r},0)),r}}return t}let mn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function gc(t){return null==t}function mc(t){return 0===t&&1/t==-1/0}function t1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Se{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=o??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1,wt.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(e,n,r,i,o){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r1(this.data.getIterator())}getIteratorFrom(e){return new r1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ie(this.comparator);return n.data=e,n}}class r1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rn{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new rn([])}unionWith(e){let n=new Ie(Le.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new i1("Invalid base64 string: "+o):o}}(e);return new ut(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return H(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const AQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(V(!!t),"string"==typeof t){let e=0;const n=AQ.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Lr(t){return"string"==typeof t?ut.fromBase64String(t):ut.fromUint8Array(t)}function Xh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ef(t){const e=t.mapValue.fields.__previous_value__;return Xh(e)?ef(e):e}function _c(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}class CQ{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class lo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}const mi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xh(t)?4:u1(t)?9007199254740991:10:k()}function ur(t,e){if(t===e)return!0;const n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=gi(i.timestampValue),a=gi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Lr(t.bytesValue).isEqual(Lr(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?mc(s)===mc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(t1(s)!==t1(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!ur(s[u],a[u])))return!1;return!0}(t,e);default:return k()}var o}function yc(t,e){return void 0!==(t.values||[]).find(n=>ur(n,e))}function yi(t,e){if(t===e)return 0;const n=_i(t),r=_i(e);if(n!==r)return H(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return H(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return o1(t.timestampValue,e.timestampValue);case 4:return o1(_c(t),_c(e));case 5:return H(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Lr(o),u=Lr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=H(a[c],u[c]);if(0!==l)return l}return H(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=H(ze(o.latitude),ze(s.latitude));return 0!==a?a:H(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=yi(a[c],u[c]);if(l)return l}return H(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===mi.mapValue&&s===mi.mapValue)return 0;if(o===mi.mapValue)return 1;if(s===mi.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=H(u[d],l[d]);if(0!==h)return h;const f=yi(a[u[d]],c[l[d]]);if(0!==f)return f}return H(u.length,l.length)}(t.mapValue,e.mapValue);default:throw k()}}function o1(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return H(t,e);const n=gi(t),r=gi(e),i=H(n.seconds,r.seconds);return 0!==i?i:H(n.nanos,r.nanos)}function Hs(t){return aE(t)}function aE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Lr(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=aE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${aE(n.fields[s])}`;return i+"}"}(t.mapValue):k()}function uE(t){return!!t&&"integerValue"in t}function vc(t){return!!t&&"arrayValue"in t}function s1(t){return!!t&&"nullValue"in t}function a1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u1(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=Le.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ic(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Tt(Ic(this.value))}}function d1(t){const e=[];return pi(t.fields,(n,r)=>{const i=new Le([n]);if(rf(r)){const o=d1(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}class ke{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ke(e,0,F.min(),F.min(),F.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,i){return new ke(e,1,n,F.min(),r,i,0)}static newNoDocument(e,n){return new ke(e,2,n,F.min(),F.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new ke(e,3,n,F.min(),F.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vi{constructor(e,n){this.position=e,this.inclusive=n}}function h1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?M.comparator(M.fromName(s.referenceValue),n.key):yi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function f1(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}class Ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function PQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class p1{}class ne extends p1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new RQ(e,n,r):"array-contains"===n?new xQ(e,r):"in"===n?new I1(e,r):"not-in"===n?new kQ(e,r):"array-contains-any"===n?new OQ(e,r):new ne(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new MQ(e,r):new NQ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(yi(n,this.value)):null!==n&&_i(this.value)===_i(n)&&this.matchesComparison(yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ve extends p1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ve(e,n)}matches(e){return zs(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function zs(t){return"and"===t.op}function lE(t){return function g1(t){for(const e of t.filters)if(e instanceof ve)return!1;return!0}(t)&&zs(t)}function dE(t){if(t instanceof ne)return t.field.canonicalString()+t.op.toString()+Hs(t.value);if(lE(t))return t.filters.map(e=>dE(e)).join(",");{const e=t.filters.map(n=>dE(n)).join(",");return`${t.op}(${e})`}}function m1(t,e){return t instanceof ne?(r=t,(i=e)instanceof ne&&r.op===i.op&&r.field.isEqual(i.field)&&ur(r.value,i.value)):t instanceof ve?function(r,i){return i instanceof ve&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&m1(s,i.filters[a]),!0)}(t,e):void k();var r,i}function y1(t){return t instanceof ne?`${(n=t).field.canonicalString()} ${n.op} ${Hs(n.value)}`:t instanceof ve?function(n){return n.op.toString()+" {"+n.getFilters().map(y1).join(" ,")+"}"}(t):"Filter";var n}class RQ extends ne{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class MQ extends ne{constructor(e,n){super(e,"in",n),this.keys=v1(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NQ extends ne{constructor(e,n){super(e,"not-in",n),this.keys=v1(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v1(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class xQ extends ne{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vc(n)&&yc(n.arrayValue,this.value)}}class I1 extends ne{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&yc(this.value.arrayValue,n)}}class kQ extends ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!yc(this.value.arrayValue,n)}}class OQ extends ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}class VQ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function hE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new VQ(t,e,n,r,i,o,s)}function fo(t){const e=R(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),gc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hs(r)).join(",")),e.ce=n}return e.ce}function wc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f1(t.startAt,e.startAt)&&f1(t.endAt,e.endAt)}function of(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Br{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function qs(t){return new Br(t)}function D1(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ws(t){const e=R(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ie(Le.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ec(o,r))}),n.has(Le.keyField().canonicalString())||e.le.push(new Ec(Le.keyField(),r))}return e.le}function Wt(t){const e=R(t);return e.he||(e.he=function A1(t,e){if("F"===t.limitType)return hE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ec(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new vi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vi(t.startAt.position,t.startAt.inclusive):null;return hE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Ws(t))),e.he}function af(t,e,n){return new Br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tc(t,e){return wc(Wt(t),Wt(e))&&t.limitType===e.limitType}function C1(t){return`${fo(Wt(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>y1(i)).join(", ")}]`),gc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hs(i)).join(",")),`Target(${r})`}(Wt(t))}; limitType=${t.limitType})`}function Dc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):M.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ws(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=h1(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Ws(r),i)||r.endAt&&!function(s,a,u){const c=h1(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Ws(r),i)));var r,i}function S1(t){return(e,n)=>{let r=!1;for(const i of Ws(t)){const o=FQ(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function FQ(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?yi(u,c):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class Ur{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}const LQ=new Se(M.comparator);function on(){return LQ}const P1=new Se(M.comparator);function Ac(...t){let e=P1;for(const n of t)e=e.insert(n.key,n);return e}function R1(t){let e=P1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cr(){return Cc()}function M1(){return Cc()}function Cc(){return new Ur(t=>t.toString(),(t,e)=>t.isEqual(e))}const BQ=new Se(M.comparator),UQ=new Ie(M.comparator);function J(...t){let e=UQ;for(const n of t)e=e.add(n);return e}const jQ=new Ie(H);function N1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function x1(t){return{integerValue:""+t}}function k1(t,e){return function Kx(t){return"number"==typeof t&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?x1(e):N1(t,e)}class uf{constructor(){this._=void 0}}function $Q(t,e,n){return t instanceof Qs?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Xh(o)&&(o=ef(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof po?V1(t,e):t instanceof go?F1(t,e):function(i,o){const s=O1(i,o),a=L1(s)+L1(i.Ie);return uE(s)&&uE(i.Ie)?x1(a):N1(i.serializer,a)}(t,e)}function GQ(t,e,n){return t instanceof po?V1(t,e):t instanceof go?F1(t,e):n}function O1(t,e){return t instanceof Ys?uE(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Qs extends uf{}class po extends uf{constructor(e){super(),this.elements=e}}function V1(t,e){const n=B1(e);for(const r of t.elements)n.some(i=>ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class go extends uf{constructor(e){super(),this.elements=e}}function F1(t,e){let n=B1(e);for(const r of t.elements)n=n.filter(i=>!ur(i,r));return{arrayValue:{values:n}}}class Ys extends uf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function L1(t){return ze(t.integerValue||t.doubleValue)}function B1(t){return vc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class zQ{constructor(e,n){this.version=e,this.transformResults=n}}class Be{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Be}static exists(e){return new Be(void 0,e)}static updateTime(e){return new Be(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class lf{}function U1(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Zs(t.key,Be.none()):new Js(t.key,t.data,Be.none());{const n=t.data,r=Tt.empty();let i=new Ie(Le.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new jr(t.key,r,new rn(i.toArray()),Be.none())}}function qQ(t,e,n){t instanceof Js?function(i,o,s){const a=i.value.clone(),u=G1(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jr?function(i,o,s){if(!cf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=G1(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll($1(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Sc(t,e,n,r){return t instanceof Js?function(o,s,a,u){if(!cf(o.precondition,s))return a;const c=o.value.clone(),l=H1(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof jr?function(o,s,a,u){if(!cf(o.precondition,s))return a;const c=H1(o.fieldTransforms,u,s),l=s.data;return l.setAll($1(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,cf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function WQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=O1(r.transform,i||null);null!=o&&(null===n&&(n=Tt.empty()),n.set(r.field,o))}return n||null}function j1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Us(r,i,(o,s)=>function HQ(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof po&&i instanceof po||r instanceof go&&i instanceof go?Us(r.elements,i.elements,ur):r instanceof Ys&&i instanceof Ys?ur(r.Ie,i.Ie):r instanceof Qs&&i instanceof Qs);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Js extends lf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jr extends lf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G1(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,GQ(s,a,n[i]))}return r}function H1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,$Q(o,s,e))}return r}class Zs extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mE extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _E{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qQ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=U1(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,r)=>j1(n,r))&&Us(this.baseMutations,e.baseMutations,(n,r)=>j1(n,r))}}class yE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=BQ;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new yE(e,n,r,i)}}class vE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class QQ{constructor(e,n){this.count=e,this.unchangedNames=n}}var rt,ue;function q1(t){if(void 0===t)return Ye("GRPC error has no .code"),I.UNKNOWN;switch(t){case rt.OK:return I.OK;case rt.CANCELLED:return I.CANCELLED;case rt.UNKNOWN:return I.UNKNOWN;case rt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case rt.INTERNAL:return I.INTERNAL;case rt.UNAVAILABLE:return I.UNAVAILABLE;case rt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case rt.NOT_FOUND:return I.NOT_FOUND;case rt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case rt.ABORTED:return I.ABORTED;case rt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case rt.DATA_LOSS:return I.DATA_LOSS;default:return k()}}(ue=rt||(rt={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";const YQ=new Fs([4294967295,4294967295],0);function K1(t){const e=function W1(){return new TextEncoder}().encode(t),n=new zK;return n.update(e),new Uint8Array(n.digest())}function Q1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fs([n,r],0),new Fs([i,o],0)]}class IE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pc(`Invalid padding: ${n}`);if(r<0)throw new Pc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Pc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Pc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Fs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Fs.fromNumber(r)));return 1===i.compare(YQ)&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=K1(e),[r,i]=Q1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new IE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=K1(e),[r,i]=Q1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rc(F.min(),i,new Se(H),on(),J())}}class Mc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mc(r,n,J(),J(),J())}}class hf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Y1{constructor(e,n){this.targetId=e,this.fe=n}}class J1{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Z1{constructor(){this.ge=0,this.pe=ek(),this.ye=ut.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=J(),n=J(),r=J();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new Mc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ek()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,V(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class JQ{constructor(e){this.Le=e,this.ke=new Map,this.qe=on(),this.Qe=X1(),this.Ke=new Se(H)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(of(o))if(0===r){const s=new M(o.path);this.We(n,s,ke.newNoDocument(s,F.min()))}else V(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Lr(r).toUint8Array()}catch(u){if(u instanceof i1)return pn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new IE(s,i,o)}catch(u){return pn(u instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&of(a.target)){const u=new M(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,ke.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=J();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Rc(e,n,this.Ke,this.qe,r);return this.qe=on(),this.Qe=X1(),this.Ke=new Se(H),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Z1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ie(H),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Z1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X1(){return new Se(M.comparator)}function ek(){return new Se(M.comparator)}const ZQ={asc:"ASCENDING",desc:"DESCENDING"},XQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eY={and:"AND",or:"OR"};class tY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function EE(t,e){return t.useProto3Json||gc(e)?e:{value:e}}function Xs(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nY(t,e){return Xs(t,e.toTimestamp())}function Je(t){return V(!!t),F.fromTimestamp(function(n){const r=gi(n);return new je(r.seconds,r.nanos)}(t))}function wE(t,e){return TE(t,e).canonicalString()}function TE(t,e){const n=(i=t,new te(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function nk(t){const e=te.fromString(t);return V(hk(e)),e}function Nc(t,e){return wE(t.databaseId,e.path)}function lr(t,e){const n=nk(e);if(n.get(1)!==t.databaseId.projectId)throw new A(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(ok(n))}function rk(t,e){return wE(t.databaseId,e)}function DE(t){return new te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ok(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function sk(t,e,n){return{name:Nc(t,e),fields:n.value.mapValue.fields}}function uk(t,e){return{documents:[rk(t,e.path)]}}function CE(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rk(t,i);const o=function(c){if(0!==c.length)return dk(ve.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Ii((h=l).field),direction:aY(h.dir)};var h})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=EE(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i};var c}function ck(t){let e=function ik(t){const e=nk(t);return 4===e.length?te.emptyPath():ok(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){const h=lk(d);return h instanceof ve&&lE(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(h=>{return new Ec(ea((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,gc(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new vi((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new vi(d.values||[],!d.before)}(n.endAt)),function T1(t,e,n,r,i,o,s,a){return new Br(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function lk(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ea(n.unaryFilter.field);return ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ea(n.unaryFilter.field);return ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ea(n.unaryFilter.field);return ne.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ea(n.unaryFilter.field);return ne.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?ne.create(ea((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return ve.create(n.compositeFilter.filters.map(r=>lk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return k()}}(n.compositeFilter.op))}(t):k();var n}function aY(t){return ZQ[t]}function uY(t){return XQ[t]}function cY(t){return eY[t]}function Ii(t){return{fieldPath:t.canonicalString()}}function ea(t){return Le.fromServerFormat(t.fieldPath)}function dk(t){return t instanceof ne?function(n){if("=="===n.op){if(a1(n.value))return{unaryFilter:{field:Ii(n.field),op:"IS_NAN"}};if(s1(n.value))return{unaryFilter:{field:Ii(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(a1(n.value))return{unaryFilter:{field:Ii(n.field),op:"IS_NOT_NAN"}};if(s1(n.value))return{unaryFilter:{field:Ii(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ii(n.field),op:uY(n.op),value:n.value}}}(t):t instanceof ve?function(n){const r=n.getFilters().map(i=>dk(i));return 1===r.length?r[0]:{compositeFilter:{op:cY(n.op),filters:r}}}(t):k()}function lY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hk(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class $r{constructor(e,n,r,i,o=F.min(),s=F.min(),a=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fk{constructor(e){this.ct=e}}function bE(t){const e=ck({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?af(e,e.limit,"L"):e}class vo{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),mc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Lr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?u1(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):k()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),M.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}vo.bt=new vo;class yY{constructor(){this._n=new xE}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(gn.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(gn.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class xE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ie(te.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ie(te.comparator)).toArray()}}new Uint8Array(0);class kt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kt(e,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(41943040,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);class Eo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Eo(0)}static Bn(){return new Eo(-1)}}class DY{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Uk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Sc(r.mutation,i,rn.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){const i=cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ac();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=on();const s=Cc(),a=Cc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof jr)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),Sc(l.mutation,c,l.mutation.getFieldMask(),je.now())):s.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new bY(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let i=new Se((s,a)=>s-a),o=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||rn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||J()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=M1();l.forEach(h=>{if(!o.has(h)){const f=U1(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return y.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return M.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function fE(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):y.resolve(cr());let a=-1,u=o;return s.next(c=>y.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,J())).next(l=>({batchId:a,changes:R1(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ac();return this.indexManager.getCollectionParents(e,o).next(a=>y.forEach(a,u=>{const c=(d=n,h=u.child(o),new Br(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,ke.newInvalidDocument(l)))});let a=Ac();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&Sc(l.mutation,c,rn.empty(),je.now()),Dc(n,c)&&(a=a.insert(u,c))}),a})}}class SY{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Je(i.createTime)}),y.resolve();var i}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:bE(i.bundledQuery),readTime:Je(i.readTime)}),y.resolve();var i}}class PY{constructor(){this.overlays=new Se(M.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cr();return y.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=cr(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Se((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=cr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=cr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vE(n,r));let o=this.hr.get(n);void 0===o&&(o=J(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class kE{constructor(){this.Pr=new Ie(pt.Ir),this.Tr=new Ie(pt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new pt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new M(new te([])),r=new pt(n,e),i=new pt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new M(new te([])),r=new pt(n,e),i=new pt(n,e+1);let o=J();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new pt(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return M.comparator(e.key,n.key)||H(e.pr,n.pr)}static Er(e,n){return H(e.pr,n.pr)||M.comparator(e.key,n.key)}}class RY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ie(pt.Ir)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new _E(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(s)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ie(H);return n.forEach(i=>{const o=new pt(i,0),s=new pt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const s=new pt(new M(o),0);let a=new Ie(H);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),y.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{const o=new pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new pt(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class MY{constructor(e){this.vr=e,this.docs=new Se(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():ke.newInvalidDocument(n))}getEntries(e,n){let r=on();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ke.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=on();const s=n.path,a=new M(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||rE(zx(l),r)<=0||(i.has(l.key)||Dc(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){k()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NY(this)}getSize(e){return y.resolve(this.size)}}class NY extends DY{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class xY{constructor(e){this.persistence=e,this.Mr=new Ur(n=>fo(n),wc),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Or=0,this.Nr=new kE,this.targetCount=0,this.Br=Eo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(o).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}}class OE{constructor(e,n){this.Lr={},this.overlays={},this.kr=new mn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new xY(this),this.indexManager=new yY,this.remoteDocumentCache=new MY(r=>this.referenceDelegate.Kr(r)),this.serializer=new fk(n),this.$r=new SY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new RY(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new kY(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class kY extends nQ{constructor(e){super(),this.currentSequenceNumber=e}}class If{constructor(e){this.persistence=e,this.zr=new kE,this.jr=null}static Hr(e){return new If(e)}get Jr(){if(this.jr)return this.jr;throw k()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{const i=M.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,F.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class BE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=J(),i=J();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new BE(e,n.fromCache,r,i)}}class VY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $k{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function g6(){return!function h6(){var t;const e=null===(t=nh())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:bn.v(vt())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new VY;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Bs()<=oe.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(Bs()<=oe.DEBUG&&D("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Bs()<=oe.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wt(n))):y.resolve())}ji(e,n){if(D1(n))return y.resolve(null);let r=Wt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=af(n,null,"F"),r=Wt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=J(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,af(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return D1(n)||i.isEqual(F.min())?y.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?y.resolve(null):(Bs()<=oe.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(n)),this.es(e,s,n,function Hx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(1e9===r?new je(n+1,0):new je(n,r));return new gn(i,M.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ie(S1(e));return n.forEach((i,o)=>{Dc(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Bs()<=oe.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.zi.getDocumentsMatchingQuery(e,n,gn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class FY{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Se(H),this.rs=new Ur(o=>fo(o),wc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uk(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Hk(t,e){return UE.apply(this,arguments)}function UE(){return UE=E(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=J();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}),UE.apply(this,arguments)}function zk(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function UY(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sa(t,e,n){return jE.apply(this,arguments)}function jE(){return jE=E(function*(t,e,n){const r=R(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!fi(s))throw s;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),jE.apply(this,arguments)}function Tf(t,e,n){const r=R(t);let i=F.min(),o=J();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=R(u),h=d.rs.get(l);return void 0!==h?y.resolve(d.ns.get(h)):d.Qr.getTargetData(c,l)}(r,s,Wt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:F.min(),n?o:J())).next(a=>(function Qk(t,e,n){let r=t.ss.get(e)||F.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}(r,function b1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,hs:o})))}class qE{constructor(){this.activeTargetIds=function gE(){return jQ}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zk{constructor(){this.no=new qE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GY{io(e){}shutdown(){}}class Xk{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cf=null;function KE(){return null===Cf?Cf=268435456+Math.round(2147483648*Math.random()):Cf++,"0x"+Cf.toString(16)}const HY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zY{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Ot="WebChannelConnection";class qY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=KE(),u=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(n,u,c,i).then(l=>(D("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw pn("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ls,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${HY[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=KE();return new Promise((s,a)=>{const u=new HK;u.setWithCredentials(!0),u.listenOnce($K.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case eE.NO_ERROR:const l=u.getResponseJson();D(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case eE.TIMEOUT:D(Ot,`RPC '${e}' ${o} timed out`),a(new A(I.DEADLINE_EXCEEDED,"Request time out"));break;case eE.HTTP_ERROR:const d=u.getStatus();if(D(Ot,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(v)>=0?v:I.UNKNOWN}(f.status);a(new A(p,f.message))}else a(new A(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new A(I.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{D(Ot,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);D(Ot,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=KE(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=UK(),a=jK(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");D(Ot,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new zY({lo:m=>{f?D(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(D(Ot,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(Ot,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},ho:()=>d.close()}),g=(m,v,_)=>{m.listen(v,w=>{try{_(w)}catch(C){setTimeout(()=>{throw C},0)}})};return g(d,Qh.EventType.OPEN,()=>{f||D(Ot,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Qh.EventType.CLOSE,()=>{f||(f=!0,D(Ot,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,Qh.EventType.ERROR,m=>{f||(f=!0,pn(Ot,`RPC '${e}' stream ${i} transport errored:`,m),p.Vo(new A(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Qh.EventType.MESSAGE,m=>{var v;if(!f){const _=m.data[0];V(!!_);const C=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(C){D(Ot,`RPC '${e}' stream ${i} received error:`,C);const O=C.status;let j=function(Hr){const Ta=rt[Hr];if(void 0!==Ta)return q1(Ta)}(O),le=C.message;void 0===j&&(j=I.INTERNAL,le="Unknown error status: "+O+" with message "+C.message),f=!0,p.Vo(new A(j,le)),d.close()}else D(Ot,`RPC '${e}' stream ${i} received:`,_),p.mo(_)}}),g(a,GK.STAT_EVENT,m=>{m.stat===Lx.PROXY?D(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Lx.NOPROXY&&D(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function bf(){return typeof document<"u"?document:null}function jc(t){return new tY(t,!0)}class QE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class tO{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new QE(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return E(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return E(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return E(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new A(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo(E(function*(){e.state=0,e.start()}))}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WY extends tO{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function iY(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:k(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(V(void 0===l||"string"==typeof l),ut.fromBase64String(l||"")):(V(void 0===l||l instanceof Uint8Array),ut.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?I.UNKNOWN:q1(c.code);return new A(l,c.message||"")}(s);n=new J1(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=lr(t,r.document.name),o=Je(r.document.updateTime),s=r.document.createTime?Je(r.document.createTime):F.min(),a=new Tt({mapValue:{fields:r.document.fields}}),u=ke.newFoundDocument(i,o,s,a);n=new hf(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=lr(t,r.document),o=r.readTime?Je(r.readTime):F.min(),s=ke.newNoDocument(i,o);n=new hf([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=lr(t,r.document);n=new hf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new QQ(i,o);n=new Y1(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return F.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?F.min():s.readTime?Je(s.readTime):F.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=DE(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=of(u)?{documents:uk(o,u)}:{query:CE(o,u).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tk(o,s.resumeToken);const c=EE(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(F.min())>0){a.readTime=Xs(o,s.snapshotVersion.toTimestamp());const c=EE(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function sY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=DE(this.serializer),n.removeTarget=e,this.t_(n)}}class KY extends tO{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function oY(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(i,o){let s=Je(i.updateTime?i.updateTime:o);return s.isEqual(F.min())&&(s=Je(o)),new zQ(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.T_(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=DE(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function xc(t,e){let n;if(e instanceof Js)n={update:sk(t,e.key,e.value)};else if(e instanceof Zs)n={delete:Nc(t,e.key)};else if(e instanceof jr)n={update:sk(t,e.key,e.data),updateMask:lY(e.fieldMask)};else{if(!(e instanceof mE))return k();n={verify:Nc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof go)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ys)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:nY(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:k()),n;var o}(this.serializer,r))};this.t_(n)}}class QY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new A(I.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,TE(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new A(I.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,TE(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(I.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class JY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ye(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class ZY{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget(E(function*(){var u;Di(s)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(u=E(function*(l){const d=R(l);d.v_.add(4),yield aa(d),d.x_.set("Unknown"),d.v_.delete(4),yield $c(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.x_=new JY(r,i)}}function $c(t){return JE.apply(this,arguments)}function JE(){return JE=E(function*(t){if(Di(t))for(const e of t.F_)yield e(!0)}),JE.apply(this,arguments)}function aa(t){return ZE.apply(this,arguments)}function ZE(){return ZE=E(function*(t){for(const e of t.F_)yield e(!1)}),ZE.apply(this,arguments)}function Sf(t,e){const n=R(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),tw(n)?ew(n):ca(n).Jo()&&XE(n,e))}function Gc(t,e){const n=R(t),r=ca(n);n.C_.delete(e),r.Jo()&&nO(n,e),0===n.C_.size&&(r.Jo()?r.Xo():Di(n)&&n.x_.set("Unknown"))}function XE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ca(t).c_(e)}function nO(t,e){t.O_.Oe(e),ca(t).l_(e)}function ew(t){t.O_=new JQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ca(t).start(),t.x_.p_()}function tw(t){return Di(t)&&!ca(t).Ho()&&t.C_.size>0}function Di(t){return 0===R(t).v_.size}function rO(t){t.O_=void 0}function XY(t){return nw.apply(this,arguments)}function nw(){return nw=E(function*(t){t.C_.forEach((e,n)=>{XE(t,e)})}),nw.apply(this,arguments)}function eJ(t,e){return rw.apply(this,arguments)}function rw(){return rw=E(function*(t,e){rO(t),tw(t)?(t.x_.S_(e),ew(t)):t.x_.set("Unknown")}),rw.apply(this,arguments)}function tJ(t,e,n){return iw.apply(this,arguments)}function iw(){return iw=E(function*(t,e,n){if(t.x_.set("Online"),e instanceof J1&&2===e.state&&e.cause)try{yield(r=E(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.C_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.C_.delete(u),o.O_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pf(t,r)}else if(e instanceof hf?t.O_.$e(e):e instanceof Y1?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(F.min()))try{const r=yield zk(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.C_.get(c);l&&o.C_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.C_.get(u);if(!l)return;o.C_.set(u,l.withResumeToken(ut.EMPTY_BYTE_STRING,l.snapshotVersion)),nO(o,u);const d=new $r(l.target,u,c,l.sequenceNumber);XE(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield Pf(t,r)}var r}),iw.apply(this,arguments)}function Pf(t,e,n){return ow.apply(this,arguments)}function ow(){return ow=E(function*(t,e,n){if(!fi(e))throw e;t.v_.add(1),yield aa(t),t.x_.set("Offline"),n||(n=()=>zk(t.localStore)),t.asyncQueue.enqueueRetryable(E(function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield $c(t)}))}),ow.apply(this,arguments)}function iO(t,e){return e().catch(n=>Pf(t,n,e))}function ua(t){return sw.apply(this,arguments)}function sw(){return sw=E(function*(t){const e=R(t),n=Ai(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;nJ(e);)try{const i=yield UY(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,rJ(e,i)}catch(i){yield Pf(e,i)}oO(e)&&sO(e)}),sw.apply(this,arguments)}function nJ(t){return Di(t)&&t.D_.length<10}function rJ(t,e){t.D_.push(e);const n=Ai(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function oO(t){return Di(t)&&!Ai(t).Ho()&&t.D_.length>0}function sO(t){Ai(t).start()}function iJ(t){return aw.apply(this,arguments)}function aw(){return aw=E(function*(t){Ai(t).d_()}),aw.apply(this,arguments)}function oJ(t){return uw.apply(this,arguments)}function uw(){return uw=E(function*(t){const e=Ai(t);for(const n of t.D_)e.I_(n.mutations)}),uw.apply(this,arguments)}function sJ(t,e,n){return cw.apply(this,arguments)}function cw(){return cw=E(function*(t,e,n){const r=t.D_.shift(),i=yE.from(r,e,n);yield iO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ua(t)}),cw.apply(this,arguments)}function aJ(t,e){return lw.apply(this,arguments)}function lw(){return lw=E(function*(t,e){var n;e&&Ai(t).P_&&(yield(n=E(function*(i,o){if(function z1(t){switch(t){default:return k();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(a=o.code)&&a!==I.ABORTED){const s=i.D_.shift();Ai(i).Zo(),yield iO(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield ua(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),oO(t)&&sO(t)}),lw.apply(this,arguments)}function aO(t,e){return dw.apply(this,arguments)}function dw(){return dw=E(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=Di(n);n.v_.add(3),yield aa(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield $c(n)}),dw.apply(this,arguments)}function fw(){return fw=E(function*(t,e){const n=R(t);e?(n.v_.delete(2),yield $c(n)):e||(n.v_.add(2),yield aa(n),n.x_.set("Unknown"))}),fw.apply(this,arguments)}function ca(t){return t.N_||(t.N_=function(n,r,i){const o=R(n);return o.R_(),new WY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:XY.bind(null,t),To:eJ.bind(null,t),u_:tJ.bind(null,t)}),t.F_.push(function(){var e=E(function*(n){n?(t.N_.Zo(),tw(t)?ew(t):t.x_.set("Unknown")):(yield t.N_.stop(),rO(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function Ai(t){return t.B_||(t.B_=function(n,r,i){const o=R(n);return o.R_(),new KY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:iJ.bind(null,t),To:aJ.bind(null,t),E_:oJ.bind(null,t),T_:sJ.bind(null,t)}),t.F_.push(function(){var e=E(function*(n){n?(t.B_.Zo(),yield ua(t)):(yield t.B_.stop(),t.D_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.B_}class pw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new at,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new pw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function la(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),fi(t))return new A(I.UNAVAILABLE,`${e}: ${t}`);throw t}class da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Ac(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new da(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class uO{constructor(){this.L_=new Se(M.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(n):1===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):k():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ha{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ha(e,n,da.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class uJ{constructor(){this.q_=void 0,this.Q_=[]}}class cJ{constructor(){this.queries=new Ur(e=>C1(e),Tc),this.onlineState="Unknown",this.K_=new Set}}function mw(){return mw=E(function*(t,e){const n=R(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new uJ),i)try{o.q_=yield n.onListen(r)}catch(s){const a=la(s,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&vw(n)}),mw.apply(this,arguments)}function yw(){return yw=E(function*(t,e){const n=R(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),yw.apply(this,arguments)}function lJ(t,e){const n=R(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&vw(n)}function dJ(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function vw(t){t.K_.forEach(e=>{e.next()})}class Iw{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class dO{constructor(e){this.key=e}}class hO{constructor(e){this.key=e}}class fO{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=J(),this.mutatedKeys=J(),this.ua=S1(e),this.ca=new da(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new uO,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Dc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.ua(f,u)>0||c&&this.ua(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(s=s.add(f),o=g?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return g(f)-g(p)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=null!=i&&i;const a=n&&!i?this.Ea():[],u=0===this.aa.size&&this.current&&!i?1:0,c=u!==this._a;return this._a=u,0!==s.length||c?{snapshot:new ha(this.query,e.ca,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new uO,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=J(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new hO(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new dO(r))}),n}Ra(e){this.oa=e.hs,this.aa=J();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ha.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class pJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gJ{constructor(e){this.key=e,this.ma=!1}}class mJ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Ur(a=>C1(a),Tc),this.pa=new Map,this.ya=new Set,this.wa=new Se(M.comparator),this.Sa=new Map,this.ba=new kE,this.Da={},this.Ca=new Map,this.va=Eo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function _J(t,e){return Ew.apply(this,arguments)}function Ew(){return Ew=E(function*(t,e){const n=function Hw(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IJ.bind(null,e),e.fa.u_=lJ.bind(null,e.eventManager),e.fa.xa=dJ.bind(null,e.eventManager),e}(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=yield function oa(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,y.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new $r(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}(n.localStore,Wt(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function ww(t,e,n,r,i){return Tw.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Sf(n.remoteStore,s)}return i}),Ew.apply(this,arguments)}function Tw(){return Tw=E(function*(t,e,n,r,i){t.Ma=(d,h,f)=>{return(p=E(function*(m,v,_,w){let C=v.view.ha(_);C.Xi&&(C=yield Tf(m.localStore,v.query,!1).then(({documents:et})=>v.view.ha(et,C)));const O=w&&w.targetChanges.get(v.targetId),j=w&&null!=w.targetMismatches.get(v.targetId),le=v.view.applyChanges(C,m.isPrimaryClient,O,j);return xw(m,v.targetId,le.da),le.snapshot}),function g(m,v,_,w){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Tf(t.localStore,e,!0),s=new fO(e,o.hs),a=s.ha(o.documents),u=Mc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);xw(t,n,c.da);const l=new pJ(e,n,s);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}),Tw.apply(this,arguments)}function yJ(t,e){return Dw.apply(this,arguments)}function Dw(){return Dw=E(function*(t,e){const n=R(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Tc(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gc(n.remoteStore,r.targetId),fa(n,r.targetId)}).catch(hi))):(fa(n,r.targetId),yield sa(n.localStore,r.targetId,!0))}),Dw.apply(this,arguments)}function Aw(){return Aw=E(function*(t,e,n){const r=function zw(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wJ.bind(null,e),e}(t);try{const i=yield function(s,a){const u=R(s),c=je.now(),l=a.reduce((f,p)=>f.add(p.key),J());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=on(),g=J();return u.os.getEntries(f,l).next(m=>{p=m,p.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const v=[];for(const _ of a){const w=WQ(_,d.get(_.key).overlayedDocument);null!=w&&v.push(new jr(_.key,w,d1(w.value.mapValue),Be.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(m=>{h=m;const v=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,v)})}).then(()=>({batchId:h.batchId,changes:R1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Da[s.currentUser.toKey()];c||(c=new Se(H)),c=c.insert(a,u),s.Da[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Gr(r,i.changes),yield ua(r.remoteStore)}catch(i){const o=la(i,"Failed to persist write");n.reject(o)}}),Aw.apply(this,arguments)}function pO(t,e){return Cw.apply(this,arguments)}function Cw(){return Cw=E(function*(t,e){const n=R(t);try{const r=yield function BY(t,e){const n=R(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,m,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ut.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,f))});let u=on(),c=J();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function qk(t,e,n){let r=J(),i=J();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=on();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(F.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}(o,s,e.documentUpdates).next(l=>{u=l.cs,c=l.ls})),!r.isEqual(F.min())){const l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?V(s.ma):i.removedDocuments.size>0&&(V(s.ma),s.ma=!1))}),yield Gr(n,r,e)}catch(r){yield hi(r)}}),Cw.apply(this,arguments)}function gO(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=R(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.Q_)h.U_(a)&&(c=!0)}),c&&vw(u)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function IJ(t,e,n){return bw.apply(this,arguments)}function bw(){return bw=E(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new Se(M.comparator);s=s.insert(o,ke.newNoDocument(o,F.min()));const a=J().add(o),u=new Rc(F.min(),new Map,new Se(H),s,a);yield pO(r,u),r.wa=r.wa.remove(o),r.Sa.delete(e),kw(r)}else yield sa(r.localStore,e,!1).then(()=>fa(r,e,n)).catch(hi)}),bw.apply(this,arguments)}function EJ(t,e){return Sw.apply(this,arguments)}function Sw(){return Sw=E(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield function LY(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=y.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);V(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=J();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Nw(n,r,null),Mw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Gr(n,i)}catch(i){yield hi(i)}}),Sw.apply(this,arguments)}function wJ(t,e,n){return Pw.apply(this,arguments)}function Pw(){return Pw=E(function*(t,e,n){const r=R(t);try{const i=yield function(s,a){const u=R(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(V(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);Nw(r,e,n),Mw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Gr(r,i)}catch(i){yield hi(i)}}),Pw.apply(this,arguments)}function Mw(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Nw(t,e,n){const r=R(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function fa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||mO(t,r)})}function mO(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(Gc(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),kw(t))}function xw(t,e,n){for(const r of n)r instanceof dO?(t.ba.addReference(r.key,e),DJ(t,r)):r instanceof hO?(D("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||mO(t,r.key)):k()}function DJ(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ya.add(r),kw(t))}function kw(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new M(te.fromString(e)),r=t.va.next();t.Sa.set(r,new gJ(n)),t.wa=t.wa.insert(n,r),Sf(t.remoteStore,new $r(Wt(qs(n.path)),r,"TargetPurposeLimboResolution",mn._e))}}function Gr(t,e,n){return Ow.apply(this,arguments)}function Ow(){return Ow=E(function*(t,e,n){const r=R(t),i=[],o=[],s=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{s.push(r.Ma(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=BE.Ki(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.fa.u_(i),yield(a=E(function*(c,l){const d=R(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>y.forEach(l,f=>y.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>y.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!fi(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ns=d.ns.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),Ow.apply(this,arguments)}function AJ(t,e){return Vw.apply(this,arguments)}function Vw(){return Vw=E(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield Hk(n.localStore,e);n.currentUser=e,(o=n).Ca.forEach(a=>{a.forEach(u=>{u.reject(new A(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gr(n,r.us)}var o}),Vw.apply(this,arguments)}function CJ(t,e){const n=R(t),r=n.Sa.get(e);if(r&&r.ma)return J().add(r.key);{let i=J();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}class Rf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return E(function*(){n.serializer=jc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Gk(t,e,n,r){return new FY(t,e,n,r)}(this.persistence,new $k,e.initialUser,this.serializer)}createPersistence(e){return new OE(If.Hr,this.serializer)}createSharedClientState(e){return new Zk}terminate(){var e=this;return E(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pa{initialize(e,n){var r=this;return E(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>gO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=AJ.bind(null,r.syncEngine),yield function hw(t,e){return fw.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cJ}createDatastore(e){const n=jc(e.databaseInfo.databaseId),r=new qY(e.databaseInfo);return new QY(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>gO(this.syncEngine,n,0),a=Xk.D()?new Xk:new GY,new ZY(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){const d=new mJ(i,o,s,a,u,c);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return E(function*(){var n,r;yield(r=E(function*(o){const s=R(o);D("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield aa(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}class Mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class BJ{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=$x.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=E(function*(a){D("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new at;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(E(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=la(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Nf(t,e){return qw.apply(this,arguments)}function qw(){return qw=E(function*(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=E(function*(o){r.isEqual(o)||(yield Hk(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),qw.apply(this,arguments)}function Ww(t,e){return Kw.apply(this,arguments)}function Kw(){return Kw=E(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Qw(t){return Yw.apply(this,arguments)}(t);D("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aO(e.remoteStore,i)),t._onlineComponents=e}),Kw.apply(this,arguments)}function Yw(){return Yw=E(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function wO(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;pn("Error using user provided cache. Falling back to memory cache: "+n),yield Nf(t,new Rf)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield Nf(t,new Rf);return t._offlineComponents}),Yw.apply(this,arguments)}function xf(t){return Jw.apply(this,arguments)}function Jw(){return Jw=E(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ww(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield Ww(t,new pa))),t._onlineComponents}),Jw.apply(this,arguments)}function ma(t){return Xw.apply(this,arguments)}function Xw(){return Xw=E(function*(t){const e=yield xf(t),n=e.eventManager;return n.onListen=_J.bind(null,e.syncEngine),n.onUnlisten=yJ.bind(null,e.syncEngine),n}),Xw.apply(this,arguments)}function SO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const PO=new Map;function eT(t,e,n){if(!n)throw new A(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RO(t){if(!M.isDocumentKey(t))throw new A(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MO(t){if(M.isDocumentKey(t))throw new A(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":k()}function re(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(t);throw new A(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class xO{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new A(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function YJ(t,e,n,r){if(!0===e&&!0===r)throw new A(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=SO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new A(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new A(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new A(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xO(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new qK;switch(r.type){case"firstParty":return new YK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PO.get(n);r&&(D("ComponentProvider","Removing Datastore"),PO.delete(n),r.terminate())}(this),Promise.resolve()}}class Dt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dt(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}}class dr extends Dt{constructor(e,n,r){super(e,n,qs(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new M(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Of(t,e,...n){if(t=tr(t),eT("collection","path",e),t instanceof Hc){const r=te.fromString(e,...n);return MO(r),new dr(t,null,r)}{if(!(t instanceof Ze||t instanceof dr))throw new A(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(te.fromString(e,...n));return MO(r),new dr(t.firestore,null,r)}}function tT(t,e,...n){if(t=tr(t),1===arguments.length&&(e=$x.newId()),eT("doc","path",e),t instanceof Hc){const r=te.fromString(e,...n);return RO(r),new Ze(t,null,new M(r))}{if(!(t instanceof Ze||t instanceof dr))throw new A(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(te.fromString(e,...n));return RO(r),new Ze(t.firestore,t instanceof dr?t.converter:null,new M(r))}}class ZJ{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new QE(this,"async_queue_retry"),this._u=()=>{const n=bf();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=bf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new at;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return E(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!fi(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{throw this.ru=r,this.iu=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=pw.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&k()}verifyOperationInProgress(){}hu(){var e=this;return E(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function nT(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class Pe extends Hc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZJ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||OO(this),this._firestoreClient.terminate()}}function eZ(t,e){const r="string"==typeof t?t:e||"(default)",i=function tM(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:rM(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=nh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function JJ(t,e,n,r={}){var i;const o=(t=re(t,Hc))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&pn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=ht.MOCK_USER;else{a=function l6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eh(JSON.stringify({alg:"none",type:"JWT"})),eh(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new A(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ht(c)}t._authCredentials=new WK(new Ux(a,u))}}(i,...o)}return i}function Xe(t){return t._firestoreClient||OO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OO(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new CQ(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,SO(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new BJ(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(ut.fromBase64String(e))}catch(n){throw new A(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new To(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _a{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new A(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class LO{constructor(e){this._methodName=e}}class rT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return H(this._lat,e._lat)||H(this._long,e._long)}}const nZ=/^__.*__$/;class rZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Js(e,this.data,n,this.fieldTransforms)}}function UO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class Vf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Lf(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(UO(this.du)&&nZ.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class iZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jc(e)}Su(e,n,r,i=!1){return new Vf({du:e,methodName:n,wu:r,path:Le.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ya(t){const e=t._freezeSettings(),n=jc(t._databaseId);return new iZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iT(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);cT("Data must be an object, but it was:",s,r);const a=zO(r,s);let u,c;if(o.merge)u=new rn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=Wc(e,d,n);if(!s.contains(h))throw new A(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);WO(l,h)||l.push(h)}u=new rn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new rZ(new Tt(a),u,c)}function Do(t,e){if(qO(t=tr(t)))return cT("Unsupported field value:",e,t),zO(t,e);if(t instanceof LO)return function(r,i){if(!UO(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Do(a,i.gu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=tr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return k1(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=je.fromDate(r);return{timestampValue:Xs(i.serializer,o)}}if(r instanceof je){const o=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xs(i.serializer,o)}}if(r instanceof rT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof To)return{bytesValue:tk(i.serializer,r._byteString)};if(r instanceof Ze){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${kf(r)}`)}(t,e)}function zO(t,e){const n={};return n1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(t,(r,i)=>{const o=Do(i,e.Ru(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function qO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof je||t instanceof rT||t instanceof To||t instanceof Ze||t instanceof LO)}function cT(t,e,n){if(!qO(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=kf(n);throw e.pu("an object"===r?t+" a custom object":t+" "+r)}var i}function Wc(t,e,n){if((e=tr(e))instanceof _a)return e._internalPath;if("string"==typeof e)return Ff(t,e);throw Lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const oZ=new RegExp("[~\\*/\\[\\]]");function Ff(t,e,n){if(e.search(oZ)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _a(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lf(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new A(I.INVALID_ARGUMENT,a+t+u)}function WO(t,e){return t.some(n=>n.isEqual(e))}class lT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class sZ extends lT{data(){return super.data()}}function Bf(t,e){return"string"==typeof e?Ff(t,e):e instanceof _a?e._internalPath:e._delegate._internalPath}class uZ{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new rT(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ef(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){const n=gi(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=te.fromString(e);V(hk(r));const i=new lo(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends lT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gf extends Ia{data(e={}){return super.data(e)}}class Ea{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gf(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Gf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ao(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new Gf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ao(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:lZ(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class Ci extends uZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function eV(t){return Qc(re(t.firestore,Pe),[new Zs(t._key,Be.none())])}function tV(t,e){const n=re(t.firestore,Pe),r=tT(t),i=function hT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Qc(n,[iT(ya(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Be.exists(!1))]).then(()=>r)}function Qc(t,e){return function(r,i){const o=new at;return r.asyncQueue.enqueueAndForget(E(function*(){return function vJ(t,e,n){return Aw.apply(this,arguments)}(yield function Zw(t){return xf(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Xe(t),e)}!function(e,n=!0){Ls=sh,Cs(new Ki("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Pe(new KK(r.getProvider("auth-internal")),new JK(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new A(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Dn(Bx,"4.4.2",e),Dn(Bx,"4.4.2","esm2017")}();var qf=function(){return qf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},qf.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var DZ={includeMetadataChanges:!1};function mT(t,e){return void 0===e&&(e=DZ),new ct(function(n){var r=function dZ(t,...e){var n,r,i;t=tr(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||nT(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(nT(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ze)c=re(t.firestore,Pe),l=qs(t._key.path),u={next:d=>{e[s]&&e[s](function fT(t,e,n){const r=n.docs.get(e._key),i=new Ci(t);return new Ia(t,i,e._key,r,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=re(t,Dt);c=re(d.firestore,Pe),l=d._query;const h=new Ci(c);u={next:f=>{e[s]&&e[s](new Ea(c,h,d,f))},error:e[s+1],complete:e[s+2]},function KO(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new A(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(h,f,p,g){const m=new Mf(g),v=new Iw(f,m,p);return h.asyncQueue.enqueueAndForget(E(function*(){return function gw(t,e){return mw.apply(this,arguments)}(yield ma(h),v)})),()=>{m.La(),h.asyncQueue.enqueueAndForget(E(function*(){return function _w(t,e){return yw.apply(this,arguments)}(yield ma(h),v)}))}}(Xe(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function MZ(t,e){return void 0===e&&(e={}),function RZ(t){return mT(t,{includeMetadataChanges:!0}).pipe(Aa(function(e){return e.docs}))}(t).pipe(Aa(function(n){return n.map(function(r){return function oV(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?qf(qf({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class Yc{constructor(e){return e}}const cV="firestore",vT=new L("angularfire2.firestore-instances");function OZ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Yc(r)}}const VZ={provide:class xZ{constructor(){return X_(cV)}},deps:[[new kn,vT]]},FZ={provide:Yc,useFactory:function kZ(t,e){const n=function fM(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(cV,t,e);return n&&new Yc(n)},deps:[[new kn,vT],Nu]};let LZ=(()=>{class t{constructor(){Dn("angularfire",Z_.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mn({type:t});static \u0275inj=yn({providers:[FZ,VZ]})}return t})();function BZ(t,...e){return{ngModule:LZ,providers:[{provide:vT,useFactory:OZ(t),multi:!0,deps:[Re,ln,gM,mM,[new kn,EN],[new kn,U5],...e]}]}}const lV=ey(MZ,!0),UZ=ey(eZ,!0),{isArray:jZ}=Array,{getPrototypeOf:$Z,prototype:GZ,keys:HZ}=Object;const{isArray:WZ}=Array;function YZ(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function JZ(...t){const e=function oL(t){return Oe(fp(t))?t.pop():void 0}(t),{args:n,keys:r}=function zZ(t){if(1===t.length){const e=t[0];if(jZ(e))return{args:e,keys:null};if(function qZ(t){return t&&"object"==typeof t&&$Z(t)===GZ}(e)){const n=HZ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new ct(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;Gn(n[l]).subscribe(pr(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?YZ(r,a):a),o.complete())}))}});return e?i.pipe(function QZ(t){return Aa(e=>function KZ(t,e){return WZ(e)?t(...e):t(e)}(t,e))}(e)):i}let dV=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ui),b(On))};static#t=this.\u0275dir=K({type:t})}return t})(),Co=(()=>{class t extends dV{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function Ct(t){return gr(()=>{const e=t.prototype.constructor,n=e[mr]||ng(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[mr]||ng(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(t)))(i||t)}}();static#t=this.\u0275dir=K({type:t,features:[me]})}return t})();const hr=new L("NgValueAccessor"),XZ={provide:hr,useExisting:Te(()=>Jc),multi:!0},tX=new L("CompositionEventMode");let Jc=(()=>{class t extends dV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eX(){const t=Du()?Du().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ui),b(On),b(tX,8))};static#t=this.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&$t("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Fe([XZ]),me]})}return t})();const Vt=new L("NgValidators"),Si=new L("NgAsyncValidators");function wV(t){return null!=t}function TV(t){return Td(t)?pp(t):t}function DV(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function AV(t,e){return e.map(n=>n(t))}function CV(t){return t.map(e=>function rX(t){return!t.validate}(e)?e:n=>e.validate(n))}function IT(t){return null!=t?function bV(t){if(!t)return null;const e=t.filter(wV);return 0==e.length?null:function(n){return DV(AV(n,e))}}(CV(t)):null}function ET(t){return null!=t?function SV(t){if(!t)return null;const e=t.filter(wV);return 0==e.length?null:function(n){return JZ(AV(n,e).map(TV)).pipe(Aa(DV))}}(CV(t)):null}function PV(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function RV(t){return t._rawValidators}function MV(t){return t._rawAsyncValidators}function wT(t){return t?Array.isArray(t)?t:[t]:[]}function Kf(t,e){return Array.isArray(t)?t.includes(e):t===e}function NV(t,e){const n=wT(e);return wT(t).forEach(i=>{Kf(n,i)||n.push(i)}),n}function xV(t,e){return wT(e).filter(n=>!Kf(t,n))}class kV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ET(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Kt extends kV{get formDirective(){return null}get path(){return null}}class Pi extends kV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let TT=(()=>{class t extends OV{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Pi,2))};static#t=this.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ad("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[me]})}return t})(),DT=(()=>{class t extends OV{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Kt,10))};static#t=this.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ad("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[me]})}return t})();const Zc="VALID",Yf="INVALID",wa="PENDING",Xc="DISABLED";function bT(t){return(Jf(t)?t.validators:t)||null}function ST(t,e){return(Jf(e)?e.asyncValidators:t)||null}function Jf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class BV{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zc}get invalid(){return this.status===Yf}get pending(){return this.status==wa}get disabled(){return this.status===Xc}get enabled(){return this.status!==Xc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(NV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xV(e,this._rawAsyncValidators))}hasValidator(e){return Kf(this._rawValidators,e)}hasAsyncValidator(e){return Kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Xc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zc||this.status===wa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xc:Zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wa,this._hasOwnPendingAsyncValidator=!0;const n=TV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new St,this.statusChanges=new St}_calculateStatus(){return this._allControlsDisabled()?Xc:this.errors?Yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wa)?wa:this._anyControlsHaveStatus(Yf)?Yf:Zc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function aX(t){return Array.isArray(t)?IT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function uX(t){return Array.isArray(t)?ET(t):t||null}(this._rawAsyncValidators)}}class el extends BV{constructor(e,n,r){super(bT(n),ST(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function LV(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function FV(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const bo=new L("CallSetDisabledState",{providedIn:"root",factory:()=>tl}),tl="always";function nl(t,e,n=tl){PT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function dX(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&UV(t,e)})}(t,e),function fX(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function hX(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&UV(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function lX(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Xf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ep(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PT(t,e){const n=RV(t);null!==e.validator?t.setValidators(PV(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=MV(t);null!==e.asyncValidator?t.setAsyncValidators(PV(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();ep(e._rawValidators,i),ep(e._rawAsyncValidators,i)}function tp(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=RV(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=MV(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return ep(e._rawValidators,r),ep(e._rawAsyncValidators,r),n}function UV(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function GV(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function HV(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const fr=class extends BV{constructor(e=null,n,r){super(bT(n),ST(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=HV(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){HV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let kT=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),YV=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=yn({})}return t})();const OT=new L("NgModelWithFormControlWarning"),bX={provide:Kt,useExisting:Te(()=>il)};let il=(()=>{class t extends Kt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new St,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return nl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Xf(n.control||null,n,!1),function _X(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function $V(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Xf(r||null,n),(t=>t instanceof fr)(i)&&(nl(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function jV(t,e){PT(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function pX(t,e){return tp(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PT(this.form,this),this._oldForm&&tp(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(b(Vt,10),b(Si,10),b(bo,8))};static#t=this.\u0275dir=K({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&$t("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fe([bX]),me,yr]})}return t})();const RX={provide:Pi,useExisting:Te(()=>np)};let np=(()=>{class t extends Pi{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new St,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function NT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Jc?n=o:function mX(t){return Object.getPrototypeOf(t.constructor)===Co}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function MT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Zf(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(b(Kt,13),b(Vt,10),b(Si,10),b(hr,10),b(OT,8))};static#n=this.\u0275dir=K({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fe([RX]),me,yr]})}return t})(),hF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=yn({imports:[YV]})}return t})(),qX=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:bo,useValue:n.callSetDisabledState??tl}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=yn({imports:[hF]})}return t})(),WX=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:OT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:bo,useValue:n.callSetDisabledState??tl}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=yn({imports:[hF]})}return t})(),fF=(()=>{class t{constructor(n){this.firestore=n}addPlace(n){return tV(Of(this.firestore,"places"),n)}getPlaces(){const n=Of(this.firestore,"places");return lV(n,{idField:"id"})}deletePlace(n){return eV(tT(this.firestore,`places/${n.id}`))}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Yc))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KX=(()=>{class t{constructor(n){this.placesService=n,this.formulario=new el({title:new fr,ingredients:new fr,process:new fr,autor:new fr})}ngOnInit(){}onSubmit(){var n=this;return E(function*(){console.log(n.formulario.value);const r=yield n.placesService.addPlace(n.formulario.value);console.log("AQUI!!!",r)})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(fF))};static#t=this.\u0275cmp=Mo({type:t,selectors:[["app-new-form"]],decls:23,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","title",1,"form-control"],["id","","cols","30","rows","10","formControlName","ingredients",1,"form-control"],["id","","cols","30","rows","10","formControlName","process",1,"form-control"],["type","text","formControlName","autor",1,"form-control"],["type","submit"]],template:function(r,i){1&r&&(X(0,"form",0),$t("ngSubmit",function(){return i.onSubmit()}),X(1,"div")(2,"p"),_e(3,"INGRESA LOS DATOS PARA EL REGISTRO DE NUEVAS RECETAS"),G()(),X(4,"div",1)(5,"label",2),_e(6,"Titulo:"),G(),Rt(7,"input",3),G(),X(8,"div",1)(9,"label",2),_e(10,"Ingredientes:"),G(),Rt(11,"textarea",4),G(),X(12,"div",1)(13,"label",2),_e(14,"Proceso:"),G(),Rt(15,"textarea",5),G(),X(16,"div",1)(17,"label",2),_e(18,"Autor:"),G(),Rt(19,"input",6),G(),X(20,"div",1)(21,"button",7),_e(22,"Agregar"),G()()()),2&r&&ys("formGroup",i.formulario)},dependencies:[kT,Jc,TT,DT,il,np],styles:["@font-face{font-family:akaya;src:url(AkayaTelivigala-Regular.bd90faeef7840ff2.ttf)}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{text-align:center;font-family:akaya;font-size:25px}.mb-3[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.mb-3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:40%;margin:1%;border:4px solid #FF7F27;border-radius:10px}button[_ngcontent-%COMP%]{background-color:#22b14c;border-radius:10px;width:30%;border:4px solid rgba(32,168,73,.318);color:#fff}"]})}return t})();function QX(t,e){if(1&t){const n=wm();X(0,"div",2)(1,"div",3)(2,"h5"),_e(3,"RECETA: "),G(),X(4,"p"),_e(5),G(),X(6,"h5"),_e(7,"INGREDIENTES:"),G(),X(8,"p"),_e(9),G(),X(10,"h5"),_e(11,"PROCESO: "),G(),X(12,"p"),_e(13),G(),X(14,"h5"),_e(15,"AUTOR: "),G(),X(16,"p"),_e(17),G(),X(18,"button",4),$t("click",function(){const o=jp(n).$implicit;return $p(Tm().onClickDelete(o))}),_e(19,"QUITAR"),G()()()}if(2&t){const n=e.$implicit;Vn(5),Is(n.title),Vn(4),Is(n.ingredients),Vn(4),Is(n.process),Vn(4),Is(n.autor)}}let YX=(()=>{class t{constructor(n){this.PlacesService=n,this.places=[{title:"Prueba de sitio",ingredients:"321",process:"-3",autor:"NN"}]}ngOnInit(){this.PlacesService.getPlaces().subscribe(n=>{this.places=n})}onClickDelete(n){var r=this;return E(function*(){r.PlacesService.deletePlace(n),console.log("Eliminado con exito")})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(fF))};static#t=this.\u0275cmp=Mo({type:t,selectors:[["app-list"]],decls:4,vars:1,consts:[[1,"listas"],["class","receta",4,"ngFor","ngForOf"],[1,"receta"],[1,"info"],[3,"click"]],template:function(r,i){1&r&&(X(0,"div",0)(1,"p"),_e(2,"LISTA DE RECETAS GUARDADAS EN LA BASE DE DATOS"),G(),ym(3,QX,20,4,"div",1),G()),2&r&&(Vn(3),ys("ngForOf",i.places))},dependencies:[I_],styles:["@font-face{font-family:akaya;src:url(AkayaTelivigala-Regular.bd90faeef7840ff2.ttf)}p[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:akaya;font-size:25px;text-align:center;line-height:15px}.listas[_ngcontent-%COMP%]{display:block;justify-content:center;flex-direction:column;align-items:center;height:50%;scroll-behavior:smooth}.receta[_ngcontent-%COMP%]{border:6px double #FF7F27;border-radius:15px;width:80%;margin-bottom:5%}button[_ngcontent-%COMP%]{font-family:akaya;font-size:25px;background-color:#22b14c;border:4px solid #22b14d7c;border-radius:10px;color:#fff}"]})}return t})(),pF=(()=>{class t{constructor(n){this.firestore=n}addSweet(n){return tV(Of(this.firestore,"sweets"),n)}getSweets(){const n=Of(this.firestore,"sweets");return lV(n,{idField:"id"})}deleteSweet(n){return eV(tT(this.firestore,`sweets/${n.id}`))}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Yc))};static#t=this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JX=(()=>{class t{constructor(n){this.sweetsServices=n,this.formsweets=new el({title:new fr,ingredients:new fr,process:new fr,autor:new fr})}enviarPostre(){var n=this;return E(function*(){const r=yield n.sweetsServices.addSweet(n.formsweets.value);console.log("Enviado: ",r)})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(pF))};static#t=this.\u0275cmp=Mo({type:t,selectors:[["app-new-sweet"]],decls:23,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","title",1,"form-control"],["cols","30","rows","10","formControlName","ingredients",1,"form-control"],["cols","30","rows","10","formControlName","process",1,"form-control"],["type","text","formControlName","autor",1,"form-control"],["type","submit"]],template:function(r,i){1&r&&(X(0,"form",0),$t("ngSubmit",function(){return i.enviarPostre()}),X(1,"div")(2,"p"),_e(3,"AQUI PUEDES INGRESAR LAS RECETAS PARA NUEVOS POSTRES."),G()(),X(4,"div",1)(5,"label",2),_e(6,"Titulo"),G(),Rt(7,"input",3),G(),X(8,"div",1)(9,"label",2),_e(10,"Ingredientes"),G(),Rt(11,"textarea",4),G(),X(12,"div",1)(13,"label",2),_e(14,"Proceso"),G(),Rt(15,"textarea",5),G(),X(16,"div",1)(17,"label",2),_e(18,"Autor"),G(),Rt(19,"input",6),G(),X(20,"div",1)(21,"button",7),_e(22,"AGREGAR POSTRE"),G()()()),2&r&&ys("formGroup",i.formsweets)},dependencies:[kT,Jc,TT,DT,il,np],styles:["@font-face{font-family:akaya;src:url(AkayaTelivigala-Regular.bd90faeef7840ff2.ttf)}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{text-align:center;font-family:akaya;font-size:25px}.mb-3[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.mb-3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:40%;margin:1%;border:4px solid #FFC90E;border-radius:10px}button[_ngcontent-%COMP%]{background-color:#22b14c;border-radius:10px;width:30%;border:4px solid rgba(32,168,73,.318);color:#fff}"]})}return t})();function ZX(t,e){if(1&t){const n=wm();X(0,"div",2)(1,"div",3)(2,"h4"),_e(3),G(),X(4,"p"),_e(5),G(),X(6,"p"),_e(7),G(),X(8,"p"),_e(9),G(),X(10,"button",4),$t("click",function(){const o=jp(n).$implicit;return $p(Tm().deleteS(o))}),_e(11,"QUITAR"),G()()()}if(2&t){const n=e.$implicit;Vn(3),Gi("TITULO: ",n.title,""),Vn(2),Gi("INGREDIENTES: ",n.ingredients,""),Vn(2),Gi("PROCESO: ",n.process,""),Vn(2),Gi("AUTOR: ",n.autor,"")}}let XX=(()=>{class t{constructor(n){this.SweetsServices=n,this.listaPostres=[{title:"Titulo",ingredients:"prueba",process:"prueba",autor:"prueba"}]}ngOnInit(){this.SweetsServices.getSweets().subscribe(n=>{this.listaPostres=n})}deleteS(n){var r=this;return E(function*(){r.SweetsServices.deleteSweet(n),console.log("Exitosamente eliminado")})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(pF))};static#t=this.\u0275cmp=Mo({type:t,selectors:[["app-list-sweet"]],decls:4,vars:1,consts:[[1,"listaP"],["class","recetaP",4,"ngFor","ngForOf"],[1,"recetaP"],[1,"infoP"],[3,"click"]],template:function(r,i){1&r&&(X(0,"div",0)(1,"p"),_e(2,"LISTA DE RECETAS DE POSTRES GUARDADAS EN LA BASE DE DATOS"),G(),ym(3,ZX,12,4,"div",1),G()),2&r&&(Vn(3),ys("ngForOf",i.listaPostres))},dependencies:[I_],styles:["@font-face{font-family:akaya;src:url(AkayaTelivigala-Regular.bd90faeef7840ff2.ttf)}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], button[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:akaya;font-size:25px}.listaP[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.recetaP[_ngcontent-%COMP%]{border:6px solid #FFC90E;border-radius:15px;width:80%;margin-bottom:5%}button[_ngcontent-%COMP%]{background-color:#22b14c;border:4px solid #22b14d7c;border-radius:10px;color:#fff}"]})}return t})(),eee=(()=>{class t{constructor(){this.title="TurismoA"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Mo({type:t,selectors:[["app-root"]],decls:14,vars:0,consts:[[1,"white"],["src","../assets/imagenes/simbolo.png","alt","simbolo-recetas"],[1,"orange"],[1,"form"],[1,"list"],[1,"mainI"],[1,"form-sweet"],[1,"list-sweet"]],template:function(r,i){1&r&&(X(0,"header")(1,"div",0),Rt(2,"img",1),G(),Rt(3,"div",2),G(),X(4,"main")(5,"section",3),Rt(6,"app-new-form"),G(),X(7,"section",4),Rt(8,"app-list"),G()(),X(9,"div",5)(10,"section",6),Rt(11,"app-new-sweet"),G(),X(12,"section",7),Rt(13,"app-list-sweet"),G()())},dependencies:[KX,YX,JX,XX],styles:['header[_ngcontent-%COMP%]{border:4px solid #FF7F27;height:5rem;margin-bottom:4%}.white[_ngcontent-%COMP%]{width:80%;height:5rem;display:block;position:absolute;z-index:2}.white[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5%;height:95%;margin-left:8%}.white[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-20;width:35%;height:5rem;background:transparent;transform:skew(40deg)}.orange[_ngcontent-%COMP%]{background-color:#ff7f27;height:5rem;width:65%;right:0;display:block;position:absolute;z-index:1}.orange[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-32px;width:65%;height:5rem;background:#FF7F27;transform:skew(40deg)}main[_ngcontent-%COMP%]{max-width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;gap:40px}.mainI[_ngcontent-%COMP%]{max-width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;gap:40px;margin-top:2%}']})}return t})(),tee=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t,bootstrap:[eee]});static#n=this.\u0275inj=yn({imports:[G9,qX,WX,Z5(()=>X5(Y9_firebase)),BZ(()=>UZ())]})}return t})();j9().bootstrapModule(tee).catch(t=>console.error(t))}},Oe=>{Oe(Oe.s=316)}]);